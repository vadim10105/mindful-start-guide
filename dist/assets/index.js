var Lm=e=>{throw TypeError(e)};var rd=(e,t,r)=>t.has(e)||Lm("Cannot "+r);var K=(e,t,r)=>(rd(e,t,"read from private field"),r?r.call(e):t.get(e)),Oe=(e,t,r)=>t.has(e)?Lm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),we=(e,t,r,n)=>(rd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),bt=(e,t,r)=>(rd(e,t,"access private method"),r);var nl=(e,t,r,n)=>({set _(s){we(e,t,s,r)},get _(){return K(e,t,n)}});function pk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var X0={exports:{}},tu={},Q0={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),gk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),wk=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),_k=Symbol.for("react.suspense"),kk=Symbol.for("react.memo"),Ek=Symbol.for("react.lazy"),$m=Symbol.iterator;function Tk(e){return e===null||typeof e!="object"?null:(e=$m&&e[$m]||e["@@iterator"],typeof e=="function"?e:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z0=Object.assign,ey={};function mo(e,t,r){this.props=e,this.context=t,this.refs=ey,this.updater=r||J0}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ty(){}ty.prototype=mo.prototype;function Fh(e,t,r){this.props=e,this.context=t,this.refs=ey,this.updater=r||J0}var Uh=Fh.prototype=new ty;Uh.constructor=Fh;Z0(Uh,mo.prototype);Uh.isPureReactComponent=!0;var zm=Array.isArray,ry=Object.prototype.hasOwnProperty,Bh={current:null},ny={key:!0,ref:!0,__self:!0,__source:!0};function sy(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ry.call(t,n)&&!ny.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ba,type:e,key:i,ref:o,props:s,_owner:Bh.current}}function Ck(e,t){return{$$typeof:Ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ba}function Pk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fm=/\/+/g;function nd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pk(""+e.key):t.toString(36)}function Ul(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ba:case gk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+nd(o,0):n,zm(s)?(r="",e!=null&&(r=e.replace(Fm,"$&/")+"/"),Ul(s,t,r,"",function(c){return c})):s!=null&&(Vh(s)&&(s=Ck(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",zm(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+nd(i,a);o+=Ul(i,t,r,l,s)}else if(l=Tk(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+nd(i,a++),o+=Ul(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sl(e,t,r){if(e==null)return e;var n=[],s=0;return Ul(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},Bl={transition:null},Nk={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:Bh};function iy(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:sl,forEach:function(e,t,r){sl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sl(e,function(){t++}),t},toArray:function(e){return sl(e,function(t){return t})||[]},only:function(e){if(!Vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=mo;ke.Fragment=vk;ke.Profiler=wk;ke.PureComponent=Fh;ke.StrictMode=yk;ke.Suspense=_k;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;ke.act=iy;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Z0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ry.call(t,l)&&!ny.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Ba,type:e.type,key:s,ref:i,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:bk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xk,_context:e},e.Consumer=e};ke.createElement=sy;ke.createFactory=function(e){var t=sy.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:Sk,render:e}};ke.isValidElement=Vh;ke.lazy=function(e){return{$$typeof:Ek,_payload:{_status:-1,_result:e},_init:jk}};ke.memo=function(e,t){return{$$typeof:kk,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Bl.transition;Bl.transition={};try{e()}finally{Bl.transition=t}};ke.unstable_act=iy;ke.useCallback=function(e,t){return Mt.current.useCallback(e,t)};ke.useContext=function(e){return Mt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Mt.current.useEffect(e,t)};ke.useId=function(){return Mt.current.useId()};ke.useImperativeHandle=function(e,t,r){return Mt.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Mt.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return Mt.current.useReducer(e,t,r)};ke.useRef=function(e){return Mt.current.useRef(e)};ke.useState=function(e){return Mt.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return Mt.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return Mt.current.useTransition()};ke.version="18.3.1";Q0.exports=ke;var p=Q0.exports;const B=Y0(p),oy=pk({__proto__:null,default:B},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=p,Ak=Symbol.for("react.element"),Ik=Symbol.for("react.fragment"),Ok=Object.prototype.hasOwnProperty,Mk=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dk={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ok.call(t,n)&&!Dk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ak,type:e,key:i,ref:o,props:s,_owner:Mk.current}}tu.Fragment=Ik;tu.jsx=ay;tu.jsxs=ay;X0.exports=tu;var d=X0.exports,ly={exports:{}},lr={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,D){var F=j.length;j.push(D);e:for(;0<F;){var U=F-1>>>1,Y=j[U];if(0<s(Y,D))j[U]=D,j[F]=Y,F=U;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var D=j[0],F=j.pop();if(F!==D){j[0]=F;e:for(var U=0,Y=j.length,re=Y>>>1;U<re;){var se=2*(U+1)-1,Se=j[se],ee=se+1,ce=j[ee];if(0>s(Se,F))ee<Y&&0>s(ce,Se)?(j[U]=ce,j[ee]=F,U=ee):(j[U]=Se,j[se]=F,U=se);else if(ee<Y&&0>s(ce,F))j[U]=ce,j[ee]=F,U=ee;else break e}}return D}function s(j,D){var F=j.sortIndex-D.sortIndex;return F!==0?F:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=j)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function S(j){if(g=!1,b(j),!y)if(r(l)!==null)y=!0,O(_);else{var D=r(c);D!==null&&z(S,D.startTime-j)}}function _(j,D){y=!1,g&&(g=!1,v(T),T=-1),m=!0;var F=h;try{for(b(D),f=r(l);f!==null&&(!(f.expirationTime>D)||j&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var Y=U(f.expirationTime<=D);D=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),b(D)}else n(l);f=r(l)}if(f!==null)var re=!0;else{var se=r(c);se!==null&&z(S,se.startTime-D),re=!1}return re}finally{f=null,h=F,m=!1}}var k=!1,C=null,T=-1,P=5,E=-1;function A(){return!(e.unstable_now()-E<P)}function I(){if(C!==null){var j=e.unstable_now();E=j;var D=!0;try{D=C(!0,j)}finally{D?L():(k=!1,C=null)}}else k=!1}var L;if(typeof x=="function")L=function(){x(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=I,L=function(){$.postMessage(null)}}else L=function(){w(I,0)};function O(j){C=j,k||(k=!0,L())}function z(j,D){T=w(function(){j(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,O(_))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var F=h;h=D;try{return j()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=h;h=j;try{return D()}finally{h=F}},e.unstable_scheduleCallback=function(j,D,F){var U=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=F+Y,j={id:u++,callback:D,priorityLevel:j,startTime:F,expirationTime:Y,sortIndex:-1},F>U?(j.sortIndex=F,t(c,j),r(l)===null&&j===r(c)&&(g?(v(T),T=-1):g=!0,z(S,F-U))):(j.sortIndex=Y,t(l,j),y||m||(y=!0,O(_))),j},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(j){var D=h;return function(){var F=h;h=D;try{return j.apply(this,arguments)}finally{h=F}}}})(uy);cy.exports=uy;var Lk=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=p,ar=Lk;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dy=new Set,ha={};function ri(e,t){ro(e,t),ro(e+"Capture",t)}function ro(e,t){for(ha[e]=t,e=0;e<t.length;e++)dy.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},Bm={};function Fk(e){return pf.call(Bm,e)?!0:pf.call(Um,e)?!1:zk.test(e)?Bm[e]=!0:(Um[e]=!0,!1)}function Uk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bk(e,t,r,n){if(t===null||typeof t>"u"||Uk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wh=/[\-:]([a-z])/g;function Hh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wh,Hh);yt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wh,Hh);yt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wh,Hh);yt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qh(e,t,r,n){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bk(t,r,s,n)&&(r=null),n||s===null?Fk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pn=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),fy=Symbol.for("react.provider"),hy=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),vf=Symbol.for("react.suspense_list"),Yh=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),py=Symbol.for("react.offscreen"),Vm=Symbol.iterator;function No(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,sd;function Uo(e){if(sd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sd=t&&t[1]||""}return`
`+sd+e}var id=!1;function od(e,t){if(!e||id)return"";id=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{id=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uo(e):""}function Vk(e){switch(e.tag){case 5:return Uo(e.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return e=od(e.type,!1),e;case 11:return e=od(e.type.render,!1),e;case 1:return e=od(e.type,!0),e;default:return""}}function yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case ki:return"Portal";case mf:return"Profiler";case Gh:return"StrictMode";case gf:return"Suspense";case vf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hy:return(e.displayName||"Context")+".Consumer";case fy:return(e._context.displayName||"Context")+".Provider";case Kh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yh:return t=e.displayName||null,t!==null?t:yf(e.type)||"Memo";case zn:t=e._payload,e=e._init;try{return yf(e(t))}catch{}}return null}function Wk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(t);case 8:return t===Gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function my(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hk(e){var t=my(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=Hk(e))}function gy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=my(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wf(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=us(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vy(e,t){t=t.checked,t!=null&&qh(e,"checked",t,!1)}function xf(e,t){vy(e,t);var r=us(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bf(e,t.type,r):t.hasOwnProperty("defaultValue")&&bf(e,t.type,us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bf(e,t,r){(t!=="number"||ac(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bo=Array.isArray;function Di(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+us(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Bo(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:us(r)}}function yy(e,t){var r=us(t.value),n=us(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var al,xy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qk=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(e){qk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Go[t]=Go[e]})});function by(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Go.hasOwnProperty(e)&&Go[e]?(""+t).trim():t+"px"}function Sy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=by(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Gk=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(e,t){if(t){if(Gk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function Xh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cf=null,Li=null,$i=null;function Km(e){if(e=Ha(e)){if(typeof Cf!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=ou(t),Cf(e.stateNode,e.type,t))}}function _y(e){Li?$i?$i.push(e):$i=[e]:Li=e}function ky(){if(Li){var e=Li,t=$i;if($i=Li=null,Km(e),t)for(e=0;e<t.length;e++)Km(t[e])}}function Ey(e,t){return e(t)}function Ty(){}var ad=!1;function Cy(e,t,r){if(ad)return e(t,r);ad=!0;try{return Ey(e,t,r)}finally{ad=!1,(Li!==null||$i!==null)&&(Ty(),ky())}}function ma(e,t){var r=e.stateNode;if(r===null)return null;var n=ou(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var Pf=!1;if(bn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Pf=!1}function Kk(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ko=!1,lc=null,cc=!1,jf=null,Yk={onError:function(e){Ko=!0,lc=e}};function Xk(e,t,r,n,s,i,o,a,l){Ko=!1,lc=null,Kk.apply(Yk,arguments)}function Qk(e,t,r,n,s,i,o,a,l){if(Xk.apply(this,arguments),Ko){if(Ko){var c=lc;Ko=!1,lc=null}else throw Error(Q(198));cc||(cc=!0,jf=c)}}function ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ym(e){if(ni(e)!==e)throw Error(Q(188))}function Jk(e){var t=e.alternate;if(!t){if(t=ni(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ym(s),e;if(i===n)return Ym(s),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function jy(e){return e=Jk(e),e!==null?Ny(e):null}function Ny(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ny(e);if(t!==null)return t;e=e.sibling}return null}var Ry=ar.unstable_scheduleCallback,Xm=ar.unstable_cancelCallback,Zk=ar.unstable_shouldYield,eE=ar.unstable_requestPaint,et=ar.unstable_now,tE=ar.unstable_getCurrentPriorityLevel,Qh=ar.unstable_ImmediatePriority,Ay=ar.unstable_UserBlockingPriority,uc=ar.unstable_NormalPriority,rE=ar.unstable_LowPriority,Iy=ar.unstable_IdlePriority,ru=null,tn=null;function nE(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ru,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:oE,sE=Math.log,iE=Math.LN2;function oE(e){return e>>>=0,e===0?32:31-(sE(e)/iE|0)|0}var ll=64,cl=4194304;function Vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Vo(a):(i&=o,i!==0&&(n=Vo(i)))}else o=r&~s,o!==0?n=Vo(o):i!==0&&(n=Vo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dr(t),s=1<<r,n|=e[r],t&=~s;return n}function aE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=aE(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Nf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oy(){var e=ll;return ll<<=1,!(ll&4194240)&&(ll=64),e}function ld(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Va(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=r}function cE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Dr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Le=0;function My(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dy,Zh,Ly,$y,zy,Rf=!1,ul=[],ts=null,rs=null,ns=null,ga=new Map,va=new Map,Vn=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Ao(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ha(t),t!==null&&Zh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dE(e,t,r,n,s){switch(t){case"focusin":return ts=Ao(ts,e,t,r,n,s),!0;case"dragenter":return rs=Ao(rs,e,t,r,n,s),!0;case"mouseover":return ns=Ao(ns,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ga.set(i,Ao(ga.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,va.set(i,Ao(va.get(i)||null,e,t,r,n,s)),!0}return!1}function Fy(e){var t=Ds(e.target);if(t!==null){var r=ni(t);if(r!==null){if(t=r.tag,t===13){if(t=Py(r),t!==null){e.blockedOn=t,zy(e.priority,function(){Ly(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Af(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Tf=n,r.target.dispatchEvent(n),Tf=null}else return t=Ha(r),t!==null&&Zh(t),e.blockedOn=r,!1;t.shift()}return!0}function Jm(e,t,r){Vl(e)&&r.delete(t)}function fE(){Rf=!1,ts!==null&&Vl(ts)&&(ts=null),rs!==null&&Vl(rs)&&(rs=null),ns!==null&&Vl(ns)&&(ns=null),ga.forEach(Jm),va.forEach(Jm)}function Io(e,t){e.blockedOn===t&&(e.blockedOn=null,Rf||(Rf=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,fE)))}function ya(e){function t(s){return Io(s,e)}if(0<ul.length){Io(ul[0],e);for(var r=1;r<ul.length;r++){var n=ul[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ts!==null&&Io(ts,e),rs!==null&&Io(rs,e),ns!==null&&Io(ns,e),ga.forEach(t),va.forEach(t),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)Fy(r),r.blockedOn===null&&Vn.shift()}var zi=Pn.ReactCurrentBatchConfig,fc=!0;function hE(e,t,r,n){var s=Le,i=zi.transition;zi.transition=null;try{Le=1,ep(e,t,r,n)}finally{Le=s,zi.transition=i}}function pE(e,t,r,n){var s=Le,i=zi.transition;zi.transition=null;try{Le=4,ep(e,t,r,n)}finally{Le=s,zi.transition=i}}function ep(e,t,r,n){if(fc){var s=Af(e,t,r,n);if(s===null)yd(e,t,n,hc,r),Qm(e,n);else if(dE(s,e,t,r,n))n.stopPropagation();else if(Qm(e,n),t&4&&-1<uE.indexOf(e)){for(;s!==null;){var i=Ha(s);if(i!==null&&Dy(i),i=Af(e,t,r,n),i===null&&yd(e,t,n,hc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yd(e,t,n,null,r)}}var hc=null;function Af(e,t,r,n){if(hc=null,e=Xh(n),e=Ds(e),e!==null)if(t=ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Py(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hc=e,null}function Uy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tE()){case Qh:return 1;case Ay:return 4;case uc:case rE:return 16;case Iy:return 536870912;default:return 16}default:return 16}}var Qn=null,tp=null,Wl=null;function By(){if(Wl)return Wl;var e,t=tp,r=t.length,n,s="value"in Qn?Qn.value:Qn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Wl=s.slice(e,1<n?1-n:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dl(){return!0}function Zm(){return!1}function cr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dl:Zm,this.isPropagationStopped=Zm,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=cr(go),Wa=Ye({},go,{view:0,detail:0}),mE=cr(Wa),cd,ud,Oo,nu=Ye({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(cd=e.screenX-Oo.screenX,ud=e.screenY-Oo.screenY):ud=cd=0,Oo=e),cd)},movementY:function(e){return"movementY"in e?e.movementY:ud}}),eg=cr(nu),gE=Ye({},nu,{dataTransfer:0}),vE=cr(gE),yE=Ye({},Wa,{relatedTarget:0}),dd=cr(yE),wE=Ye({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),xE=cr(wE),bE=Ye({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=cr(bE),_E=Ye({},go,{data:0}),tg=cr(_E),kE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function np(){return CE}var PE=Ye({},Wa,{key:function(e){if(e.key){var t=kE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jE=cr(PE),NE=Ye({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=cr(NE),RE=Ye({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),AE=cr(RE),IE=Ye({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),OE=cr(IE),ME=Ye({},nu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DE=cr(ME),LE=[9,13,27,32],sp=bn&&"CompositionEvent"in window,Yo=null;bn&&"documentMode"in document&&(Yo=document.documentMode);var $E=bn&&"TextEvent"in window&&!Yo,Vy=bn&&(!sp||Yo&&8<Yo&&11>=Yo),ng=" ",sg=!1;function Wy(e,t){switch(e){case"keyup":return LE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function zE(e,t){switch(e){case"compositionend":return Hy(t);case"keypress":return t.which!==32?null:(sg=!0,ng);case"textInput":return e=t.data,e===ng&&sg?null:e;default:return null}}function FE(e,t){if(Ti)return e==="compositionend"||!sp&&Wy(e,t)?(e=By(),Wl=tp=Qn=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vy&&t.locale!=="ko"?null:t.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UE[e.type]:t==="textarea"}function qy(e,t,r,n){_y(n),t=pc(t,"onChange"),0<t.length&&(r=new rp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xo=null,wa=null;function BE(e){nw(e,0)}function su(e){var t=ji(e);if(gy(t))return e}function VE(e,t){if(e==="change")return t}var Gy=!1;if(bn){var fd;if(bn){var hd="oninput"in document;if(!hd){var og=document.createElement("div");og.setAttribute("oninput","return;"),hd=typeof og.oninput=="function"}fd=hd}else fd=!1;Gy=fd&&(!document.documentMode||9<document.documentMode)}function ag(){Xo&&(Xo.detachEvent("onpropertychange",Ky),wa=Xo=null)}function Ky(e){if(e.propertyName==="value"&&su(wa)){var t=[];qy(t,wa,e,Xh(e)),Cy(BE,t)}}function WE(e,t,r){e==="focusin"?(ag(),Xo=t,wa=r,Xo.attachEvent("onpropertychange",Ky)):e==="focusout"&&ag()}function HE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su(wa)}function qE(e,t){if(e==="click")return su(t)}function GE(e,t){if(e==="input"||e==="change")return su(t)}function KE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $r=typeof Object.is=="function"?Object.is:KE;function xa(e,t){if($r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!pf.call(t,s)||!$r(e[s],t[s]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,t){var r=lg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lg(r)}}function Yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xy(){for(var e=window,t=ac();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ac(e.document)}return t}function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YE(e){var t=Xy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yy(r.ownerDocument.documentElement,r)){if(n!==null&&ip(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=cg(r,i);var o=cg(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XE=bn&&"documentMode"in document&&11>=document.documentMode,Ci=null,If=null,Qo=null,Of=!1;function ug(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Of||Ci==null||Ci!==ac(n)||(n=Ci,"selectionStart"in n&&ip(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qo&&xa(Qo,n)||(Qo=n,n=pc(If,"onSelect"),0<n.length&&(t=new rp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ci)))}function fl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pi={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},pd={},Qy={};bn&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function iu(e){if(pd[e])return pd[e];if(!Pi[e])return e;var t=Pi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qy)return pd[e]=t[r];return e}var Jy=iu("animationend"),Zy=iu("animationiteration"),ew=iu("animationstart"),tw=iu("transitionend"),rw=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){rw.set(e,t),ri(t,[e])}for(var md=0;md<dg.length;md++){var gd=dg[md],QE=gd.toLowerCase(),JE=gd[0].toUpperCase()+gd.slice(1);vs(QE,"on"+JE)}vs(Jy,"onAnimationEnd");vs(Zy,"onAnimationIteration");vs(ew,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(tw,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function fg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qk(n,t,void 0,e),e.currentTarget=null}function nw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;fg(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;fg(s,a,c),i=l}}}if(cc)throw e=jf,cc=!1,jf=null,e}function Be(e,t){var r=t[zf];r===void 0&&(r=t[zf]=new Set);var n=e+"__bubble";r.has(n)||(sw(t,e,2,!1),r.add(n))}function vd(e,t,r){var n=0;t&&(n|=4),sw(r,e,n,t)}var hl="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[hl]){e[hl]=!0,dy.forEach(function(r){r!=="selectionchange"&&(ZE.has(r)||vd(r,!1,e),vd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hl]||(t[hl]=!0,vd("selectionchange",!1,t))}}function sw(e,t,r,n){switch(Uy(t)){case 1:var s=hE;break;case 4:s=pE;break;default:s=ep}r=s.bind(null,t,r,e),s=void 0,!Pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function yd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ds(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Cy(function(){var c=i,u=Xh(r),f=[];e:{var h=rw.get(e);if(h!==void 0){var m=rp,y=e;switch(e){case"keypress":if(Hl(r)===0)break e;case"keydown":case"keyup":m=jE;break;case"focusin":y="focus",m=dd;break;case"focusout":y="blur",m=dd;break;case"beforeblur":case"afterblur":m=dd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AE;break;case Jy:case Zy:case ew:m=xE;break;case tw:m=OE;break;case"scroll":m=mE;break;case"wheel":m=DE;break;case"copy":case"cut":case"paste":m=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rg}var g=(t&4)!==0,w=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=ma(x,v),S!=null&&g.push(Sa(x,S,b)))),w)break;x=x.return}0<g.length&&(h=new m(h,y,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Tf&&(y=r.relatedTarget||r.fromElement)&&(Ds(y)||y[Sn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?Ds(y):null,y!==null&&(w=ni(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=eg,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=rg,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=m==null?h:ji(m),b=y==null?h:ji(y),h=new g(S,x+"leave",m,r,u),h.target=w,h.relatedTarget=b,S=null,Ds(u)===c&&(g=new g(v,x+"enter",y,r,u),g.target=b,g.relatedTarget=w,S=g),w=S,m&&y)t:{for(g=m,v=y,x=0,b=g;b;b=hi(b))x++;for(b=0,S=v;S;S=hi(S))b++;for(;0<x-b;)g=hi(g),x--;for(;0<b-x;)v=hi(v),b--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=hi(g),v=hi(v)}g=null}else g=null;m!==null&&hg(f,h,m,g,!1),y!==null&&w!==null&&hg(f,w,y,g,!0)}}e:{if(h=c?ji(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=VE;else if(ig(h))if(Gy)_=GE;else{_=HE;var k=WE}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=qE);if(_&&(_=_(e,c))){qy(f,_,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&bf(h,"number",h.value)}switch(k=c?ji(c):window,e){case"focusin":(ig(k)||k.contentEditable==="true")&&(Ci=k,If=c,Qo=null);break;case"focusout":Qo=If=Ci=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,ug(f,r,u);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":ug(f,r,u)}var C;if(sp)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ti?Wy(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Vy&&r.locale!=="ko"&&(Ti||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ti&&(C=By()):(Qn=u,tp="value"in Qn?Qn.value:Qn.textContent,Ti=!0)),k=pc(c,T),0<k.length&&(T=new tg(T,e,null,r,u),f.push({event:T,listeners:k}),C?T.data=C:(C=Hy(r),C!==null&&(T.data=C)))),(C=$E?zE(e,r):FE(e,r))&&(c=pc(c,"onBeforeInput"),0<c.length&&(u=new tg("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=C))}nw(f,t)})}function Sa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ma(e,r),i!=null&&n.unshift(Sa(e,i,s)),i=ma(e,t),i!=null&&n.push(Sa(e,i,s))),e=e.return}return n}function hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=ma(r,i),l!=null&&o.unshift(Sa(r,l,a))):s||(l=ma(r,i),l!=null&&o.push(Sa(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(eT,`
`).replace(tT,"")}function pl(e,t,r){if(t=pg(t),pg(e)!==t&&r)throw Error(Q(425))}function mc(){}var Mf=null,Df=null;function Lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(sT)}:$f;function sT(e){setTimeout(function(){throw e})}function wd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ya(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ya(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),Jr="__reactFiber$"+vo,_a="__reactProps$"+vo,Sn="__reactContainer$"+vo,zf="__reactEvents$"+vo,iT="__reactListeners$"+vo,oT="__reactHandles$"+vo;function Ds(e){var t=e[Jr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Jr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gg(e);e!==null;){if(r=e[Jr])return r;e=gg(e)}return t}e=r,r=e.parentNode}return null}function Ha(e){return e=e[Jr]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function ou(e){return e[_a]||null}var Ff=[],Ni=-1;function ys(e){return{current:e}}function Ve(e){0>Ni||(e.current=Ff[Ni],Ff[Ni]=null,Ni--)}function Fe(e,t){Ni++,Ff[Ni]=e.current,e.current=t}var ds={},Ct=ys(ds),Gt=ys(!1),Ks=ds;function no(e,t){var r=e.type.contextTypes;if(!r)return ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(e){return e=e.childContextTypes,e!=null}function gc(){Ve(Gt),Ve(Ct)}function vg(e,t,r){if(Ct.current!==ds)throw Error(Q(168));Fe(Ct,t),Fe(Gt,r)}function iw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,Wk(e)||"Unknown",s));return Ye({},r,n)}function vc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ds,Ks=Ct.current,Fe(Ct,e),Fe(Gt,Gt.current),!0}function yg(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=iw(e,t,Ks),n.__reactInternalMemoizedMergedChildContext=e,Ve(Gt),Ve(Ct),Fe(Ct,e)):Ve(Gt),Fe(Gt,r)}var hn=null,au=!1,xd=!1;function ow(e){hn===null?hn=[e]:hn.push(e)}function aT(e){au=!0,ow(e)}function ws(){if(!xd&&hn!==null){xd=!0;var e=0,t=Le;try{var r=hn;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hn=null,au=!1}catch(s){throw hn!==null&&(hn=hn.slice(e+1)),Ry(Qh,ws),s}finally{Le=t,xd=!1}}return null}var Ri=[],Ai=0,yc=null,wc=0,pr=[],mr=0,Ys=null,pn=1,mn="";function Rs(e,t){Ri[Ai++]=wc,Ri[Ai++]=yc,yc=e,wc=t}function aw(e,t,r){pr[mr++]=pn,pr[mr++]=mn,pr[mr++]=Ys,Ys=e;var n=pn;e=mn;var s=32-Dr(n)-1;n&=~(1<<s),r+=1;var i=32-Dr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pn=1<<32-Dr(t)+s|r<<s|n,mn=i+e}else pn=1<<i|r<<s|n,mn=e}function op(e){e.return!==null&&(Rs(e,1),aw(e,1,0))}function ap(e){for(;e===yc;)yc=Ri[--Ai],Ri[Ai]=null,wc=Ri[--Ai],Ri[Ai]=null;for(;e===Ys;)Ys=pr[--mr],pr[mr]=null,mn=pr[--mr],pr[mr]=null,pn=pr[--mr],pr[mr]=null}var ir=null,sr=null,qe=!1,Or=null;function lw(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,sr=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ys!==null?{id:pn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ir=e,sr=null,!0):!1;default:return!1}}function Uf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bf(e){if(qe){var t=sr;if(t){var r=t;if(!wg(e,t)){if(Uf(e))throw Error(Q(418));t=ss(r.nextSibling);var n=ir;t&&wg(e,t)?lw(n,r):(e.flags=e.flags&-4097|2,qe=!1,ir=e)}}else{if(Uf(e))throw Error(Q(418));e.flags=e.flags&-4097|2,qe=!1,ir=e}}}function xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function ml(e){if(e!==ir)return!1;if(!qe)return xg(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lf(e.type,e.memoizedProps)),t&&(t=sr)){if(Uf(e))throw cw(),Error(Q(418));for(;t;)lw(e,t),t=ss(t.nextSibling)}if(xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=ss(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=ir?ss(e.stateNode.nextSibling):null;return!0}function cw(){for(var e=sr;e;)e=ss(e.nextSibling)}function so(){sr=ir=null,qe=!1}function lp(e){Or===null?Or=[e]:Or.push(e)}var lT=Pn.ReactCurrentBatchConfig;function Mo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function gl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bg(e){var t=e._init;return t(e._payload)}function uw(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=ls(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,x,b,S){return x===null||x.tag!==6?(x=Cd(b,v.mode,S),x.return=v,x):(x=s(x,b),x.return=v,x)}function l(v,x,b,S){var _=b.type;return _===Ei?u(v,x,b.props.children,S,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zn&&bg(_)===x.type)?(S=s(x,b.props),S.ref=Mo(v,x,b),S.return=v,S):(S=Jl(b.type,b.key,b.props,null,v.mode,S),S.ref=Mo(v,x,b),S.return=v,S)}function c(v,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Pd(b,v.mode,S),x.return=v,x):(x=s(x,b.children||[]),x.return=v,x)}function u(v,x,b,S,_){return x===null||x.tag!==7?(x=Gs(b,v.mode,S,_),x.return=v,x):(x=s(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Cd(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case il:return b=Jl(x.type,x.key,x.props,null,v.mode,b),b.ref=Mo(v,null,x),b.return=v,b;case ki:return x=Pd(x,v.mode,b),x.return=v,x;case zn:var S=x._init;return f(v,S(x._payload),b)}if(Bo(x)||No(x))return x=Gs(x,v.mode,b,null),x.return=v,x;gl(v,x)}return null}function h(v,x,b,S){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(v,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case il:return b.key===_?l(v,x,b,S):null;case ki:return b.key===_?c(v,x,b,S):null;case zn:return _=b._init,h(v,x,_(b._payload),S)}if(Bo(b)||No(b))return _!==null?null:u(v,x,b,S,null);gl(v,b)}return null}function m(v,x,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(x,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case il:return v=v.get(S.key===null?b:S.key)||null,l(x,v,S,_);case ki:return v=v.get(S.key===null?b:S.key)||null,c(x,v,S,_);case zn:var k=S._init;return m(v,x,b,k(S._payload),_)}if(Bo(S)||No(S))return v=v.get(b)||null,u(x,v,S,_,null);gl(x,S)}return null}function y(v,x,b,S){for(var _=null,k=null,C=x,T=x=0,P=null;C!==null&&T<b.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var E=h(v,C,b[T],S);if(E===null){C===null&&(C=P);break}e&&C&&E.alternate===null&&t(v,C),x=i(E,x,T),k===null?_=E:k.sibling=E,k=E,C=P}if(T===b.length)return r(v,C),qe&&Rs(v,T),_;if(C===null){for(;T<b.length;T++)C=f(v,b[T],S),C!==null&&(x=i(C,x,T),k===null?_=C:k.sibling=C,k=C);return qe&&Rs(v,T),_}for(C=n(v,C);T<b.length;T++)P=m(C,v,T,b[T],S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?T:P.key),x=i(P,x,T),k===null?_=P:k.sibling=P,k=P);return e&&C.forEach(function(A){return t(v,A)}),qe&&Rs(v,T),_}function g(v,x,b,S){var _=No(b);if(typeof _!="function")throw Error(Q(150));if(b=_.call(b),b==null)throw Error(Q(151));for(var k=_=null,C=x,T=x=0,P=null,E=b.next();C!==null&&!E.done;T++,E=b.next()){C.index>T?(P=C,C=null):P=C.sibling;var A=h(v,C,E.value,S);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(v,C),x=i(A,x,T),k===null?_=A:k.sibling=A,k=A,C=P}if(E.done)return r(v,C),qe&&Rs(v,T),_;if(C===null){for(;!E.done;T++,E=b.next())E=f(v,E.value,S),E!==null&&(x=i(E,x,T),k===null?_=E:k.sibling=E,k=E);return qe&&Rs(v,T),_}for(C=n(v,C);!E.done;T++,E=b.next())E=m(C,v,T,E.value,S),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?T:E.key),x=i(E,x,T),k===null?_=E:k.sibling=E,k=E);return e&&C.forEach(function(I){return t(v,I)}),qe&&Rs(v,T),_}function w(v,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Ei&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case il:e:{for(var _=b.key,k=x;k!==null;){if(k.key===_){if(_=b.type,_===Ei){if(k.tag===7){r(v,k.sibling),x=s(k,b.props.children),x.return=v,v=x;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zn&&bg(_)===k.type){r(v,k.sibling),x=s(k,b.props),x.ref=Mo(v,k,b),x.return=v,v=x;break e}r(v,k);break}else t(v,k);k=k.sibling}b.type===Ei?(x=Gs(b.props.children,v.mode,S,b.key),x.return=v,v=x):(S=Jl(b.type,b.key,b.props,null,v.mode,S),S.ref=Mo(v,x,b),S.return=v,v=S)}return o(v);case ki:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=s(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=Pd(b,v.mode,S),x.return=v,v=x}return o(v);case zn:return k=b._init,w(v,x,k(b._payload),S)}if(Bo(b))return y(v,x,b,S);if(No(b))return g(v,x,b,S);gl(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=s(x,b),x.return=v,v=x):(r(v,x),x=Cd(b,v.mode,S),x.return=v,v=x),o(v)):r(v,x)}return w}var io=uw(!0),dw=uw(!1),xc=ys(null),bc=null,Ii=null,cp=null;function up(){cp=Ii=bc=null}function dp(e){var t=xc.current;Ve(xc),e._currentValue=t}function Vf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fi(e,t){bc=e,cp=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(cp!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(bc===null)throw Error(Q(308));Ii=e,bc.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Ls=null;function fp(e){Ls===null?Ls=[e]:Ls.push(e)}function fw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fp(t)):(r.next=s.next,s.next=r),t.interleaved=r,_n(e,n)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fn=!1;function hp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function is(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_n(e,r)}return s=n.interleaved,s===null?(t.next=t,fp(n)):(t.next=s.next,s.next=t),n.interleaved=t,_n(e,r)}function ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jh(e,r)}}function Sg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sc(e,t,r,n){var s=e.updateQueue;Fn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(h=t,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Ye({},f,h);break e;case 2:Fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qs|=o,e.lanes=o,e.memoizedState=f}}function _g(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var qa={},rn=ys(qa),ka=ys(qa),Ea=ys(qa);function $s(e){if(e===qa)throw Error(Q(174));return e}function pp(e,t){switch(Fe(Ea,t),Fe(ka,e),Fe(rn,qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_f(t,e)}Ve(rn),Fe(rn,t)}function oo(){Ve(rn),Ve(ka),Ve(Ea)}function pw(e){$s(Ea.current);var t=$s(rn.current),r=_f(t,e.type);t!==r&&(Fe(ka,e),Fe(rn,r))}function mp(e){ka.current===e&&(Ve(rn),Ve(ka))}var Ge=ys(0);function _c(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bd=[];function gp(){for(var e=0;e<bd.length;e++)bd[e]._workInProgressVersionPrimary=null;bd.length=0}var Gl=Pn.ReactCurrentDispatcher,Sd=Pn.ReactCurrentBatchConfig,Xs=0,Ke=null,at=null,ft=null,kc=!1,Jo=!1,Ta=0,cT=0;function St(){throw Error(Q(321))}function vp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$r(e[r],t[r]))return!1;return!0}function yp(e,t,r,n,s,i){if(Xs=i,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gl.current=e===null||e.memoizedState===null?hT:pT,e=r(n,s),Jo){i=0;do{if(Jo=!1,Ta=0,25<=i)throw Error(Q(301));i+=1,ft=at=null,t.updateQueue=null,Gl.current=mT,e=r(n,s)}while(Jo)}if(Gl.current=Ec,t=at!==null&&at.next!==null,Xs=0,ft=at=Ke=null,kc=!1,t)throw Error(Q(300));return e}function wp(){var e=Ta!==0;return Ta=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=e:ft=ft.next=e,ft}function Sr(){if(at===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ft===null?Ke.memoizedState:ft.next;if(t!==null)ft=t,at=e;else{if(e===null)throw Error(Q(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ft===null?Ke.memoizedState=ft=e:ft=ft.next=e}return ft}function Ca(e,t){return typeof t=="function"?t(e):t}function _d(e){var t=Sr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=at,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Xs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Ke.lanes|=u,Qs|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,$r(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ke.lanes|=i,Qs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kd(e){var t=Sr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);$r(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function mw(){}function gw(e,t){var r=Ke,n=Sr(),s=t(),i=!$r(n.memoizedState,s);if(i&&(n.memoizedState=s,Vt=!0),n=n.queue,xp(ww.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Pa(9,yw.bind(null,r,n,s,t),void 0,null),mt===null)throw Error(Q(349));Xs&30||vw(r,t,s)}return s}function vw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yw(e,t,r,n){t.value=r,t.getSnapshot=n,xw(t)&&bw(e)}function ww(e,t,r){return r(function(){xw(t)&&bw(e)})}function xw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$r(e,r)}catch{return!0}}function bw(e){var t=_n(e,1);t!==null&&Lr(t,e,1,-1)}function kg(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=fT.bind(null,Ke,e),[t.memoizedState,e]}function Pa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Sw(){return Sr().memoizedState}function Kl(e,t,r,n){var s=Kr();Ke.flags|=e,s.memoizedState=Pa(1|t,r,void 0,n===void 0?null:n)}function lu(e,t,r,n){var s=Sr();n=n===void 0?null:n;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,n!==null&&vp(n,o.deps)){s.memoizedState=Pa(t,r,i,n);return}}Ke.flags|=e,s.memoizedState=Pa(1|t,r,i,n)}function Eg(e,t){return Kl(8390656,8,e,t)}function xp(e,t){return lu(2048,8,e,t)}function _w(e,t){return lu(4,2,e,t)}function kw(e,t){return lu(4,4,e,t)}function Ew(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tw(e,t,r){return r=r!=null?r.concat([e]):null,lu(4,4,Ew.bind(null,t,e),r)}function bp(){}function Cw(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pw(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jw(e,t,r){return Xs&21?($r(r,t)||(r=Oy(),Ke.lanes|=r,Qs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function uT(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=Sd.transition;Sd.transition={};try{e(!1),t()}finally{Le=r,Sd.transition=n}}function Nw(){return Sr().memoizedState}function dT(e,t,r){var n=as(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rw(e))Aw(t,r);else if(r=fw(e,t,r,n),r!==null){var s=Ot();Lr(r,e,n,s),Iw(r,t,n)}}function fT(e,t,r){var n=as(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rw(e))Aw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,$r(a,o)){var l=t.interleaved;l===null?(s.next=s,fp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=fw(e,t,s,n),r!==null&&(s=Ot(),Lr(r,e,n,s),Iw(r,t,n))}}function Rw(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Aw(e,t){Jo=kc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Iw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jh(e,r)}}var Ec={readContext:br,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},hT={readContext:br,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:Eg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kl(4194308,4,Ew.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kl(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dT.bind(null,Ke,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:kg,useDebugValue:bp,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=kg(!1),t=e[0];return e=uT.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ke,s=Kr();if(qe){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),mt===null)throw Error(Q(349));Xs&30||vw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Eg(ww.bind(null,n,i,e),[e]),n.flags|=2048,Pa(9,yw.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kr(),t=mt.identifierPrefix;if(qe){var r=mn,n=pn;r=(n&~(1<<32-Dr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ta++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pT={readContext:br,useCallback:Cw,useContext:br,useEffect:xp,useImperativeHandle:Tw,useInsertionEffect:_w,useLayoutEffect:kw,useMemo:Pw,useReducer:_d,useRef:Sw,useState:function(){return _d(Ca)},useDebugValue:bp,useDeferredValue:function(e){var t=Sr();return jw(t,at.memoizedState,e)},useTransition:function(){var e=_d(Ca)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:mw,useSyncExternalStore:gw,useId:Nw,unstable_isNewReconciler:!1},mT={readContext:br,useCallback:Cw,useContext:br,useEffect:xp,useImperativeHandle:Tw,useInsertionEffect:_w,useLayoutEffect:kw,useMemo:Pw,useReducer:kd,useRef:Sw,useState:function(){return kd(Ca)},useDebugValue:bp,useDeferredValue:function(e){var t=Sr();return at===null?t.memoizedState=e:jw(t,at.memoizedState,e)},useTransition:function(){var e=kd(Ca)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:mw,useSyncExternalStore:gw,useId:Nw,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cu={isMounted:function(e){return(e=e._reactInternals)?ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=as(e),i=yn(n,s);i.payload=t,r!=null&&(i.callback=r),t=is(e,i,s),t!==null&&(Lr(t,e,s,n),ql(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=as(e),i=yn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=is(e,i,s),t!==null&&(Lr(t,e,s,n),ql(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ot(),n=as(e),s=yn(r,n);s.tag=2,t!=null&&(s.callback=t),t=is(e,s,n),t!==null&&(Lr(t,e,n,r),ql(t,e,n))}};function Tg(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xa(r,n)||!xa(s,i):!0}function Ow(e,t,r){var n=!1,s=ds,i=t.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=Kt(t)?Ks:Ct.current,n=t.contextTypes,i=(n=n!=null)?no(e,s):ds),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function Hf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},hp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=Kt(t)?Ks:Ct.current,s.context=no(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cu.enqueueReplaceState(s,s.state,null),Sc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t){try{var r="",n=t;do r+=Vk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ed(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gT=typeof WeakMap=="function"?WeakMap:Map;function Mw(e,t,r){r=yn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cc||(Cc=!0,rh=n),qf(e,t)},r}function Dw(e,t,r){r=yn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qf(e,t),typeof n!="function"&&(os===null?os=new Set([this]):os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Pg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=NT.bind(null,e,t,r),t.then(e,e))}function jg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ng(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yn(-1,1),t.tag=2,is(r,t,1))),r.lanes|=1),e)}var vT=Pn.ReactCurrentOwner,Vt=!1;function At(e,t,r,n){t.child=e===null?dw(t,null,r,n):io(t,e.child,r,n)}function Rg(e,t,r,n,s){r=r.render;var i=t.ref;return Fi(t,s),n=yp(e,t,r,n,i,s),r=wp(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kn(e,t,s)):(qe&&r&&op(t),t.flags|=1,At(e,t,n,s),t.child)}function Ag(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!jp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Lw(e,t,i,n,s)):(e=Jl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xa,r(o,n)&&e.ref===t.ref)return kn(e,t,s)}return t.flags|=1,e=ls(i,n),e.ref=t.ref,e.return=t,t.child=e}function Lw(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xa(i,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,kn(e,t,s)}return Gf(e,t,r,n,s)}function $w(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Mi,tr),tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Mi,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(Mi,tr),tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Fe(Mi,tr),tr|=n;return At(e,t,s,r),t.child}function zw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gf(e,t,r,n,s){var i=Kt(r)?Ks:Ct.current;return i=no(t,i),Fi(t,s),r=yp(e,t,r,n,i,s),n=wp(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kn(e,t,s)):(qe&&n&&op(t),t.flags|=1,At(e,t,r,s),t.child)}function Ig(e,t,r,n,s){if(Kt(r)){var i=!0;vc(t)}else i=!1;if(Fi(t,s),t.stateNode===null)Yl(e,t),Ow(t,r,n),Hf(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=br(c):(c=Kt(r)?Ks:Ct.current,c=no(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Cg(t,o,n,c),Fn=!1;var h=t.memoizedState;o.state=h,Sc(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Gt.current||Fn?(typeof u=="function"&&(Wf(t,r,u,n),l=t.memoizedState),(a=Fn||Tg(t,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,hw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:jr(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Kt(r)?Ks:Ct.current,l=no(t,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Cg(t,o,n,l),Fn=!1,h=t.memoizedState,o.state=h,Sc(t,n,o,s);var y=t.memoizedState;a!==f||h!==y||Gt.current||Fn?(typeof m=="function"&&(Wf(t,r,m,n),y=t.memoizedState),(c=Fn||Tg(t,r,c,n,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Kf(e,t,r,n,i,s)}function Kf(e,t,r,n,s,i){zw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yg(t,r,!1),kn(e,t,i);n=t.stateNode,vT.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=io(t,e.child,null,i),t.child=io(t,null,a,i)):At(e,t,a,i),t.memoizedState=n.state,s&&yg(t,r,!0),t.child}function Fw(e){var t=e.stateNode;t.pendingContext?vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vg(e,t.context,!1),pp(e,t.containerInfo)}function Og(e,t,r,n,s){return so(),lp(s),t.flags|=256,At(e,t,r,n),t.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Xf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uw(e,t,r){var n=t.pendingProps,s=Ge.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(Ge,s&1),e===null)return Bf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fu(o,n,0,null),e=Gs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xf(r),t.memoizedState=Yf,e):Sp(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yT(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ls(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ls(a,i):(i=Gs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Xf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Yf,n}return i=e.child,e=i.sibling,n=ls(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sp(e,t){return t=fu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vl(e,t,r,n){return n!==null&&lp(n),io(t,e.child,null,r),e=Sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ed(Error(Q(422))),vl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=fu({mode:"visible",children:n.children},s,0,null),i=Gs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&io(t,e.child,null,o),t.child.memoizedState=Xf(o),t.memoizedState=Yf,i);if(!(t.mode&1))return vl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(Q(419)),n=Ed(i,n,void 0),vl(e,t,o,n)}if(a=(o&e.childLanes)!==0,Vt||a){if(n=mt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_n(e,s),Lr(n,e,s,-1))}return Pp(),n=Ed(Error(Q(421))),vl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=RT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sr=ss(s.nextSibling),ir=t,qe=!0,Or=null,e!==null&&(pr[mr++]=pn,pr[mr++]=mn,pr[mr++]=Ys,pn=e.id,mn=e.overflow,Ys=t),t=Sp(t,n.children),t.flags|=4096,t)}function Mg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vf(e.return,t,r)}function Td(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Bw(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(At(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mg(e,r,t);else if(e.tag===19)Mg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_c(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Td(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_c(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Td(t,!0,r,null,i);break;case"together":Td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wT(e,t,r){switch(t.tag){case 3:Fw(t),so();break;case 5:pw(t);break;case 1:Kt(t.type)&&vc(t);break;case 4:pp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Fe(xc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?Uw(e,t,r):(Fe(Ge,Ge.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Bw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,$w(e,t,r)}return kn(e,t,r)}var Vw,Qf,Ww,Hw;Vw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qf=function(){};Ww=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,$s(rn.current);var i=null;switch(r){case"input":s=wf(e,s),n=wf(e,n),i=[];break;case"select":s=Ye({},s,{value:void 0}),n=Ye({},n,{value:void 0}),i=[];break;case"textarea":s=Sf(e,s),n=Sf(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mc)}kf(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ha.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ha.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Hw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Do(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xT(e,t,r){var n=t.pendingProps;switch(ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Kt(t.type)&&gc(),_t(t),null;case 3:return n=t.stateNode,oo(),Ve(Gt),Ve(Ct),gp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ml(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(ih(Or),Or=null))),Qf(e,t),_t(t),null;case 5:mp(t);var s=$s(Ea.current);if(r=t.type,e!==null&&t.stateNode!=null)Ww(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return _t(t),null}if(e=$s(rn.current),ml(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jr]=t,n[_a]=i,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(s=0;s<Wo.length;s++)Be(Wo[s],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Wm(n,i),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Be("invalid",n);break;case"textarea":qm(n,i),Be("invalid",n)}kf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&pl(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pl(n.textContent,a,e),s=["children",""+a]):ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",n)}switch(r){case"input":ol(n),Hm(n,i,!0);break;case"textarea":ol(n),Gm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jr]=t,e[_a]=n,Vw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ef(r,n),r){case"dialog":Be("cancel",e),Be("close",e),s=n;break;case"iframe":case"object":case"embed":Be("load",e),s=n;break;case"video":case"audio":for(s=0;s<Wo.length;s++)Be(Wo[s],e);s=n;break;case"source":Be("error",e),s=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=n;break;case"details":Be("toggle",e),s=n;break;case"input":Wm(e,n),s=wf(e,n),Be("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ye({},n,{value:void 0}),Be("invalid",e);break;case"textarea":qm(e,n),s=Sf(e,n),Be("invalid",e);break;default:s=n}kf(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Sy(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xy(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pa(e,l):typeof l=="number"&&pa(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ha.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",e):l!=null&&qh(e,i,l,o))}switch(r){case"input":ol(e),Hm(e,n,!1);break;case"textarea":ol(e),Gm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+us(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Di(e,!!n.multiple,i,!1):n.defaultValue!=null&&Di(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Hw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=$s(Ea.current),$s(rn.current),ml(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jr]=t,(i=n.nodeValue!==r)&&(e=ir,e!==null))switch(e.tag){case 3:pl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jr]=t,t.stateNode=n}return _t(t),null;case 13:if(Ve(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&sr!==null&&t.mode&1&&!(t.flags&128))cw(),so(),t.flags|=98560,i=!1;else if(i=ml(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Jr]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else Or!==null&&(ih(Or),Or=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ct===0&&(ct=3):Pp())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return oo(),Qf(e,t),e===null&&ba(t.stateNode.containerInfo),_t(t),null;case 10:return dp(t.type._context),_t(t),null;case 17:return Kt(t.type)&&gc(),_t(t),null;case 19:if(Ve(Ge),i=t.memoizedState,i===null)return _t(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Do(i,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_c(e),o!==null){for(t.flags|=128,Do(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&et()>lo&&(t.flags|=128,n=!0,Do(i,!1),t.lanes=4194304)}else{if(!n)if(e=_c(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return _t(t),null}else 2*et()-i.renderingStartTime>lo&&r!==1073741824&&(t.flags|=128,n=!0,Do(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,r=Ge.current,Fe(Ge,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return Cp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function bT(e,t){switch(ap(t),t.tag){case 1:return Kt(t.type)&&gc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),Ve(Gt),Ve(Ct),gp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mp(t),null;case 13:if(Ve(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ge),null;case 4:return oo(),null;case 10:return dp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var yl=!1,Tt=!1,ST=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Oi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function Jf(e,t,r){try{r()}catch(n){Je(e,t,n)}}var Dg=!1;function _T(e,t){if(Mf=fc,e=Xy(),ip(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Df={focusedElem:e,selectionRange:r},fc=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:jr(t.type,g),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){Je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return y=Dg,Dg=!1,y}function Zo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jf(t,r,i)}s=s.next}while(s!==n)}}function uu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qw(e){var t=e.alternate;t!==null&&(e.alternate=null,qw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jr],delete t[_a],delete t[zf],delete t[iT],delete t[oT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gw(e){return e.tag===5||e.tag===3||e.tag===4}function Lg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mc));else if(n!==4&&(e=e.child,e!==null))for(eh(e,t,r),e=e.sibling;e!==null;)eh(e,t,r),e=e.sibling}function th(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(th(e,t,r),e=e.sibling;e!==null;)th(e,t,r),e=e.sibling}var gt=null,Ar=!1;function In(e,t,r){for(r=r.child;r!==null;)Kw(e,t,r),r=r.sibling}function Kw(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ru,r)}catch{}switch(r.tag){case 5:Tt||Oi(r,t);case 6:var n=gt,s=Ar;gt=null,In(e,t,r),gt=n,Ar=s,gt!==null&&(Ar?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(Ar?(e=gt,r=r.stateNode,e.nodeType===8?wd(e.parentNode,r):e.nodeType===1&&wd(e,r),ya(e)):wd(gt,r.stateNode));break;case 4:n=gt,s=Ar,gt=r.stateNode.containerInfo,Ar=!0,In(e,t,r),gt=n,Ar=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jf(r,t,o),s=s.next}while(s!==n)}In(e,t,r);break;case 1:if(!Tt&&(Oi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Je(r,t,a)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,In(e,t,r),Tt=n):In(e,t,r);break;default:In(e,t,r)}}function $g(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ST),t.forEach(function(n){var s=AT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Cr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Ar=!1;break e;case 3:gt=a.stateNode.containerInfo,Ar=!0;break e;case 4:gt=a.stateNode.containerInfo,Ar=!0;break e}a=a.return}if(gt===null)throw Error(Q(160));Kw(i,o,s),gt=null,Ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yw(t,e),t=t.sibling}function Yw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),Gr(e),n&4){try{Zo(3,e,e.return),uu(3,e)}catch(g){Je(e,e.return,g)}try{Zo(5,e,e.return)}catch(g){Je(e,e.return,g)}}break;case 1:Cr(t,e),Gr(e),n&512&&r!==null&&Oi(r,r.return);break;case 5:if(Cr(t,e),Gr(e),n&512&&r!==null&&Oi(r,r.return),e.flags&32){var s=e.stateNode;try{pa(s,"")}catch(g){Je(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vy(s,i),Ef(a,o);var c=Ef(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Sy(s,f):u==="dangerouslySetInnerHTML"?xy(s,f):u==="children"?pa(s,f):qh(s,u,f,c)}switch(a){case"input":xf(s,i);break;case"textarea":yy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Di(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Di(s,!!i.multiple,i.defaultValue,!0):Di(s,!!i.multiple,i.multiple?[]:"",!1))}s[_a]=i}catch(g){Je(e,e.return,g)}}break;case 6:if(Cr(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Je(e,e.return,g)}}break;case 3:if(Cr(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(g){Je(e,e.return,g)}break;case 4:Cr(t,e),Gr(e);break;case 13:Cr(t,e),Gr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ep=et())),n&4&&$g(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(c=Tt)||u,Cr(t,e),Tt=c):Cr(t,e),Gr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ie=e,u=e.child;u!==null;){for(f=ie=u;ie!==null;){switch(h=ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zo(4,h,h.return);break;case 1:Oi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Je(n,r,g)}}break;case 5:Oi(h,h.return);break;case 22:if(h.memoizedState!==null){Fg(f);continue}}m!==null?(m.return=h,ie=m):Fg(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=by("display",o))}catch(g){Je(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Je(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cr(t,e),Gr(e),n&4&&$g(e);break;case 21:break;default:Cr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gw(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(pa(s,""),n.flags&=-33);var i=Lg(e);th(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Lg(e);eh(e,a,o);break;default:throw Error(Q(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kT(e,t,r){ie=e,Xw(e)}function Xw(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||yl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=yl;var c=Tt;if(yl=o,(Tt=l)&&!c)for(ie=s;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?Ug(s):l!==null?(l.return=o,ie=l):Ug(s);for(;i!==null;)ie=i,Xw(i),i=i.sibling;ie=s,yl=a,Tt=c}zg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):zg(e)}}function zg(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||uu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_g(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_g(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Tt||t.flags&512&&Zf(t)}catch(h){Je(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Fg(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ug(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{uu(4,t)}catch(l){Je(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Je(t,s,l)}}var i=t.return;try{Zf(t)}catch(l){Je(t,i,l)}break;case 5:var o=t.return;try{Zf(t)}catch(l){Je(t,o,l)}}}catch(l){Je(t,t.return,l)}if(t===e){ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ie=a;break}ie=t.return}}var ET=Math.ceil,Tc=Pn.ReactCurrentDispatcher,_p=Pn.ReactCurrentOwner,wr=Pn.ReactCurrentBatchConfig,Re=0,mt=null,tt=null,vt=0,tr=0,Mi=ys(0),ct=0,ja=null,Qs=0,du=0,kp=0,ea=null,Ut=null,Ep=0,lo=1/0,dn=null,Cc=!1,rh=null,os=null,wl=!1,Jn=null,Pc=0,ta=0,nh=null,Xl=-1,Ql=0;function Ot(){return Re&6?et():Xl!==-1?Xl:Xl=et()}function as(e){return e.mode&1?Re&2&&vt!==0?vt&-vt:lT.transition!==null?(Ql===0&&(Ql=Oy()),Ql):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Uy(e.type)),e):1}function Lr(e,t,r,n){if(50<ta)throw ta=0,nh=null,Error(Q(185));Va(e,r,n),(!(Re&2)||e!==mt)&&(e===mt&&(!(Re&2)&&(du|=r),ct===4&&Wn(e,vt)),Yt(e,n),r===1&&Re===0&&!(t.mode&1)&&(lo=et()+500,au&&ws()))}function Yt(e,t){var r=e.callbackNode;lE(e,t);var n=dc(e,e===mt?vt:0);if(n===0)r!==null&&Xm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xm(r),t===1)e.tag===0?aT(Bg.bind(null,e)):ow(Bg.bind(null,e)),nT(function(){!(Re&6)&&ws()}),r=null;else{switch(My(n)){case 1:r=Qh;break;case 4:r=Ay;break;case 16:r=uc;break;case 536870912:r=Iy;break;default:r=uc}r=sx(r,Qw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qw(e,t){if(Xl=-1,Ql=0,Re&6)throw Error(Q(327));var r=e.callbackNode;if(Ui()&&e.callbackNode!==r)return null;var n=dc(e,e===mt?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jc(e,n);else{t=n;var s=Re;Re|=2;var i=Zw();(mt!==e||vt!==t)&&(dn=null,lo=et()+500,qs(e,t));do try{PT();break}catch(a){Jw(e,a)}while(!0);up(),Tc.current=i,Re=s,tt!==null?t=0:(mt=null,vt=0,t=ct)}if(t!==0){if(t===2&&(s=Nf(e),s!==0&&(n=s,t=sh(e,s))),t===1)throw r=ja,qs(e,0),Wn(e,n),Yt(e,et()),r;if(t===6)Wn(e,n);else{if(s=e.current.alternate,!(n&30)&&!TT(s)&&(t=jc(e,n),t===2&&(i=Nf(e),i!==0&&(n=i,t=sh(e,i))),t===1))throw r=ja,qs(e,0),Wn(e,n),Yt(e,et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:As(e,Ut,dn);break;case 3:if(Wn(e,n),(n&130023424)===n&&(t=Ep+500-et(),10<t)){if(dc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$f(As.bind(null,e,Ut,dn),t);break}As(e,Ut,dn);break;case 4:if(Wn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Dr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ET(n/1960))-n,10<n){e.timeoutHandle=$f(As.bind(null,e,Ut,dn),n);break}As(e,Ut,dn);break;case 5:As(e,Ut,dn);break;default:throw Error(Q(329))}}}return Yt(e,et()),e.callbackNode===r?Qw.bind(null,e):null}function sh(e,t){var r=ea;return e.current.memoizedState.isDehydrated&&(qs(e,t).flags|=256),e=jc(e,t),e!==2&&(t=Ut,Ut=r,t!==null&&ih(t)),e}function ih(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function TT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!$r(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~kp,t&=~du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dr(t),n=1<<r;e[r]=-1,t&=~n}}function Bg(e){if(Re&6)throw Error(Q(327));Ui();var t=dc(e,0);if(!(t&1))return Yt(e,et()),null;var r=jc(e,t);if(e.tag!==0&&r===2){var n=Nf(e);n!==0&&(t=n,r=sh(e,n))}if(r===1)throw r=ja,qs(e,0),Wn(e,t),Yt(e,et()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,Ut,dn),Yt(e,et()),null}function Tp(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(lo=et()+500,au&&ws())}}function Js(e){Jn!==null&&Jn.tag===0&&!(Re&6)&&Ui();var t=Re;Re|=1;var r=wr.transition,n=Le;try{if(wr.transition=null,Le=1,e)return e()}finally{Le=n,wr.transition=r,Re=t,!(Re&6)&&ws()}}function Cp(){tr=Mi.current,Ve(Mi)}function qs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rT(r)),tt!==null)for(r=tt.return;r!==null;){var n=r;switch(ap(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gc();break;case 3:oo(),Ve(Gt),Ve(Ct),gp();break;case 5:mp(n);break;case 4:oo();break;case 13:Ve(Ge);break;case 19:Ve(Ge);break;case 10:dp(n.type._context);break;case 22:case 23:Cp()}r=r.return}if(mt=e,tt=e=ls(e.current,null),vt=tr=t,ct=0,ja=null,kp=du=Qs=0,Ut=ea=null,Ls!==null){for(t=0;t<Ls.length;t++)if(r=Ls[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ls=null}return e}function Jw(e,t){do{var r=tt;try{if(up(),Gl.current=Ec,kc){for(var n=Ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kc=!1}if(Xs=0,ft=at=Ke=null,Jo=!1,Ta=0,_p.current=null,r===null||r.return===null){ct=1,ja=t,tt=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=jg(o);if(m!==null){m.flags&=-257,Ng(m,o,a,i,t),m.mode&1&&Pg(i,c,t),t=m,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){Pg(i,c,t),Pp();break e}l=Error(Q(426))}}else if(qe&&a.mode&1){var w=jg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ng(w,o,a,i,t),lp(ao(l,a));break e}}i=l=ao(l,a),ct!==4&&(ct=2),ea===null?ea=[i]:ea.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Mw(i,l,t);Sg(i,v);break e;case 1:a=l;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(os===null||!os.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Dw(i,a,t);Sg(i,S);break e}}i=i.return}while(i!==null)}tx(r)}catch(_){t=_,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function Zw(){var e=Tc.current;return Tc.current=Ec,e===null?Ec:e}function Pp(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(Qs&268435455)&&!(du&268435455)||Wn(mt,vt)}function jc(e,t){var r=Re;Re|=2;var n=Zw();(mt!==e||vt!==t)&&(dn=null,qs(e,t));do try{CT();break}catch(s){Jw(e,s)}while(!0);if(up(),Re=r,Tc.current=n,tt!==null)throw Error(Q(261));return mt=null,vt=0,ct}function CT(){for(;tt!==null;)ex(tt)}function PT(){for(;tt!==null&&!Zk();)ex(tt)}function ex(e){var t=nx(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?tx(e):tt=t,_p.current=null}function tx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bT(r,t),r!==null){r.flags&=32767,tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,tt=null;return}}else if(r=xT(r,t,tr),r!==null){tt=r;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);ct===0&&(ct=5)}function As(e,t,r){var n=Le,s=wr.transition;try{wr.transition=null,Le=1,jT(e,t,r,n)}finally{wr.transition=s,Le=n}return null}function jT(e,t,r,n){do Ui();while(Jn!==null);if(Re&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(cE(e,i),e===mt&&(tt=mt=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wl||(wl=!0,sx(uc,function(){return Ui(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wr.transition,wr.transition=null;var o=Le;Le=1;var a=Re;Re|=4,_p.current=null,_T(e,r),Yw(r,e),YE(Df),fc=!!Mf,Df=Mf=null,e.current=r,kT(r),eE(),Re=a,Le=o,wr.transition=i}else e.current=r;if(wl&&(wl=!1,Jn=e,Pc=s),i=e.pendingLanes,i===0&&(os=null),nE(r.stateNode),Yt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cc)throw Cc=!1,e=rh,rh=null,e;return Pc&1&&e.tag!==0&&Ui(),i=e.pendingLanes,i&1?e===nh?ta++:(ta=0,nh=e):ta=0,ws(),null}function Ui(){if(Jn!==null){var e=My(Pc),t=wr.transition,r=Le;try{if(wr.transition=null,Le=16>e?16:e,Jn===null)var n=!1;else{if(e=Jn,Jn=null,Pc=0,Re&6)throw Error(Q(331));var s=Re;for(Re|=4,ie=e.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:Zo(8,u,i)}var f=u.child;if(f!==null)f.return=u,ie=f;else for(;ie!==null;){u=ie;var h=u.sibling,m=u.return;if(qw(u),u===c){ie=null;break}if(h!==null){h.return=m,ie=h;break}ie=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ie=v;break e}ie=i.return}}var x=e.current;for(ie=x;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=x;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uu(9,a)}}catch(_){Je(a,a.return,_)}if(a===o){ie=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ie=S;break e}ie=a.return}}if(Re=s,ws(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ru,e)}catch{}n=!0}return n}finally{Le=r,wr.transition=t}}return!1}function Vg(e,t,r){t=ao(r,t),t=Mw(e,t,1),e=is(e,t,1),t=Ot(),e!==null&&(Va(e,1,t),Yt(e,t))}function Je(e,t,r){if(e.tag===3)Vg(e,e,r);else for(;t!==null;){if(t.tag===3){Vg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(os===null||!os.has(n))){e=ao(r,e),e=Dw(t,e,1),t=is(t,e,1),e=Ot(),t!==null&&(Va(t,1,e),Yt(t,e));break}}t=t.return}}function NT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(vt&r)===r&&(ct===4||ct===3&&(vt&130023424)===vt&&500>et()-Ep?qs(e,0):kp|=r),Yt(e,t)}function rx(e,t){t===0&&(e.mode&1?(t=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):t=1);var r=Ot();e=_n(e,t),e!==null&&(Va(e,t,r),Yt(e,r))}function RT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rx(e,r)}function AT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),rx(e,r)}var nx;nx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,wT(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,qe&&t.flags&1048576&&aw(t,wc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yl(e,t),e=t.pendingProps;var s=no(t,Ct.current);Fi(t,r),s=yp(null,t,n,e,s,r);var i=wp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,vc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hp(t),s.updater=cu,t.stateNode=s,s._reactInternals=t,Hf(t,n,e,r),t=Kf(null,t,n,!0,i,r)):(t.tag=0,qe&&i&&op(t),At(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=OT(n),e=jr(n,e),s){case 0:t=Gf(null,t,n,e,r);break e;case 1:t=Ig(null,t,n,e,r);break e;case 11:t=Rg(null,t,n,e,r);break e;case 14:t=Ag(null,t,n,jr(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Gf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Ig(e,t,n,s,r);case 3:e:{if(Fw(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,hw(e,t),Sc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ao(Error(Q(423)),t),t=Og(e,t,n,r,s);break e}else if(n!==s){s=ao(Error(Q(424)),t),t=Og(e,t,n,r,s);break e}else for(sr=ss(t.stateNode.containerInfo.firstChild),ir=t,qe=!0,Or=null,r=dw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),n===s){t=kn(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return pw(t),e===null&&Bf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Lf(n,s)?o=null:i!==null&&Lf(n,i)&&(t.flags|=32),zw(e,t),At(e,t,o,r),t.child;case 6:return e===null&&Bf(t),null;case 13:return Uw(e,t,r);case 4:return pp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=io(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Rg(e,t,n,s,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Fe(xc,n._currentValue),n._currentValue=o,i!==null)if($r(i.value,o)){if(i.children===s.children&&!Gt.current){t=kn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=yn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Vf(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Vf(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Fi(t,r),s=br(s),n=n(s),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,s=jr(n,t.pendingProps),s=jr(n.type,s),Ag(e,t,n,s,r);case 15:return Lw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Yl(e,t),t.tag=1,Kt(n)?(e=!0,vc(t)):e=!1,Fi(t,r),Ow(t,n,s),Hf(t,n,s,r),Kf(null,t,n,!0,e,r);case 19:return Bw(e,t,r);case 22:return $w(e,t,r)}throw Error(Q(156,t.tag))};function sx(e,t){return Ry(e,t)}function IT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new IT(e,t,r,n)}function jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OT(e){if(typeof e=="function")return jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kh)return 11;if(e===Yh)return 14}return 2}function ls(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")jp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ei:return Gs(r.children,s,i,t);case Gh:o=8,s|=8;break;case mf:return e=vr(12,r,t,s|2),e.elementType=mf,e.lanes=i,e;case gf:return e=vr(13,r,t,s),e.elementType=gf,e.lanes=i,e;case vf:return e=vr(19,r,t,s),e.elementType=vf,e.lanes=i,e;case py:return fu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fy:o=10;break e;case hy:o=9;break e;case Kh:o=11;break e;case Yh:o=14;break e;case zn:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=vr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Gs(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function fu(e,t,r,n){return e=vr(22,e,n,t),e.elementType=py,e.lanes=r,e.stateNode={isHidden:!1},e}function Cd(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function Pd(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Np(e,t,r,n,s,i,o,a,l){return e=new MT(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hp(i),e}function DT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ix(e){if(!e)return ds;e=e._reactInternals;e:{if(ni(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Kt(r))return iw(e,r,t)}return t}function ox(e,t,r,n,s,i,o,a,l){return e=Np(r,n,!0,e,s,i,o,a,l),e.context=ix(null),r=e.current,n=Ot(),s=as(r),i=yn(n,s),i.callback=t??null,is(r,i,s),e.current.lanes=s,Va(e,s,n),Yt(e,n),e}function hu(e,t,r,n){var s=t.current,i=Ot(),o=as(s);return r=ix(r),t.context===null?t.context=r:t.pendingContext=r,t=yn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=is(s,t,o),e!==null&&(Lr(e,s,o,i),ql(e,s,o)),o}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rp(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function LT(){return null}var ax=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ap(e){this._internalRoot=e}pu.prototype.render=Ap.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));hu(e,t,null,null)};pu.prototype.unmount=Ap.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){hu(null,e,null,null)}),t[Sn]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=$y();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vn.length&&t!==0&&t<Vn[r].priority;r++);Vn.splice(r,0,e),r===0&&Fy(e)}};function Ip(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function $T(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Nc(o);i.call(c)}}var o=ox(t,n,e,0,null,!1,!1,"",Hg);return e._reactRootContainer=o,e[Sn]=o.current,ba(e.nodeType===8?e.parentNode:e),Js(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Nc(l);a.call(c)}}var l=Np(e,0,!1,null,null,!1,!1,"",Hg);return e._reactRootContainer=l,e[Sn]=l.current,ba(e.nodeType===8?e.parentNode:e),Js(function(){hu(t,l,r,n)}),l}function gu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Nc(o);a.call(l)}}hu(t,o,e,s)}else o=$T(r,t,e,s,n);return Nc(o)}Dy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vo(t.pendingLanes);r!==0&&(Jh(t,r|1),Yt(t,et()),!(Re&6)&&(lo=et()+500,ws()))}break;case 13:Js(function(){var n=_n(e,1);if(n!==null){var s=Ot();Lr(n,e,1,s)}}),Rp(e,1)}};Zh=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=Ot();Lr(t,e,134217728,r)}Rp(e,134217728)}};Ly=function(e){if(e.tag===13){var t=as(e),r=_n(e,t);if(r!==null){var n=Ot();Lr(r,e,t,n)}Rp(e,t)}};$y=function(){return Le};zy=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};Cf=function(e,t,r){switch(t){case"input":if(xf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ou(n);if(!s)throw Error(Q(90));gy(n),xf(n,s)}}}break;case"textarea":yy(e,r);break;case"select":t=r.value,t!=null&&Di(e,!!r.multiple,t,!1)}};Ey=Tp;Ty=Js;var zT={usingClientEntryPoint:!1,Events:[Ha,ji,ou,_y,ky,Tp]},Lo={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jy(e),e===null?null:e.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ru=xl.inject(FT),tn=xl}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(t))throw Error(Q(200));return DT(e,t,null,r)};lr.createRoot=function(e,t){if(!Ip(e))throw Error(Q(299));var r=!1,n="",s=ax;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Np(e,1,!1,null,null,r,!1,n,s),e[Sn]=t.current,ba(e.nodeType===8?e.parentNode:e),new Ap(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=jy(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return Js(e)};lr.hydrate=function(e,t,r){if(!mu(t))throw Error(Q(200));return gu(null,e,t,!0,r)};lr.hydrateRoot=function(e,t,r){if(!Ip(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ax;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ox(t,null,e,1,r??null,s,!1,i,o),e[Sn]=t.current,ba(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pu(t)};lr.render=function(e,t,r){if(!mu(t))throw Error(Q(200));return gu(null,e,t,!1,r)};lr.unmountComponentAtNode=function(e){if(!mu(e))throw Error(Q(40));return e._reactRootContainer?(Js(function(){gu(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};lr.unstable_batchedUpdates=Tp;lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mu(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return gu(e,t,r,!1,n)};lr.version="18.3.1-next-f1338f8080-20240426";function lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lx)}catch(e){console.error(e)}}lx(),ly.exports=lr;var en=ly.exports;const cx=Y0(en);var Op,qg=en;Op=qg.createRoot,qg.hydrateRoot;const UT=1,BT=1e6;let jd=0;function VT(){return jd=(jd+1)%Number.MAX_SAFE_INTEGER,jd.toString()}const Nd=new Map,Gg=e=>{if(Nd.has(e))return;const t=setTimeout(()=>{Nd.delete(e),ra({type:"REMOVE_TOAST",toastId:e})},BT);Nd.set(e,t)},WT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gg(r):e.toasts.forEach(n=>{Gg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Zl=[];let ec={toasts:[]};function ra(e){ec=WT(ec,e),Zl.forEach(t=>{t(ec)})}function HT({...e}){const t=VT(),r=s=>ra({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ra({type:"DISMISS_TOAST",toastId:t});return ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function xs(){const[e,t]=p.useState(ec);return p.useEffect(()=>(Zl.push(t),()=>{const r=Zl.indexOf(t);r>-1&&Zl.splice(r,1)}),[e]),{...e,toast:HT,dismiss:r=>ra({type:"DISMISS_TOAST",toastId:r})}}function ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ux(...e){return t=>e.forEach(r=>qT(r,t))}function We(...e){return p.useCallback(ux(...e),e)}function GT(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][l])||a,w=p.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:w,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,KT(s,...t)]}function KT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var co=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),i=s.find(YT);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return d.jsx(oh,{...n,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return d.jsx(oh,{...n,ref:t,children:r})});co.displayName="Slot";var oh=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=QT(r);return p.cloneElement(r,{...XT(n,r.props),ref:t?ux(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});oh.displayName="SlotClone";var dx=({children:e})=>d.jsx(d.Fragment,{children:e});function YT(e){return p.isValidElement(e)&&e.type===dx}function XT(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function QT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fx(e){const t=e+"CollectionProvider",[r,n]=GT(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,w=B.useRef(null),v=B.useRef(new Map).current;return d.jsx(s,{scope:y,itemMap:v,collectionRef:w,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=B.forwardRef((m,y)=>{const{scope:g,children:w}=m,v=i(a,g),x=We(y,v.collectionRef);return d.jsx(co,{ref:x,children:w})});l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",f=B.forwardRef((m,y)=>{const{scope:g,children:w,...v}=m,x=B.useRef(null),b=We(y,x),S=i(c,g);return B.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),d.jsx(co,{[u]:"",ref:b,children:w})});f.displayName=c;function h(m){const y=i(e+"CollectionConsumer",m);return B.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function JT(e,t){const r=p.createContext(t),n=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function bs(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=f=>{var v;const{scope:h,children:m,...y}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,w=p.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,ZT(s,...t)]}function ZT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var eC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=eC.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?co:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hx(e,t){e&&en.flushSync(()=>e.dispatchEvent(t))}function rt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tC(e,t=globalThis==null?void 0:globalThis.document){const r=rt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rC="DismissableLayer",ah="dismissableLayer.update",nC="dismissableLayer.pointerDownOutside",sC="dismissableLayer.focusOutside",Kg,px=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vu=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=p.useContext(px),[u,f]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=We(t,C=>f(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),x=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,_=oC(C=>{const T=C.target,P=[...c.branches].some(E=>E.contains(T));!S||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),k=aC(C=>{const T=C.target;[...c.branches].some(E=>E.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return tC(C=>{x===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Kg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Yg(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Kg)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Yg())},[u,c]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(ah,C),()=>document.removeEventListener(ah,C)},[]),d.jsx(xe.div,{...l,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,_.onPointerDownCapture)})});vu.displayName=rC;var iC="DismissableLayerBranch",mx=p.forwardRef((e,t)=>{const r=p.useContext(px),n=p.useRef(null),s=We(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(xe.div,{...e,ref:s})});mx.displayName=iC;function oC(e,t=globalThis==null?void 0:globalThis.document){const r=rt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){gx(nC,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function aC(e,t=globalThis==null?void 0:globalThis.document){const r=rt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&gx(sC,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yg(){const e=new CustomEvent(ah);document.dispatchEvent(e)}function gx(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?hx(s,i):s.dispatchEvent(i)}var lC=vu,cC=mx,En=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},uC="Portal",Mp=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=p.useState(!1);En(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cx.createPortal(d.jsx(xe.div,{...n,ref:t}),o):null});Mp.displayName=uC;function dC(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var _r=e=>{const{present:t,children:r}=e,n=fC(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=We(n.ref,hC(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};_r.displayName="Presence";function fC(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=dC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=bl(n.current);i.current=a==="mounted"?c:"none"},[a]),En(()=>{const c=n.current,u=s.current;if(u!==e){const h=i.current,m=bl(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),En(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=m=>{const g=bl(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(i.current=bl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function bl(e){return(e==null?void 0:e.animationName)||"none"}function hC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=pC({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=rt(r),l=p.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[i,e,s,a]);return[o,l]}function pC({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),i=rt(t);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var mC="VisuallyHidden",yu=p.forwardRef((e,t)=>d.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));yu.displayName=mC;var gC=yu,Dp="ToastProvider",[Lp,vC,yC]=fx("Toast"),[vx,hz]=bs("Toast",[yC]),[wC,wu]=vx(Dp),yx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=p.useState(null),[c,u]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dp}\`. Expected non-empty \`string\`.`),d.jsx(Lp.Provider,{scope:t,children:d.jsx(wC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>u(m=>m+1),[]),onToastRemove:p.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};yx.displayName=Dp;var wx="ToastViewport",xC=["F8"],lh="toast.viewportPause",ch="toast.viewportResume",xx=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=xC,label:s="Notifications ({hotkey})",...i}=e,o=wu(wx,r),a=vC(r),l=p.useRef(null),c=p.useRef(null),u=p.useRef(null),f=p.useRef(null),h=We(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const w=v=>{var b;n.length!==0&&n.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=l.current,v=f.current;if(y&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(lh);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ch);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!w.contains(k.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const x=a().map(b=>{const S=b.ref.current,_=[S,...IC(S)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return p.useEffect(()=>{const w=f.current;if(w){const v=x=>{var _,k,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,P=x.shiftKey;if(x.target===w&&P){(_=c.current)==null||_.focus();return}const I=g({tabbingDirection:P?"backwards":"forwards"}),L=I.findIndex(N=>N===T);Rd(I.slice(L+1))?x.preventDefault():P?(k=c.current)==null||k.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),d.jsxs(cC,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&d.jsx(uh,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Rd(w)}}),d.jsx(Lp.Slot,{scope:r,children:d.jsx(xe.ol,{tabIndex:-1,...i,ref:h})}),y&&d.jsx(uh,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Rd(w)}})]})});xx.displayName=wx;var bx="ToastFocusProxy",uh=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=wu(bx,r);return d.jsx(yu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&n()}})});uh.displayName=bx;var xu="Toast",bC="toast.swipeStart",SC="toast.swipeMove",_C="toast.swipeCancel",kC="toast.swipeEnd",Sx=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,l]=yo({prop:n,defaultProp:s,onChange:i});return d.jsx(_r,{present:r||a,children:d.jsx(CC,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:rt(e.onPause),onResume:rt(e.onResume),onSwipeStart:ge(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Sx.displayName=xu;var[EC,TC]=vx(xu,{onClose(){}}),CC=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=wu(xu,r),[w,v]=p.useState(null),x=We(t,N=>v(N)),b=p.useRef(null),S=p.useRef(null),_=s||g.duration,k=p.useRef(0),C=p.useRef(_),T=p.useRef(0),{onToastAdd:P,onToastRemove:E}=g,A=rt(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),I=p.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),k.current=new Date().getTime(),T.current=window.setTimeout(A,N))},[A]);p.useEffect(()=>{const N=g.viewport;if(N){const $=()=>{I(C.current),c==null||c()},O=()=>{const z=new Date().getTime()-k.current;C.current=C.current-z,window.clearTimeout(T.current),l==null||l()};return N.addEventListener(lh,O),N.addEventListener(ch,$),()=>{N.removeEventListener(lh,O),N.removeEventListener(ch,$)}}},[g.viewport,_,l,c,I]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(_)},[i,_,g.isClosePausedRef,I]),p.useEffect(()=>(P(),()=>E()),[P,E]);const L=p.useMemo(()=>w?jx(w):null,[w]);return g.viewport?d.jsxs(d.Fragment,{children:[L&&d.jsx(PC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),d.jsx(EC,{scope:r,onClose:A,children:en.createPortal(d.jsx(Lp.ItemSlot,{scope:r,children:d.jsx(lC,{asChild:!0,onEscapeKeyDown:ge(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ge(e.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:ge(e.onPointerMove,N=>{if(!b.current)return;const $=N.clientX-b.current.x,O=N.clientY-b.current.y,z=!!S.current,j=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=j?D(0,$):0,U=j?0:D(0,O),Y=N.pointerType==="touch"?10:2,re={x:F,y:U},se={originalEvent:N,delta:re};z?(S.current=re,Sl(SC,f,se,{discrete:!1})):Xg(re,g.swipeDirection,Y)?(S.current=re,Sl(bC,u,se,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs($)>Y||Math.abs(O)>Y)&&(b.current=null)}),onPointerUp:ge(e.onPointerUp,N=>{const $=S.current,O=N.target;if(O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),S.current=null,b.current=null,$){const z=N.currentTarget,j={originalEvent:N,delta:$};Xg($,g.swipeDirection,g.swipeThreshold)?Sl(kC,m,j,{discrete:!0}):Sl(_C,h,j,{discrete:!0}),z.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),PC=e=>{const{__scopeToast:t,children:r,...n}=e,s=wu(xu,t),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return RC(()=>o(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Mp,{asChild:!0,children:d.jsx(yu,{...n,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},jC="ToastTitle",_x=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(xe.div,{...n,ref:t})});_x.displayName=jC;var NC="ToastDescription",kx=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(xe.div,{...n,ref:t})});kx.displayName=NC;var Ex="ToastAction",Tx=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(Px,{altText:r,asChild:!0,children:d.jsx($p,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ex}\`. Expected non-empty \`string\`.`),null)});Tx.displayName=Ex;var Cx="ToastClose",$p=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=TC(Cx,r);return d.jsx(Px,{asChild:!0,children:d.jsx(xe.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,s.onClose)})})});$p.displayName=Cx;var Px=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return d.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function jx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),AC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...jx(n))}}),t}function Sl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?hx(s,i):s.dispatchEvent(i)}var Xg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function RC(e=()=>{}){const t=rt(e);En(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function AC(e){return e.nodeType===e.ELEMENT_NODE}function IC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var OC=yx,Nx=xx,Rx=Sx,Ax=_x,Ix=kx,Ox=Tx,Mx=$p;function Dx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Dx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Dx(e))&&(n&&(n+=" "),n+=t);return n}const Qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jg=Lx,bu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Jg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const h=Qg(u)||Qg(f);return s[c][h]}),a=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,f,h]:c},[]);return Jg(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...DC,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$x("lucide",s),...a},[...o.map(([c,u])=>p.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(LC,{ref:i,iconNode:t,className:$x(`lucide-${MC(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=$e("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=$e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=$e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=$e("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=$e("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=$e("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=$e("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zp="-",rP=e=>{const t=sP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(zp);return a[0]===""&&a.length!==1&&a.shift(),Ux(a,t)||nP(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Ux=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Ux(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(zp);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},tv=/^\[(.+)\]$/,nP=e=>{if(tv.test(e)){const t=tv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return oP(Object.entries(e.classGroups),r).forEach(([i,o])=>{fh(o,n,i,t)}),n},fh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:rv(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(iP(s)){fh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{fh(o,rv(t,i),r,n)})})},rv=(e,t)=>{let r=e;return t.split(zp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},iP=e=>e.isThemeGetter,oP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,aP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Bx="!",lP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,u=0,f;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(n||a.slice(w,w+i)===t)){l.push(a.slice(u,w)),u=w+i;continue}if(v==="/"){f=w;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(u),m=h.startsWith(Bx),y=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},cP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},uP=e=>({cache:aP(e.cacheSize),parseClassName:lP(e),...rP(e)}),dP=/\s+/,fP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(dP);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(c);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const w=cP(u).join(":"),v=f?w+Bx:w,x=v+g;if(i.includes(x))continue;i.push(x);const b=s(g,y);for(let S=0;S<b.length;++S){const _=b[S];i.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function hP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Vx(t))&&(n&&(n+=" "),n+=r);return n}const Vx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Vx(e[n]))&&(r&&(r+=" "),r+=t);return r};function pP(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((u,f)=>f(u),e());return r=uP(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=fP(l,r);return s(l,u),u}return function(){return i(hP.apply(null,arguments))}}const Ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Wx=/^\[(?:([a-z-]+):)?(.+)\]$/i,mP=/^\d+\/\d+$/,gP=new Set(["px","full","screen"]),vP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,an=e=>Bi(e)||gP.has(e)||mP.test(e),On=e=>wo(e,"length",jP),Bi=e=>!!e&&!Number.isNaN(Number(e)),Ad=e=>wo(e,"number",Bi),$o=e=>!!e&&Number.isInteger(Number(e)),SP=e=>e.endsWith("%")&&Bi(e.slice(0,-1)),ye=e=>Wx.test(e),Mn=e=>vP.test(e),_P=new Set(["length","size","percentage"]),kP=e=>wo(e,_P,Hx),EP=e=>wo(e,"position",Hx),TP=new Set(["image","url"]),CP=e=>wo(e,TP,RP),PP=e=>wo(e,"",NP),zo=()=>!0,wo=(e,t,r)=>{const n=Wx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jP=e=>yP.test(e)&&!wP.test(e),Hx=()=>!1,NP=e=>xP.test(e),RP=e=>bP.test(e),AP=()=>{const e=Ue("colors"),t=Ue("spacing"),r=Ue("blur"),n=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),f=Ue("invert"),h=Ue("gap"),m=Ue("gradientColorStops"),y=Ue("gradientColorStopPositions"),g=Ue("inset"),w=Ue("margin"),v=Ue("opacity"),x=Ue("padding"),b=Ue("saturate"),S=Ue("scale"),_=Ue("sepia"),k=Ue("skew"),C=Ue("space"),T=Ue("translate"),P=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ye,t],I=()=>[ye,t],L=()=>["",an,On],N=()=>["auto",Bi,ye],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ye],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Bi,ye];return{cacheSize:500,separator:":",theme:{colors:[zo],spacing:[an,On],blur:["none","",Mn,ye],brightness:U(),borderColor:[e],borderRadius:["none","","full",Mn,ye],borderSpacing:I(),borderWidth:L(),contrast:U(),grayscale:D(),hueRotate:U(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[SP,On],inset:A(),margin:A(),opacity:U(),padding:I(),saturate:U(),scale:U(),sepia:D(),skew:U(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Mn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ye]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$o,ye]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",$o,ye]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",$o,ye]},ye]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[$o,ye]},ye]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[Mn]},Mn]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mn,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ad]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Bi,Ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",an,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",an,On]}],"underline-offset":[{"underline-offset":["auto",an,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),EP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[an,ye]}],"outline-w":[{outline:[an,On]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[an,On]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mn,PP]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mn,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$o,ye]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[an,On,Ad]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IP=pP(AP);function Pe(...e){return IP(Lx(e))}const OP=OC,qx=p.forwardRef(({className:e,...t},r)=>d.jsx(Nx,{ref:r,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));qx.displayName=Nx.displayName;const MP=bu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gx=p.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(Rx,{ref:n,className:Pe(MP({variant:t}),e),...r}));Gx.displayName=Rx.displayName;const DP=p.forwardRef(({className:e,...t},r)=>d.jsx(Ox,{ref:r,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));DP.displayName=Ox.displayName;const Kx=p.forwardRef(({className:e,...t},r)=>d.jsx(Mx,{ref:r,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(Fx,{className:"h-4 w-4"})}));Kx.displayName=Mx.displayName;const Yx=p.forwardRef(({className:e,...t},r)=>d.jsx(Ax,{ref:r,className:Pe("text-sm font-semibold",e),...t}));Yx.displayName=Ax.displayName;const Xx=p.forwardRef(({className:e,...t},r)=>d.jsx(Ix,{ref:r,className:Pe("text-sm opacity-90",e),...t}));Xx.displayName=Ix.displayName;function LP(){const{toasts:e}=xs();return d.jsxs(OP,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return d.jsxs(Gx,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(Yx,{children:r}),n&&d.jsx(Xx,{children:n})]}),s,d.jsx(Kx,{})]},t)}),d.jsx(qx,{})]})}var nv=["light","dark"],$P="(prefers-color-scheme: dark)",zP=p.createContext(void 0),FP={setTheme:e=>{},themes:[]},UP=()=>{var e;return(e=p.useContext(zP))!=null?e:FP};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?nv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,w=!0)=>{let v=o?o[y]:y,x=g?y+"|| ''":`'${v}'`,b="";return s&&w&&!g&&nv.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${u}${h(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${$P}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var BP=e=>{switch(e){case"success":return HP;case"info":return GP;case"warning":return qP;case"error":return KP;default:return null}},VP=Array(12).fill(0),WP=({visible:e})=>B.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},B.createElement("div",{className:"sonner-spinner"},VP.map((t,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),HP=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qP=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GP=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KP=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YP=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},hh=1,XP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hh++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(JP(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:a})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:a})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||hh++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},er=new XP,QP=(e,t)=>{let r=(t==null?void 0:t.id)||hh++;return er.addToast({title:e,...t,id:r}),r},JP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ZP=QP,ej=()=>er.toasts;Object.assign(ZP,{success:er.success,info:er.info,warning:er.warning,error:er.error,custom:er.custom,message:er.message,promise:er.promise,dismiss:er.dismiss,loading:er.loading},{getHistory:ej});function tj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kl(e){return e.label!==void 0}var rj=3,nj="32px",sj=4e3,ij=356,oj=14,aj=20,lj=200;function cj(...e){return e.filter(Boolean).join(" ")}var uj=e=>{var t,r,n,s,i,o,a,l,c,u;let{invert:f,toast:h,unstyled:m,interacting:y,setHeights:g,visibleToasts:w,heights:v,index:x,toasts:b,expanded:S,removeToast:_,defaultRichColors:k,closeButton:C,style:T,cancelButtonStyle:P,actionButtonStyle:E,className:A="",descriptionClassName:I="",duration:L,position:N,gap:$,loadingIcon:O,expandByDefault:z,classNames:j,icons:D,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:U,cn:Y}=e,[re,se]=B.useState(!1),[Se,ee]=B.useState(!1),[ce,le]=B.useState(!1),[ne,ae]=B.useState(!1),[Ae,ue]=B.useState(0),[W,Z]=B.useState(0),de=B.useRef(null),oe=B.useRef(null),me=x===0,be=x+1<=w,he=h.type,Ze=h.dismissible!==!1,Xt=h.className||"",jn=h.descriptionClassName||"",Er=B.useMemo(()=>v.findIndex(pe=>pe.toastId===h.id)||0,[v,h.id]),_s=B.useMemo(()=>{var pe;return(pe=h.closeButton)!=null?pe:C},[h.closeButton,C]),ks=B.useMemo(()=>h.duration||L||sj,[h.duration,L]),Nn=B.useRef(0),ut=B.useRef(0),wt=B.useRef(0),xt=B.useRef(null),[Rn,Tr]=N.split("-"),Es=B.useMemo(()=>v.reduce((pe,Ie,Ee)=>Ee>=Er?pe:pe+Ie.height,0),[v,Er]),ci=YP(),ui=h.invert||f,Pt=he==="loading";ut.current=B.useMemo(()=>Er*$+Es,[Er,Es]),B.useEffect(()=>{se(!0)},[]),B.useLayoutEffect(()=>{if(!re)return;let pe=oe.current,Ie=pe.style.height;pe.style.height="auto";let Ee=pe.getBoundingClientRect().height;pe.style.height=Ie,Z(Ee),g(Me=>Me.find(Ne=>Ne.toastId===h.id)?Me.map(Ne=>Ne.toastId===h.id?{...Ne,height:Ee}:Ne):[{toastId:h.id,height:Ee,position:h.position},...Me])},[re,h.title,h.description,g,h.id]);let Qt=B.useCallback(()=>{ee(!0),ue(ut.current),g(pe=>pe.filter(Ie=>Ie.toastId!==h.id)),setTimeout(()=>{_(h)},lj)},[h,_,g,ut]);B.useEffect(()=>{if(h.promise&&he==="loading"||h.duration===1/0||h.type==="loading")return;let pe,Ie=ks;return S||y||U&&ci?(()=>{if(wt.current<Nn.current){let Ee=new Date().getTime()-Nn.current;Ie=Ie-Ee}wt.current=new Date().getTime()})():Ie!==1/0&&(Nn.current=new Date().getTime(),pe=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Qt()},Ie)),()=>clearTimeout(pe)},[S,y,z,h,ks,Qt,h.promise,he,U,ci]),B.useEffect(()=>{let pe=oe.current;if(pe){let Ie=pe.getBoundingClientRect().height;return Z(Ie),g(Ee=>[{toastId:h.id,height:Ie,position:h.position},...Ee]),()=>g(Ee=>Ee.filter(Me=>Me.toastId!==h.id))}},[g,h.id]),B.useEffect(()=>{h.delete&&Qt()},[Qt,h.delete]);function Ts(){return D!=null&&D.loading?B.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},D.loading):O?B.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},O):B.createElement(WP,{visible:he==="loading"})}return B.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:Y(A,Xt,j==null?void 0:j.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[he],(r=h==null?void 0:h.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":re,"data-promise":!!h.promise,"data-removed":Se,"data-visible":be,"data-y-position":Rn,"data-x-position":Tr,"data-index":x,"data-front":me,"data-swiping":ce,"data-dismissible":Ze,"data-type":he,"data-invert":ui,"data-swipe-out":ne,"data-expanded":!!(S||z&&re),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${Se?Ae:ut.current}px`,"--initial-height":z?"auto":`${W}px`,...T,...h.style},onPointerDown:pe=>{Pt||!Ze||(de.current=new Date,ue(ut.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(le(!0),xt.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Ie,Ee,Me;if(ne||!Ze)return;xt.current=null;let Ne=Number(((pe=oe.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),He=new Date().getTime()-((Ie=de.current)==null?void 0:Ie.getTime()),Xe=Math.abs(Ne)/He;if(Math.abs(Ne)>=aj||Xe>.11){ue(ut.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Qt(),ae(!0);return}(Me=oe.current)==null||Me.style.setProperty("--swipe-amount","0px"),le(!1)},onPointerMove:pe=>{var Ie;if(!xt.current||!Ze)return;let Ee=pe.clientY-xt.current.y,Me=pe.clientX-xt.current.x,Ne=(Rn==="top"?Math.min:Math.max)(0,Ee),He=pe.pointerType==="touch"?10:2;Math.abs(Ne)>He?(Ie=oe.current)==null||Ie.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(Me)>He&&(xt.current=null)}},_s&&!h.jsx?B.createElement("button",{"aria-label":F,"data-disabled":Pt,"data-close-button":!0,onClick:Pt||!Ze?()=>{}:()=>{var pe;Qt(),(pe=h.onDismiss)==null||pe.call(h,h)},className:Y(j==null?void 0:j.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||B.isValidElement(h.title)?h.jsx||h.title:B.createElement(B.Fragment,null,he||h.icon||h.promise?B.createElement("div",{"data-icon":"",className:Y(j==null?void 0:j.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ts():null,h.type!=="loading"?h.icon||(D==null?void 0:D[he])||BP(he):null):null,B.createElement("div",{"data-content":"",className:Y(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:Y(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?B.createElement("div",{"data-description":"",className:Y(I,jn,j==null?void 0:j.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&kl(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:pe=>{var Ie,Ee;kl(h.cancel)&&Ze&&((Ee=(Ie=h.cancel).onClick)==null||Ee.call(Ie,pe),Qt())},className:Y(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&kl(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||E,onClick:pe=>{var Ie,Ee;kl(h.action)&&(pe.defaultPrevented||((Ee=(Ie=h.action).onClick)==null||Ee.call(Ie,pe),Qt()))},className:Y(j==null?void 0:j.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function sv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var dj=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:f,visibleToasts:h=rj,toastOptions:m,dir:y=sv(),gap:g=oj,loadingIcon:w,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:S=cj}=e,[_,k]=B.useState([]),C=B.useMemo(()=>Array.from(new Set([r].concat(_.filter(U=>U.position).map(U=>U.position)))),[_,r]),[T,P]=B.useState([]),[E,A]=B.useState(!1),[I,L]=B.useState(!1),[N,$]=B.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=B.useRef(null),z=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=B.useRef(null),D=B.useRef(!1),F=B.useCallback(U=>{var Y;(Y=_.find(re=>re.id===U.id))!=null&&Y.delete||er.dismiss(U.id),k(re=>re.filter(({id:se})=>se!==U.id))},[_]);return B.useEffect(()=>er.subscribe(U=>{if(U.dismiss){k(Y=>Y.map(re=>re.id===U.id?{...re,delete:!0}:re));return}setTimeout(()=>{cx.flushSync(()=>{k(Y=>{let re=Y.findIndex(se=>se.id===U.id);return re!==-1?[...Y.slice(0,re),{...Y[re],...U},...Y.slice(re+1)]:[U,...Y]})})})}),[]),B.useEffect(()=>{if(l!=="system"){$(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{$(U?"dark":"light")})},[l]),B.useEffect(()=>{_.length<=1&&A(!1)},[_]),B.useEffect(()=>{let U=Y=>{var re,se;n.every(Se=>Y[Se]||Y.code===Se)&&(A(!0),(re=O.current)==null||re.focus()),Y.code==="Escape"&&(document.activeElement===O.current||(se=O.current)!=null&&se.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[n]),B.useEffect(()=>{if(O.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,D.current=!1)}},[O.current]),_.length?B.createElement("section",{"aria-label":`${x} ${z}`,tabIndex:-1},C.map((U,Y)=>{var re;let[se,Se]=U.split("-");return B.createElement("ol",{key:U,dir:y==="auto"?sv():y,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":N,"data-y-position":se,"data-x-position":Se,style:{"--front-toast-height":`${((re=T[0])==null?void 0:re.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||nj,"--width":`${ij}px`,"--gap":`${g}px`,...f},onBlur:ee=>{D.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(D.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||D.current||(D.current=!0,j.current=ee.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},_.filter(ee=>!ee.position&&Y===0||ee.position===U).map((ee,ce)=>{var le,ne;return B.createElement(uj,{key:ee.id,icons:v,index:ce,toast:ee,defaultRichColors:c,duration:(le=m==null?void 0:m.duration)!=null?le:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(ne=m==null?void 0:m.closeButton)!=null?ne:i,interacting:I,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:_.filter(ae=>ae.position==ee.position),heights:T.filter(ae=>ae.position==ee.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:E,pauseWhenPageIsHidden:b,cn:S})}))})):null};const fj=({...e})=>{const{theme:t="system"}=UP();return d.jsx(dj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var hj=oy.useId||(()=>{}),pj=0;function na(e){const[t,r]=p.useState(hj());return En(()=>{e||r(n=>n??String(pj++))},[e]),e||(t?`radix-${t}`:"")}const mj=["top","right","bottom","left"],fs=Math.min,nr=Math.max,Ac=Math.round,El=Math.floor,hs=e=>({x:e,y:e}),gj={left:"right",right:"left",bottom:"top",top:"bottom"},vj={start:"end",end:"start"};function ph(e,t,r){return nr(e,fs(t,r))}function Tn(e,t){return typeof e=="function"?e(t):e}function Cn(e){return e.split("-")[0]}function xo(e){return e.split("-")[1]}function Fp(e){return e==="x"?"y":"x"}function Up(e){return e==="y"?"height":"width"}function ps(e){return["top","bottom"].includes(Cn(e))?"y":"x"}function Bp(e){return Fp(ps(e))}function yj(e,t,r){r===void 0&&(r=!1);const n=xo(e),s=Bp(e),i=Up(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ic(o)),[o,Ic(o)]}function wj(e){const t=Ic(e);return[mh(e),t,mh(t)]}function mh(e){return e.replace(/start|end/g,t=>vj[t])}function xj(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function bj(e,t,r,n){const s=xo(e);let i=xj(Cn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(mh)))),i}function Ic(e){return e.replace(/left|right|bottom|top/g,t=>gj[t])}function Sj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qx(e){return typeof e!="number"?Sj(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function iv(e,t,r){let{reference:n,floating:s}=e;const i=ps(t),o=Bp(t),a=Up(o),l=Cn(t),c=i==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(xo(t)){case"start":m[o]-=h*(r&&c?-1:1);break;case"end":m[o]+=h*(r&&c?-1:1);break}return m}const _j=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=iv(c,n,l),h=n,m={},y=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x,y:b,data:S,reset:_}=await v({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});u=x??u,f=b??f,m={...m,[w]:{...m[w],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:u,y:f}=iv(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function Na(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Tn(t,e),y=Qx(m),w=a[h?f==="floating"?"reference":"floating":f],v=Oc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Oc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-_.top+y.top)/S.y,bottom:(_.bottom-v.bottom+y.bottom)/S.y,left:(v.left-_.left+y.left)/S.x,right:(_.right-v.right+y.right)/S.x}}const kj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Tn(e,t)||{};if(c==null)return{};const f=Qx(u),h={x:r,y:n},m=Bp(s),y=Up(m),g=await o.getDimensions(c),w=m==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],_=h[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=k?k[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(k)))&&(C=a.floating[b]||i.floating[y]);const T=S/2-_/2,P=C/2-g[y]/2-1,E=fs(f[v],P),A=fs(f[x],P),I=E,L=C-g[y]-A,N=C/2-g[y]/2+T,$=ph(I,N,L),O=!l.arrow&&xo(s)!=null&&N!==$&&i.reference[y]/2-(N<I?E:A)-g[y]/2<0,z=O?N<I?N-I:N-L:0;return{[m]:h[m]+z,data:{[m]:$,centerOffset:N-$-z,...O&&{alignmentOffset:z}},reset:O}}}),Ej=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Tn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Cn(s),x=ps(a),b=Cn(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(b||!g?[Ic(a)]:wj(a)),k=y!=="none";!h&&k&&_.push(...bj(a,g,y,S));const C=[a,..._],T=await Na(t,w),P=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(T[v]),f){const N=yj(s,o,S);P.push(T[N[0]],T[N[1]])}if(E=[...E,{placement:s,overflows:P}],!P.every(N=>N<=0)){var A,I;const N=(((A=i.flip)==null?void 0:A.index)||0)+1,$=C[N];if($)return{data:{index:N,overflows:E},reset:{placement:$}};let O=(I=E.filter(z=>z.overflows[0]<=0).sort((z,j)=>z.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!O)switch(m){case"bestFit":{var L;const z=(L=E.filter(j=>{if(k){const D=ps(j.placement);return D===x||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:L[0];z&&(O=z);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function ov(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function av(e){return mj.some(t=>e[t]>=0)}const Tj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Tn(e,t);switch(n){case"referenceHidden":{const i=await Na(t,{...s,elementContext:"reference"}),o=ov(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:av(o)}}}case"escaped":{const i=await Na(t,{...s,altBoundary:!0}),o=ov(i,r.floating);return{data:{escapedOffsets:o,escaped:av(o)}}}default:return{}}}}};async function Cj(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Cn(r),a=xo(r),l=ps(r)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=Tn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const Pj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await Cj(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...l}=Tn(e,t),c={x:r,y:n},u=await Na(t,l),f=ps(Cn(s)),h=Fp(f);let m=c[h],y=c[f];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=m+u[w],b=m-u[v];m=ph(x,m,b)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+u[w],b=y-u[v];y=ph(x,y,b)}const g=a.fn({...t,[h]:m,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},Nj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Tn(e,t),u={x:r,y:n},f=ps(s),h=Fp(f);let m=u[h],y=u[f];const g=Tn(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+w.mainAxis,_=i.reference[h]+i.reference[b]-w.mainAxis;m<S?m=S:m>_&&(m=_)}if(c){var v,x;const b=h==="y"?"width":"height",S=["top","left"].includes(Cn(s)),_=i.reference[f]-i.floating[b]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),k=i.reference[f]+i.reference[b]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?w.crossAxis:0);y<_?y=_:y>k&&(y=k)}return{[h]:m,[f]:y}}}},Rj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Tn(e,t),u=await Na(t,c),f=Cn(s),h=xo(s),m=ps(s)==="y",{width:y,height:g}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=y-u.left-u.right,S=fs(g-u[w],x),_=fs(y-u[v],b),k=!t.middlewareData.shift;let C=S,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),k&&!h){const E=nr(u.left,0),A=nr(u.right,0),I=nr(u.top,0),L=nr(u.bottom,0);m?T=y-2*(E!==0||A!==0?E+A:nr(u.left,u.right)):C=g-2*(I!==0||L!==0?I+L:nr(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Su(){return typeof window<"u"}function bo(e){return Jx(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sn(e){var t;return(t=(Jx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jx(e){return Su()?e instanceof Node||e instanceof or(e).Node:!1}function zr(e){return Su()?e instanceof Element||e instanceof or(e).Element:!1}function nn(e){return Su()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function lv(e){return!Su()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}function Ga(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function Aj(e){return["table","td","th"].includes(bo(e))}function _u(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vp(e){const t=Wp(),r=zr(e)?Fr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ij(e){let t=ms(e);for(;nn(t)&&!uo(t);){if(Vp(t))return t;if(_u(t))return null;t=ms(t)}return null}function Wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uo(e){return["html","body","#document"].includes(bo(e))}function Fr(e){return or(e).getComputedStyle(e)}function ku(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ms(e){if(bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lv(e)&&e.host||sn(e);return lv(t)?t.host:t}function Zx(e){const t=ms(e);return uo(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&Ga(t)?t:Zx(t)}function Ra(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Zx(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=or(s);if(i){const a=gh(o);return t.concat(o,o.visualViewport||[],Ga(s)?s:[],a&&r?Ra(a):[])}return t.concat(s,Ra(s,[],r))}function gh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eb(e){const t=Fr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=nn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Ac(r)!==i||Ac(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Hp(e){return zr(e)?e:e.contextElement}function Vi(e){const t=Hp(e);if(!nn(t))return hs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=eb(t);let o=(i?Ac(r.width):r.width)/n,a=(i?Ac(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Oj=hs(0);function tb(e){const t=or(e);return!Wp()||!t.visualViewport?Oj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==or(e)?!1:t}function Zs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Hp(e);let o=hs(1);t&&(n?zr(n)&&(o=Vi(n)):o=Vi(e));const a=Mj(i,r,n)?tb(i):hs(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const h=or(i),m=n&&zr(n)?or(n):n;let y=h,g=gh(y);for(;g&&n&&m!==y;){const w=Vi(g),v=g.getBoundingClientRect(),x=Fr(g),b=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=b,c+=S,y=or(g),g=gh(y)}}return Oc({width:u,height:f,x:l,y:c})}function Dj(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=sn(n),a=t?_u(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=hs(1);const u=hs(0),f=nn(n);if((f||!f&&!i)&&((bo(n)!=="body"||Ga(o))&&(l=ku(n)),nn(n))){const h=Zs(n);c=Vi(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}}function Lj(e){return Array.from(e.getClientRects())}function vh(e,t){const r=ku(e).scrollLeft;return t?t.left+r:Zs(sn(e)).left+r}function $j(e){const t=sn(e),r=ku(e),n=e.ownerDocument.body,s=nr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=nr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+vh(e);const a=-r.scrollTop;return Fr(n).direction==="rtl"&&(o+=nr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function zj(e,t){const r=or(e),n=sn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Wp();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Fj(e,t){const r=Zs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=nn(e)?Vi(e):hs(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function cv(e,t,r){let n;if(t==="viewport")n=zj(e,r);else if(t==="document")n=$j(sn(e));else if(zr(t))n=Fj(t,r);else{const s=tb(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Oc(n)}function rb(e,t){const r=ms(e);return r===t||!zr(r)||uo(r)?!1:Fr(r).position==="fixed"||rb(r,t)}function Uj(e,t){const r=t.get(e);if(r)return r;let n=Ra(e,[],!1).filter(a=>zr(a)&&bo(a)!=="body"),s=null;const i=Fr(e).position==="fixed";let o=i?ms(e):e;for(;zr(o)&&!uo(o);){const a=Fr(o),l=Vp(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ga(o)&&!l&&rb(e,o))?n=n.filter(u=>u!==o):s=a,o=ms(o)}return t.set(e,n),n}function Bj(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?_u(t)?[]:Uj(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const f=cv(t,u,s);return c.top=nr(f.top,c.top),c.right=fs(f.right,c.right),c.bottom=fs(f.bottom,c.bottom),c.left=nr(f.left,c.left),c},cv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vj(e){const{width:t,height:r}=eb(e);return{width:t,height:r}}function Wj(e,t,r){const n=nn(t),s=sn(t),i=r==="fixed",o=Zs(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=hs(0);if(n||!n&&!i)if((bo(t)!=="body"||Ga(s))&&(a=ku(t)),n){const m=Zs(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&(l.x=vh(s));let c=0,u=0;if(s&&!n&&!i){const m=s.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-vh(s,m)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-u;return{x:f,y:h,width:o.width,height:o.height}}function Id(e){return Fr(e).position==="static"}function uv(e,t){if(!nn(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sn(e)===r&&(r=r.ownerDocument.body),r}function nb(e,t){const r=or(e);if(_u(e))return r;if(!nn(e)){let s=ms(e);for(;s&&!uo(s);){if(zr(s)&&!Id(s))return s;s=ms(s)}return r}let n=uv(e,t);for(;n&&Aj(n)&&Id(n);)n=uv(n,t);return n&&uo(n)&&Id(n)&&!Vp(n)?r:n||Ij(e)||r}const Hj=async function(e){const t=this.getOffsetParent||nb,r=this.getDimensions,n=await r(e.floating);return{reference:Wj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qj(e){return Fr(e).direction==="rtl"}const Gj={convertOffsetParentRelativeRectToViewportRelativeRect:Dj,getDocumentElement:sn,getClippingRect:Bj,getOffsetParent:nb,getElementRects:Hj,getClientRects:Lj,getDimensions:Vj,getScale:Vi,isElement:zr,isRTL:qj};function Kj(e,t){let r=null,n;const s=sn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const m=El(u),y=El(s.clientWidth-(c+f)),g=El(s.clientHeight-(u+h)),w=El(c),x={rootMargin:-m+"px "+-y+"px "+-g+"px "+-w+"px",threshold:nr(0,fs(1,l))||1};let b=!0;function S(_){const k=_[0].intersectionRatio;if(k!==l){if(!b)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return o(!0),i}function Yj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Hp(e),u=s||i?[...c?Ra(c):[],...Ra(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=c&&a?Kj(c,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),c&&!l&&m.observe(c),m.observe(t));let y,g=l?Zs(e):null;l&&w();function w(){const v=Zs(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&r(),g=v,y=requestAnimationFrame(w)}return r(),()=>{var v;u.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Xj=Pj,Qj=jj,Jj=Ej,Zj=Rj,eN=Tj,dv=kj,tN=Nj,rN=(e,t,r)=>{const n=new Map,s={platform:Gj,...r},i={...s.platform,_c:n};return _j(e,t,{...s,platform:i})};var tc=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Mc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function sb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fv(e,t){const r=sb(e);return Math.round(t*r)/r}function Od(e){const t=p.useRef(e);return tc(()=>{t.current=e}),t}function nN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Mc(h,n)||m(n);const[y,g]=p.useState(null),[w,v]=p.useState(null),x=p.useCallback(j=>{j!==k.current&&(k.current=j,g(j))},[]),b=p.useCallback(j=>{j!==C.current&&(C.current=j,v(j))},[]),S=i||y,_=o||w,k=p.useRef(null),C=p.useRef(null),T=p.useRef(u),P=l!=null,E=Od(l),A=Od(s),I=Od(c),L=p.useCallback(()=>{if(!k.current||!C.current)return;const j={placement:t,strategy:r,middleware:h};A.current&&(j.platform=A.current),rN(k.current,C.current,j).then(D=>{const F={...D,isPositioned:I.current!==!1};N.current&&!Mc(T.current,F)&&(T.current=F,en.flushSync(()=>{f(F)}))})},[h,t,r,A,I]);tc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const N=p.useRef(!1);tc(()=>(N.current=!0,()=>{N.current=!1}),[]),tc(()=>{if(S&&(k.current=S),_&&(C.current=_),S&&_){if(E.current)return E.current(S,_,L);L()}},[S,_,L,E,P]);const $=p.useMemo(()=>({reference:k,floating:C,setReference:x,setFloating:b}),[x,b]),O=p.useMemo(()=>({reference:S,floating:_}),[S,_]),z=p.useMemo(()=>{const j={position:r,left:0,top:0};if(!O.floating)return j;const D=fv(O.floating,u.x),F=fv(O.floating,u.y);return a?{...j,transform:"translate("+D+"px, "+F+"px)",...sb(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:F}},[r,a,O.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:L,refs:$,elements:O,floatingStyles:z}),[u,L,$,O,z])}const sN=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dv({element:n.current,padding:s}).fn(r):{}:n?dv({element:n,padding:s}).fn(r):{}}}},iN=(e,t)=>({...Xj(e),options:[e,t]}),oN=(e,t)=>({...Qj(e),options:[e,t]}),aN=(e,t)=>({...tN(e),options:[e,t]}),lN=(e,t)=>({...Jj(e),options:[e,t]}),cN=(e,t)=>({...Zj(e),options:[e,t]}),uN=(e,t)=>({...eN(e),options:[e,t]}),dN=(e,t)=>({...sN(e),options:[e,t]});var fN="Arrow",ib=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(xe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});ib.displayName=fN;var hN=ib;function pN(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][l])||a,w=p.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:w,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,mN(s,...t)]}function mN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function qp(e){const[t,r]=p.useState(void 0);return En(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ob="Popper",[ab,lb]=pN(ob),[pz,cb]=ab(ob),ub="PopperAnchor",db=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=cb(ub,r),o=p.useRef(null),a=We(t,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(xe.div,{...s,ref:a})});db.displayName=ub;var Gp="PopperContent",[gN,vN]=ab(Gp),fb=p.forwardRef((e,t)=>{var ce,le,ne,ae,Ae,ue;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,w=cb(Gp,r),[v,x]=p.useState(null),b=We(t,W=>x(W)),[S,_]=p.useState(null),k=qp(S),C=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,P=n+(i!=="center"?"-"+i:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],I=A.length>0,L={padding:E,boundary:A.filter(wN),altBoundary:I},{refs:N,floatingStyles:$,placement:O,isPositioned:z,middlewareData:j}=nN({strategy:"fixed",placement:P,whileElementsMounted:(...W)=>Yj(...W,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[iN({mainAxis:s+T,alignmentAxis:o}),l&&oN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aN():void 0,...L}),l&&lN({...L}),cN({...L,apply:({elements:W,rects:Z,availableWidth:de,availableHeight:oe})=>{const{width:me,height:be}=Z.reference,he=W.floating.style;he.setProperty("--radix-popper-available-width",`${de}px`),he.setProperty("--radix-popper-available-height",`${oe}px`),he.setProperty("--radix-popper-anchor-width",`${me}px`),he.setProperty("--radix-popper-anchor-height",`${be}px`)}}),S&&dN({element:S,padding:a}),xN({arrowWidth:C,arrowHeight:T}),h&&uN({strategy:"referenceHidden",...L})]}),[D,F]=mb(O),U=rt(y);En(()=>{z&&(U==null||U())},[z,U]);const Y=(ce=j.arrow)==null?void 0:ce.x,re=(le=j.arrow)==null?void 0:le.y,se=((ne=j.arrow)==null?void 0:ne.centerOffset)!==0,[Se,ee]=p.useState();return En(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),d.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(ae=j.transformOrigin)==null?void 0:ae.x,(Ae=j.transformOrigin)==null?void 0:Ae.y].join(" "),...((ue=j.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(gN,{scope:r,placedSide:D,onArrowChange:_,arrowX:Y,arrowY:re,shouldHideArrow:se,children:d.jsx(xe.div,{"data-side":D,"data-align":F,...g,ref:b,style:{...g.style,animation:z?void 0:"none"}})})})});fb.displayName=Gp;var hb="PopperArrow",yN={top:"bottom",right:"left",bottom:"top",left:"right"},pb=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=vN(hb,n),o=yN[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(hN,{...s,ref:r,style:{...s.style,display:"block"}})})});pb.displayName=hb;function wN(e){return e!==null}var xN=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=mb(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?f:`${h}px`,g=`${-l}px`):c==="top"?(y=o?f:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(y=`${n.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function mb(e){const[t,r="center"]=e.split("-");return[t,r]}var bN=db,SN=fb,_N=pb,[Eu,mz]=bs("Tooltip",[lb]),Kp=lb(),gb="TooltipProvider",kN=700,hv="tooltip.open",[EN,vb]=Eu(gb),yb=e=>{const{__scopeTooltip:t,delayDuration:r=kN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(EN,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};yb.displayName=gb;var wb="Tooltip",[gz,Tu]=Eu(wb),yh="TooltipTrigger",TN=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tu(yh,r),i=vb(yh,r),o=Kp(r),a=p.useRef(null),l=We(t,a,s.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),f=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(bN,{asChild:!0,...o,children:d.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:ge(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:ge(e.onBlur,s.onClose),onClick:ge(e.onClick,s.onClose)})})});TN.displayName=yh;var CN="TooltipPortal",[vz,PN]=Eu(CN,{forceMount:void 0}),fo="TooltipContent",xb=p.forwardRef((e,t)=>{const r=PN(fo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Tu(fo,e.__scopeTooltip);return d.jsx(_r,{present:n||o.open,children:o.disableHoverableContent?d.jsx(bb,{side:s,...i,ref:t}):d.jsx(jN,{side:s,...i,ref:t})})}),jN=p.forwardRef((e,t)=>{const r=Tu(fo,e.__scopeTooltip),n=vb(fo,e.__scopeTooltip),s=p.useRef(null),i=We(t,s),[o,a]=p.useState(null),{trigger:l,onClose:c}=r,u=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{a(null),f(!1)},[f]),m=p.useCallback((y,g)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},x=IN(v,w.getBoundingClientRect()),b=ON(v,x),S=MN(g.getBoundingClientRect()),_=LN([...b,...S]);a(_),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&u){const y=w=>m(w,u),g=w=>m(w,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[l,u,m,h]),p.useEffect(()=>{if(o){const y=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),b=!DN(v,o);x?h():b&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,h]),d.jsx(bb,{...e,ref:i})}),[NN,RN]=Eu(wb,{isInside:!1}),bb=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Tu(fo,r),c=Kp(r),{onClose:u}=l;return p.useEffect(()=>(document.addEventListener(hv,u),()=>document.removeEventListener(hv,u)),[u]),p.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(vu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(SN,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(dx,{children:n}),d.jsx(NN,{scope:r,isInside:!0,children:d.jsx(gC,{id:l.contentId,role:"tooltip",children:s||n})})]})})});xb.displayName=fo;var Sb="TooltipArrow",AN=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Kp(r);return RN(Sb,r).isInside?null:d.jsx(_N,{...s,...n,ref:t})});AN.displayName=Sb;function IN(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ON(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function MN(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function DN(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,l=t[i].y,c=t[o].x,u=t[o].y;l>n!=u>n&&r<(c-a)*(n-l)/(u-l)+a&&(s=!s)}return s}function LN(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$N(t)}function $N(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var zN=yb,_b=xb;const kb=zN,FN=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(_b,{ref:n,sideOffset:t,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));FN.displayName=_b.displayName;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pu=typeof window>"u"||"Deno"in globalThis;function Nr(){}function UN(e,t){return typeof e=="function"?e(t):e}function BN(e){return typeof e=="number"&&e>=0&&e!==1/0}function VN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pv(e,t){return typeof e=="function"?e(t):e}function WN(e,t){return typeof e=="function"?e(t):e}function mv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==Yp(o,t.options))return!1}else if(!Ia(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function gv(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Aa(t.options.mutationKey)!==Aa(i))return!1}else if(!Ia(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Yp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Aa)(e)}function Aa(e){return JSON.stringify(e,(t,r)=>wh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ia(e[r],t[r])):!1}function Eb(e,t){if(e===t)return e;const r=vv(e)&&vv(t);if(r||wh(e)&&wh(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const u=r?c:i[c];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=Eb(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function vv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wh(e){if(!yv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yv(e){return Object.prototype.toString.call(e)==="[object Object]"}function HN(e){return new Promise(t=>{setTimeout(t,e)})}function qN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Eb(e,t):t}function GN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function KN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Xp=Symbol();function Tb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Xp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bs,qn,Gi,U0,YN=(U0=class extends Cu{constructor(){super();Oe(this,Bs);Oe(this,qn);Oe(this,Gi);we(this,Gi,t=>{if(!Pu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,qn)||this.setEventListener(K(this,Gi))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,qn))==null||t.call(this),we(this,qn,void 0))}setEventListener(t){var r;we(this,Gi,t),(r=K(this,qn))==null||r.call(this),we(this,qn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){K(this,Bs)!==t&&(we(this,Bs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof K(this,Bs)=="boolean"?K(this,Bs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bs=new WeakMap,qn=new WeakMap,Gi=new WeakMap,U0),Cb=new YN,Ki,Gn,Yi,B0,XN=(B0=class extends Cu{constructor(){super();Oe(this,Ki,!0);Oe(this,Gn);Oe(this,Yi);we(this,Yi,t=>{if(!Pu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,Gn)||this.setEventListener(K(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Gn))==null||t.call(this),we(this,Gn,void 0))}setEventListener(t){var r;we(this,Yi,t),(r=K(this,Gn))==null||r.call(this),we(this,Gn,t(this.setOnline.bind(this)))}setOnline(t){K(this,Ki)!==t&&(we(this,Ki,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return K(this,Ki)}},Ki=new WeakMap,Gn=new WeakMap,Yi=new WeakMap,B0),Dc=new XN;function QN(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function JN(e){return Math.min(1e3*2**e,3e4)}function Pb(e){return(e??"online")==="online"?Dc.isOnline():!0}var jb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Md(e){return e instanceof jb}function Nb(e){let t=!1,r=0,n=!1,s;const i=QN(),o=g=>{var w;n||(h(new jb(g)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Cb.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),u=()=>Pb(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=v=>{(n||c())&&g(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var k;if(n)return;const x=e.retry??(Pu?0:3),b=e.retryDelay??JN,S=typeof b=="function"?b(r,v):b,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!_){h(v);return}r++,(k=e.onFail)==null||k.call(e,r,v),HN(S).then(()=>c()?void 0:m()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():m().then(y),i)}}function ZN(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var It=ZN(),Vs,V0,Rb=(V0=class{constructor(){Oe(this,Vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BN(this.gcTime)&&we(this,Vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pu?1/0:5*60*1e3))}clearGcTimeout(){K(this,Vs)&&(clearTimeout(K(this,Vs)),we(this,Vs,void 0))}},Vs=new WeakMap,V0),Xi,Qi,fr,Et,Fa,Ws,Rr,ln,W0,e2=(W0=class extends Rb{constructor(t){super();Oe(this,Rr);Oe(this,Xi);Oe(this,Qi);Oe(this,fr);Oe(this,Et);Oe(this,Fa);Oe(this,Ws);we(this,Ws,!1),we(this,Fa,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,fr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,Xi,r2(this.options)),this.state=t.state??K(this,Xi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...K(this,Fa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,fr).remove(this)}setData(t,r){const n=qN(this.state.data,t,this.options);return bt(this,Rr,ln).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){bt(this,Rr,ln).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=K(this,Et))==null?void 0:n.promise;return(s=K(this,Et))==null||s.cancel(t),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Xi))}isActive(){return this.observers.some(t=>WN(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!VN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,Et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,Et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(K(this,Et)&&(K(this,Ws)?K(this,Et).cancel({revert:!0}):K(this,Et).cancelRetry()),this.scheduleGc()),K(this,fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,Rr,ln).call(this,{type:"invalidate"})}fetch(t,r){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,Et))return K(this,Et).continueRetry(),K(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(we(this,Ws,!0),n.signal)})},i=()=>{const f=Tb(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),we(this,Ws,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),we(this,Qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&bt(this,Rr,ln).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var h,m,y,g;Md(f)&&f.silent||bt(this,Rr,ln).call(this,{type:"error",error:f}),Md(f)||((m=(h=K(this,fr).config).onError)==null||m.call(h,f,this),(g=(y=K(this,fr).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return we(this,Et,Nb({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,y,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(m=(h=K(this,fr).config).onSuccess)==null||m.call(h,f,this),(g=(y=K(this,fr).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{bt(this,Rr,ln).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{bt(this,Rr,ln).call(this,{type:"pause"})},onContinue:()=>{bt(this,Rr,ln).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),K(this,Et).start()}},Xi=new WeakMap,Qi=new WeakMap,fr=new WeakMap,Et=new WeakMap,Fa=new WeakMap,Ws=new WeakMap,Rr=new WeakSet,ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...t2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Md(s)&&s.revert&&K(this,Qi)?{...K(this,Qi),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),It.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,fr).notify({query:this,type:"updated",action:t})})},W0);function t2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yr,H0,n2=(H0=class extends Cu{constructor(t={}){super();Oe(this,Yr);this.config=t,we(this,Yr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Yp(s,r);let o=this.get(i);return o||(o=new e2({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){K(this,Yr).has(t.queryHash)||(K(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=K(this,Yr).get(t.queryHash);r&&(t.destroy(),r===t&&K(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){It.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Yr).get(t)}getAll(){return[...K(this,Yr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>mv(t,n)):r}notify(t){It.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){It.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,H0),Xr,Rt,Hs,Qr,Dn,q0,s2=(q0=class extends Rb{constructor(t){super();Oe(this,Qr);Oe(this,Xr);Oe(this,Rt);Oe(this,Hs);this.mutationId=t.mutationId,we(this,Rt,t.mutationCache),we(this,Xr,[]),this.state=t.state||i2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,Xr).includes(t)||(K(this,Xr).push(t),this.clearGcTimeout(),K(this,Rt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Xr,K(this,Xr).filter(r=>r!==t)),this.scheduleGc(),K(this,Rt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():K(this,Rt).remove(this))}continue(){var t;return((t=K(this,Hs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,l,c,u,f,h,m,y,g,w,v,x,b,S,_,k,C;we(this,Hs,Nb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{bt(this,Qr,Dn).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{bt(this,Qr,Dn).call(this,{type:"pause"})},onContinue:()=>{bt(this,Qr,Dn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Rt).canRun(this)}));const r=this.state.status==="pending",n=!K(this,Hs).canStart();try{if(!r){bt(this,Qr,Dn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=K(this,Rt).config).onMutate)==null?void 0:i.call(s,t,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));P!==this.state.context&&bt(this,Qr,Dn).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const T=await K(this,Hs).start();return await((c=(l=K(this,Rt).config).onSuccess)==null?void 0:c.call(l,T,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,T,t,this.state.context)),await((m=(h=K(this,Rt).config).onSettled)==null?void 0:m.call(h,T,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,T,null,t,this.state.context)),bt(this,Qr,Dn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(w=K(this,Rt).config).onError)==null?void 0:v.call(w,T,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,T,t,this.state.context)),await((_=(S=K(this,Rt).config).onSettled)==null?void 0:_.call(S,void 0,T,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,T,t,this.state.context)),T}finally{bt(this,Qr,Dn).call(this,{type:"error",error:T})}}finally{K(this,Rt).runNext(this)}}},Xr=new WeakMap,Rt=new WeakMap,Hs=new WeakMap,Qr=new WeakSet,Dn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),It.batch(()=>{K(this,Xr).forEach(n=>{n.onMutationUpdate(t)}),K(this,Rt).notify({mutation:this,type:"updated",action:t})})},q0);function i2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zt,Ua,G0,o2=(G0=class extends Cu{constructor(t={}){super();Oe(this,Zt);Oe(this,Ua);this.config=t,we(this,Zt,new Map),we(this,Ua,Date.now())}build(t,r,n){const s=new s2({mutationCache:this,mutationId:++nl(this,Ua)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Tl(t),n=K(this,Zt).get(r)??[];n.push(t),K(this,Zt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Tl(t);if(K(this,Zt).has(r)){const s=(n=K(this,Zt).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?K(this,Zt).delete(r):K(this,Zt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=K(this,Zt).get(Tl(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=K(this,Zt).get(Tl(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){It.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...K(this,Zt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gv(r,n))}findAll(t={}){return this.getAll().filter(r=>gv(t,r))}notify(t){It.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return It.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nr))))}},Zt=new WeakMap,Ua=new WeakMap,G0);function Tl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function wv(e){return{onFetch:(t,r)=>{var u,f,h,m,y;const n=t.options,s=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=Tb(t.options,t.fetchOptions),x=async(b,S,_)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};w(k);const C=await v(k),{maxPages:T}=t.options,P=_?KN:GN;return{pages:P(b.pages,C,T),pageParams:P(b.pageParams,S,T)}};if(s&&i.length){const b=s==="backward",S=b?a2:xv,_={pages:i,pageParams:o},k=S(n,_);a=await x(_,k,b)}else{const b=e??i.length;do{const S=l===0?o[0]??n.initialPageParam:xv(n,a);if(l>0&&S==null)break;a=await x(a,S),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function xv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function a2(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Qe,Kn,Yn,Ji,Zi,Xn,eo,to,K0,Ab=(K0=class{constructor(e={}){Oe(this,Qe);Oe(this,Kn);Oe(this,Yn);Oe(this,Ji);Oe(this,Zi);Oe(this,Xn);Oe(this,eo);Oe(this,to);we(this,Qe,e.queryCache||new n2),we(this,Kn,e.mutationCache||new o2),we(this,Yn,e.defaultOptions||{}),we(this,Ji,new Map),we(this,Zi,new Map),we(this,Xn,0)}mount(){nl(this,Xn)._++,K(this,Xn)===1&&(we(this,eo,Cb.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,Qe).onFocus())})),we(this,to,Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,Qe).onOnline())})))}unmount(){var e,t;nl(this,Xn)._--,K(this,Xn)===0&&((e=K(this,eo))==null||e.call(this),we(this,eo,void 0),(t=K(this,to))==null||t.call(this),we(this,to,void 0))}isFetching(e){return K(this,Qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,Kn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,Qe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=K(this,Qe).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(pv(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return K(this,Qe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=K(this,Qe).get(n.queryHash),i=s==null?void 0:s.state.data,o=UN(t,i);if(o!==void 0)return K(this,Qe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return It.batch(()=>K(this,Qe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,Qe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=K(this,Qe);It.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,Qe),n={type:"active",...e};return It.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=It.batch(()=>K(this,Qe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(e={},t={}){return It.batch(()=>{if(K(this,Qe).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=It.batch(()=>K(this,Qe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,Qe).build(this,t);return r.isStaleByTime(pv(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nr).catch(Nr)}fetchInfiniteQuery(e){return e.behavior=wv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nr).catch(Nr)}ensureInfiniteQueryData(e){return e.behavior=wv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?K(this,Kn).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Qe)}getMutationCache(){return K(this,Kn)}getDefaultOptions(){return K(this,Yn)}setDefaultOptions(e){we(this,Yn,e)}setQueryDefaults(e,t){K(this,Ji).set(Aa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Ji).values()];let r={};return t.forEach(n=>{Ia(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){K(this,Zi).set(Aa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,Zi).values()];let r={};return t.forEach(n=>{Ia(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Xp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,Qe).clear(),K(this,Kn).clear()}},Qe=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Xn=new WeakMap,eo=new WeakMap,to=new WeakMap,K0),l2=p.createContext(void 0),Ib=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(l2.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}var Zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zn||(Zn={}));const bv="popstate";function c2(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return xh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Lc(s)}return d2(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ob(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u2(){return Math.random().toString(36).substr(2,8)}function Sv(e,t){return{usr:e.state,key:e.key,idx:t}}function xh(e,t,r,n){return r===void 0&&(r=null),Oa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?So(t):t,{state:r,key:t&&t.key||n||u2()})}function Lc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function So(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function d2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Zn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Oa({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Zn.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function h(w,v){a=Zn.Push;let x=xh(g.location,w,v);c=u()+1;let b=Sv(x,c),S=g.createHref(x);try{o.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function m(w,v){a=Zn.Replace;let x=xh(g.location,w,v);c=u();let b=Sv(x,c),S=g.createHref(x);o.replaceState(b,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function y(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Lc(w);return x=x.replace(/ $/,"%20"),nt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(bv,f),l=w,()=>{s.removeEventListener(bv,f),l=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(w){return o.go(w)}};return g}var _v;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_v||(_v={}));function f2(e,t,r){return r===void 0&&(r="/"),h2(e,t,r,!1)}function h2(e,t,r,n){let s=typeof t=="string"?So(t):t,i=Qp(s.pathname||"/",r);if(i==null)return null;let o=Mb(e);p2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=E2(i);a=_2(o[l],c,n)}return a}function Mb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=cs([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Mb(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:b2(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Db(i.path))s(i,o,l)}),t}function Db(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Db(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function p2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const m2=/^:[\w-]+$/,g2=3,v2=2,y2=1,w2=10,x2=-2,kv=e=>e==="*";function b2(e,t){let r=e.split("/"),n=r.length;return r.some(kv)&&(n+=x2),t&&(n+=v2),r.filter(s=>!kv(s)).reduce((s,i)=>s+(m2.test(i)?g2:i===""?y2:w2),n)}function S2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _2(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Ev({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Ev({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:cs([i,f.pathname]),pathnameBase:j2(cs([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=cs([i,f.pathnameBase]))}return o}function Ev(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=k2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function k2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ob(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function E2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ob(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function T2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?So(e):e;return{pathname:r?r.startsWith("/")?r:C2(r,t):t,search:N2(n),hash:R2(s)}}function C2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Dd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Lb(e,t){let r=P2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $b(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=So(e):(s=Oa({},e),nt(!s.pathname||!s.pathname.includes("?"),Dd("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Dd("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Dd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=T2(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const cs=e=>e.join("/").replace(/\/\/+/g,"/"),j2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zb=["post","put","patch","delete"];new Set(zb);const I2=["get",...zb];new Set(I2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(this,arguments)}const Jp=p.createContext(null),O2=p.createContext(null),si=p.createContext(null),ju=p.createContext(null),ii=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Fb=p.createContext(null);function M2(e,t){let{relative:r}=t===void 0?{}:t;Ka()||nt(!1);let{basename:n,navigator:s}=p.useContext(si),{hash:i,pathname:o,search:a}=Bb(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:cs([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Ka(){return p.useContext(ju)!=null}function Ya(){return Ka()||nt(!1),p.useContext(ju).location}function Ub(e){p.useContext(si).static||p.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=p.useContext(ii);return e?K2():D2()}function D2(){Ka()||nt(!1);let e=p.useContext(Jp),{basename:t,future:r,navigator:n}=p.useContext(si),{matches:s}=p.useContext(ii),{pathname:i}=Ya(),o=JSON.stringify(Lb(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return Ub(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=$b(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cs([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function Bb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(si),{matches:s}=p.useContext(ii),{pathname:i}=Ya(),o=JSON.stringify(Lb(s,n.v7_relativeSplatPath));return p.useMemo(()=>$b(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function L2(e,t){return $2(e,t)}function $2(e,t,r,n){Ka()||nt(!1);let{navigator:s}=p.useContext(si),{matches:i}=p.useContext(ii),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ya(),u;if(t){var f;let w=typeof t=="string"?So(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||nt(!1),u=w}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=f2(e,{pathname:m}),g=V2(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:cs([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:cs([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?p.createElement(ju.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zn.Pop}},g):g}function z2(){let e=G2(),t=A2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const F2=p.createElement(z2,null);class U2 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(ii.Provider,{value:this.props.routeContext},p.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B2(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Jp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ii.Provider,{value:t},n)}function V2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||nt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,y=!1,g=null,w=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||F2,l&&(c<0&&h===0?(y=!0,w=null):c===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=g:y?b=w:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,p.createElement(B2,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(U2,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var Vb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vb||{}),$c=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($c||{});function W2(e){let t=p.useContext(Jp);return t||nt(!1),t}function H2(e){let t=p.useContext(O2);return t||nt(!1),t}function q2(e){let t=p.useContext(ii);return t||nt(!1),t}function Wb(e){let t=q2(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function G2(){var e;let t=p.useContext(Fb),r=H2($c.UseRouteError),n=Wb($c.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function K2(){let{router:e}=W2(Vb.UseNavigateStable),t=Wb($c.UseNavigateStable),r=p.useRef(!1);return Ub(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ma({fromRouteId:t},i)))},[e,t])}function Is(e){nt(!1)}function Y2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Zn.Pop,navigator:i,static:o=!1,future:a}=e;Ka()&&nt(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Ma({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=So(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,g=p.useMemo(()=>{let w=Qp(u,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:y},navigationType:s}},[l,u,f,h,m,y,s]);return g==null?null:p.createElement(si.Provider,{value:c},p.createElement(ju.Provider,{children:r,value:g}))}function X2(e){let{children:t,location:r}=e;return L2(bh(t),r)}new Promise(()=>{});function bh(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,bh(n.props.children,i));return}n.type!==Is&&nt(!1),!n.props.index||!n.props.children||nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function Q2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function J2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Z2(e,t){return e.button===0&&(!t||t==="_self")&&!J2(e)}const eR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tR="6";try{window.__reactRouterVersion=tR}catch{}const rR="startTransition",Tv=oy[rR];function nR(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=c2({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=p.useCallback(f=>{c&&Tv?Tv(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(Y2,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const sR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hb=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=Q2(t,eR),{basename:m}=p.useContext(si),y,g=!1;if(typeof c=="string"&&iR.test(c)&&(y=c,sR))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),_=Qp(S.pathname,m);S.origin===b.origin&&_!=null?c=_+S.search+S.hash:g=!0}catch{}let w=M2(c,{relative:s}),v=oR(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||v(b)}return p.createElement("a",Sh({},h,{href:y||w,onClick:g||i?n:x,ref:r,target:l}))});var Cv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cv||(Cv={}));var Pv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pv||(Pv={}));function oR(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Xa(),c=Ya(),u=Bb(e,{relative:o});return p.useCallback(f=>{if(Z2(f,r)){f.preventDefault();let h=n!==void 0?n:Lc(c)===Lc(u);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,n,s,r,e,i,o,a])}const aR="modulepreload",lR=function(e){return"/"+e},jv={},oi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=lR(l),l in jv)return;jv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":aR,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},cR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>_o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uR extends Zp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nv extends Zp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rv extends Zp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _h;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_h||(_h={}));var dR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class fR{constructor(t,{headers:r={},customFetch:n,region:s=_h.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=cR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return dR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new uR(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Nv(f);if(!f.ok)throw new Rv(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Rv||s instanceof Nv?s.context:void 0}}})}}var Bt={},em={},Nu={},Qa={},Ru={},Au={},hR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ho=hR();const pR=ho.fetch,qb=ho.fetch.bind(ho),Gb=ho.Headers,mR=ho.Request,gR=ho.Response,_o=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gb,Request:mR,Response:gR,default:qb,fetch:pR},Symbol.toStringTag,{value:"Module"})),vR=mk(_o);var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});let yR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Iu.default=yR;var Kb=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Au,"__esModule",{value:!0});const wR=Kb(vR),xR=Kb(Iu);let bR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new xR.default(c)}return{error:c,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Au.default=bR;var SR=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ru,"__esModule",{value:!0});const _R=SR(Au);let kR=class extends _R.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ru.default=kR;var ER=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qa,"__esModule",{value:!0});const TR=ER(Ru);let CR=class extends TR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qa.default=CR;var PR=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nu,"__esModule",{value:!0});const Fo=PR(Qa);let jR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Fo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Fo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Fo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Nu.default=jR;var Ou={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.version=void 0;Mu.version="0.0.0-automated";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.DEFAULT_HEADERS=void 0;const NR=Mu;Ou.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${NR.version}`};var Yb=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(em,"__esModule",{value:!0});const RR=Yb(Nu),AR=Yb(Qa),IR=Ou;let OR=class Xb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},IR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new RR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new AR.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};em.default=OR;var ko=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const Qb=ko(em);Bt.PostgrestClient=Qb.default;const Jb=ko(Nu);Bt.PostgrestQueryBuilder=Jb.default;const Zb=ko(Qa);Bt.PostgrestFilterBuilder=Zb.default;const e1=ko(Ru);Bt.PostgrestTransformBuilder=e1.default;const t1=ko(Au);Bt.PostgrestBuilder=t1.default;const r1=ko(Iu);Bt.PostgrestError=r1.default;var MR=Bt.default={PostgrestClient:Qb.default,PostgrestQueryBuilder:Jb.default,PostgrestFilterBuilder:Zb.default,PostgrestTransformBuilder:e1.default,PostgrestBuilder:t1.default,PostgrestError:r1.default};const{PostgrestClient:DR,PostgrestQueryBuilder:_z,PostgrestFilterBuilder:kz,PostgrestTransformBuilder:Ez,PostgrestBuilder:Tz,PostgrestError:Cz}=MR;function LR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const $R=LR(),zR="2.11.15",FR=`realtime-js/${zR}`,UR="1.0.0",n1=1e4,BR=1e3;var sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sa||(sa={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var Ir;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ir||(Ir={}));var kh;(function(e){e.websocket="websocket"})(kh||(kh={}));var Ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ms||(Ms={}));class VR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class s1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Av=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=WR(o,e,t,s),i),{})},WR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?i1(i,o):Eh(o)},i1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KR(t,r)}switch(e){case ze.bool:return HR(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return qR(t);case ze.json:case ze.jsonb:return GR(t);case ze.timestamp:return YR(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Eh(t);default:return Eh(t)}},Eh=e=>e,HR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>i1(t,a))}return e},YR=e=>typeof e=="string"?e.replace(" ","T"):e,o1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ld{constructor(t,r,n={},s=n1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iv||(Iv={}));class ia{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ia.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ia.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ia.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const h=u.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=u.filter(w=>m.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ov||(Ov={}));var Mv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mv||(Mv={}));var fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class tm{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ld(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new s1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ia(this),this.broadcastEndpointURL=o1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(fn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(fn.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(fn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<m;g++){const w=h[g],{filter:{event:v,schema:x,table:b,filter:S}}=w,_=u&&u[g];if(_&&_.event===v&&_.schema===x&&_.table===b&&_.filter===S)y.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(fn.SUBSCRIBED);return}}).receive("error",u=>{this.state=kt.errored,t==null||t(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ld(this,Ir.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ld(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ir;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,g,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(g=m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,w,v,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:w,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tm.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ir.close,{},t)}_onError(t){this._on(Ir.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Av(t.columns,t.old_record)),r}}const Dv=()=>{},XR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=n1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dv,this.ref=0,this.logger=Dv,this.conn=null,this.sendBuffer=[],this.serializer=new VR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>oi(async()=>{const{default:l}=await Promise.resolve().then(()=>_o);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${kh.websocket}`,this.httpEndpoint=o1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new s1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$R),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return Ms.Connecting;case sa.open:return Ms.Open;case sa.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tm(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:FR};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ir.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(BR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ir.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([XR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class rm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class JR extends rm{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Th extends rm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ZR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const a1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>_o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eA=()=>ZR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oi(()=>Promise.resolve().then(()=>_o),void 0)).Response:Response}),Ch=e=>{if(Array.isArray(e))return e.map(r=>Ch(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ch(n)}),t};var ai=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const $d=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tA=(e,t,r)=>ai(void 0,void 0,void 0,function*(){const n=yield eA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new JR($d(s),e.status||500))}).catch(s=>{t(new Th($d(s),s))}):t(new Th($d(e),e))}),rA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ja(e,t,r,n,s,i){return ai(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,rA(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>tA(l,a,n))})})}function zc(e,t,r,n){return ai(this,void 0,void 0,function*(){return Ja(e,"GET",t,r,n)})}function Un(e,t,r,n,s){return ai(this,void 0,void 0,function*(){return Ja(e,"POST",t,n,s,r)})}function nA(e,t,r,n,s){return ai(this,void 0,void 0,function*(){return Ja(e,"PUT",t,n,s,r)})}function sA(e,t,r,n){return ai(this,void 0,void 0,function*(){return Ja(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function l1(e,t,r,n,s){return ai(this,void 0,void 0,function*(){return Ja(e,"DELETE",t,n,s,r)})}var Ft=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const iA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oA{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=a1(s)}uploadOrUpdate(t,r,n,s){return Ft(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ft(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Lv.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Un(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new rm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Un(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}download(t,r){return Ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield zc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}info(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ch(n),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}exists(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield sA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(dt(n)&&n instanceof Th){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Ft(this,void 0,void 0,function*(){try{return{data:yield l1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iA),r),{prefix:t||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aA="2.7.1",lA={"X-Client-Info":`storage-js/${aA}`};var pi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class cA{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},lA),r),this.fetch=a1(n)}listBuckets(){return pi(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return pi(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return pi(this,void 0,void 0,function*(){try{return{data:yield nA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield l1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}}class uA extends cA{constructor(t,r={},n){super(t,r,n)}from(t){return new oA(this.url,this.headers,t,this.fetch)}}const dA="2.50.3";let Ho="";typeof Deno<"u"?Ho="deno":typeof document<"u"?Ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ho="react-native":Ho="node";const fA={"X-Client-Info":`supabase-js-${Ho}/${dA}`},hA={headers:fA},pA={schema:"public"},mA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gA={};var vA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const yA=e=>{let t;return e?t=e:typeof fetch>"u"?t=qb:t=fetch,(...r)=>t(...r)},wA=()=>typeof Headers>"u"?Gb:Headers,xA=(e,t,r)=>{const n=yA(r),s=wA();return(i,o)=>vA(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var bA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function SA(e){return e.endsWith("/")?e:e+"/"}function _A(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bA(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const c1="2.70.0",Si=30*1e3,Ph=3,zd=Ph*Si,kA="http://localhost:9999",EA="supabase.auth.token",TA={"X-Client-Info":`gotrue-js/${c1}`},jh="X-Supabase-Api-Version",u1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PA=6e5;class nm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jA extends nm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function NA(e){return ve(e)&&e.name==="AuthApiError"}class d1 extends nm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ss extends nm{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ln extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RA(e){return ve(e)&&e.name==="AuthSessionMissingError"}class Cl extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends Ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jl extends Ss{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AA(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class $v extends Ss{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nh extends Ss{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fd(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class zv extends Ss{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class oa extends Ss{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fv=` 	
\r=`.split(""),IA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fv.length;t+=1)e[Fv[t].charCodeAt(0)]=-2;for(let t=0;t<Fc.length;t+=1)e[Fc[t].charCodeAt(0)]=t;return e})();function Uv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fc[n]),t.queuedBits-=6}}function f1(e,t,r){const n=IA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bv(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{DA(o,n,r)};for(let o=0;o<e.length;o+=1)f1(e.charCodeAt(o),s,i);return t.join("")}function OA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}OA(n,t)}}function DA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function LA(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)f1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function $A(e){const t=[];return MA(e,r=>t.push(r)),new Uint8Array(t)}function zA(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Uv(s,r,n)),Uv(null,r,n),t.join("")}function FA(e){return Math.round(Date.now()/1e3)+e}function UA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",Ns={tested:!1,writable:!1},aa=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function BA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const h1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>_o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",p1=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rl=async(e,t)=>{await e.removeItem(t)};class Du{constructor(){this.promise=new Du.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Du.promiseConstructor=Promise;function Ud(e){const t=e.split(".");if(t.length!==3)throw new oa("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!CA.test(t[n]))throw new oa("JWT not in base64url format");return{header:JSON.parse(Bv(t[0])),payload:JSON.parse(Bv(t[1])),signature:LA(t[2]),raw:{header:t[0],payload:t[1]}}}async function WA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HA(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function qA(e){return("0"+e.toString(16)).substr(-2)}function GA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,qA).join("")}async function KA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function YA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await KA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mi(e,t,r=!1){const n=GA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await p1(e,`${t}-code-verifier`,s);const i=await YA(n);return[i,n===i?"plain":"s256"]}const XA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QA(e){const t=e.headers.get(jh);if(!t||!t.match(XA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gi(e){if(!eI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var tI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rI=[502,503,504];async function Vv(e){var t;if(!VA(e))throw new Nh(Os(e),0);if(rI.includes(e.status))throw new Nh(Os(e),e.status);let r;try{r=await e.json()}catch(i){throw new d1(Os(i),i)}let n;const s=QA(e);if(s&&s.getTime()>=u1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zv(Os(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zv(Os(r),e.status,r.weak_password.reasons);throw new jA(Os(r),e.status||500,n)}const nI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function _e(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jh]||(i[jh]=u1["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sI(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sI(e,t,r,n,s,i){const o=nI(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Nh(Os(l),0)}if(a.ok||await Vv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Vv(l)}}function cn(e){var t;let r=null;lI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Wv(e){const t=cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iI(e){return{data:e,error:null}}function oI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=tI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function aI(e){return e}function lI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bd=["global","local","others"];var cI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class uI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=h1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Bd[0]){if(Bd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bd.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cI(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:oI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hn})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:aI});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ve(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){gi(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hn})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){gi(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){gi(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){gi(t.userId);try{const{data:r,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){gi(t.userId),gi(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}const dI={getItem:e=>aa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{aa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{aa()&&globalThis.localStorage.removeItem(e)}};function Hv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function fI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vi={debug:!!(globalThis&&aa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hI extends m1{}async function pI(e,t,r){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fI();const mI={url:kA,storageKey:EA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qv(e,t,r){return await r()}class Da{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Da.nextInstanceID,Da.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},mI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new uI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=h1(s.fetch),this.lock=s.lock||qv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pI:this.lock=qv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:aa()?this.storage=dI:(this.memoryStorage={},this.storage=Hv(this.memoryStorage)):(this.memoryStorage={},this.storage=Hv(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=BA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),AA(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new d1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await mi(this.storage,this.storageKey)),i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:cn})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:cn})}else throw new Pl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wv})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wv})}else throw new Pl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,u,f,h,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:w,wallet:v,statement:x,options:b}=t;let S;if(Pr())if(typeof v=="object")S=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:w,error:v}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:zA(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:cn});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Cl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(ve(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:cn});if(await Rl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await mi(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pl("You must provide either an email or phone number.")}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:cn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await mi(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:iI})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ln;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Pl("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Hn})})}catch(r){if(ve(r))return RA(r)&&(await this._removeSession(),await Rl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ln;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await mi(this.storage,this.storageKey));const{data:c,error:u}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Hn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ud(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new jl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $v("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $v("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new jl("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const m=h-u;m*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(NA(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Rl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=UA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await mi(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HA(async s=>(s>0&&await WA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Fd(i)&&Date.now()+o-n<Si})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Nl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zd;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${zd}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Fd(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Du;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ve(i)){const o={session:null,error:i};return Fd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await p1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Rl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Si}ms, refresh threshold is ${Ph} ticks`),s<=Ph&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof m1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await mi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ud(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+PA>Date.now()))return n;const{data:s,error:i}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new oa("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new oa("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ud(n);if(JA(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=ZA(s.alg),u=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,$A(`${a}.${l}`)))throw new oa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}Da.nextInstanceID=0;const gI=Da;class vI extends gI{constructor(t){super(t)}}var yI=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class wI{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=SA(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:pA,realtime:gA,auth:Object.assign(Object.assign({},mA),{storageKey:c}),global:hA},f=_A(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=xA(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new DR(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new fR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uA(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return yI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vI({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xI=(e,t,r)=>new wI(e,t,r),bI="https://gmkjeadjccrodaunahsi.supabase.co",SI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdta2plYWRqY2Nyb2RhdW5haHNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1Njk4OTMsImV4cCI6MjA2NzE0NTg5M30.bnZp1irTilBdmFhnSz49HZTINjK_EljGDUiqltvOED4",X=xI(bI,SI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),g1=Object.freeze(Object.defineProperty({__proto__:null,supabase:X},Symbol.toStringTag,{value:"Module"})),_I=bu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?co:"button";return d.jsx(o,{className:Pe(_I({variant:t,size:r,className:e})),ref:i,...s})});fe.displayName="Button";const Wt=p.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Wt.displayName="Card";const Ht=p.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));Ht.displayName="CardHeader";const yr=p.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));yr.displayName="CardTitle";const kI=p.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));kI.displayName="CardDescription";const qt=p.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Pe("p-6 pt-0",e),...t}));qt.displayName="CardContent";const EI=p.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",e),...t}));EI.displayName="CardFooter";const TI=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(!0),s=Xa();return p.useEffect(()=>{const i=async()=>{const{data:{user:a}}=await X.auth.getUser();if(a){const{data:l}=await X.from("profiles").select("onboarding_completed").eq("user_id",a.id).maybeSingle();if(l!=null&&l.onboarding_completed){s("/",{replace:!0});return}else{s("/onboarding",{replace:!0});return}}t(a),n(!1)};i();const{data:{subscription:o}}=X.auth.onAuthStateChange((a,l)=>{l!=null&&l.user?i():(t(null),n(!1))});return()=>o.unsubscribe()},[s]),r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsx("div",{children:"Loading..."})}):d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold",children:"Mindful Task Guide"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Personalized task management based on your energy and preferences"})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{children:d.jsx(yr,{children:"Get Started"})}),d.jsxs(qt,{className:"space-y-4",children:[d.jsx("p",{className:"text-muted-foreground",children:"Please sign in to access your personalized task management experience."}),d.jsx(fe,{asChild:!0,className:"w-full",children:d.jsx(Hb,{to:"/auth",children:"Sign In / Sign Up"})})]})]})]})})},Mr=p.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Mr.displayName="Input";var CI="Label",v1=p.forwardRef((e,t)=>d.jsx(xe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));v1.displayName=CI;var y1=v1;const PI=bu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=p.forwardRef(({className:e,...t},r)=>d.jsx(y1,{ref:r,className:Pe(PI(),e),...t}));pt.displayName=y1.displayName;function jI(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][l])||a,w=p.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:w,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,NI(s,...t)]}function NI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var RI=p.createContext(void 0);function Lu(e){const t=p.useContext(RI);return e||t||"ltr"}var Vd="rovingFocusGroup.onEntryFocus",AI={bubbles:!1,cancelable:!0},$u="RovingFocusGroup",[Rh,w1,II]=fx($u),[OI,zu]=jI($u,[II]),[MI,DI]=OI($u),x1=p.forwardRef((e,t)=>d.jsx(Rh.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Rh.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(LI,{...e,ref:t})})}));x1.displayName=$u;var LI=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,h=p.useRef(null),m=We(t,h),y=Lu(i),[g=null,w]=yo({prop:o,defaultProp:a,onChange:l}),[v,x]=p.useState(!1),b=rt(c),S=w1(r),_=p.useRef(!1),[k,C]=p.useState(0);return p.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Vd,b),()=>T.removeEventListener(Vd,b)},[b]),d.jsx(MI,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(T=>w(T),[w]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>C(T=>T-1),[]),children:d.jsx(xe.div,{tabIndex:v||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{_.current=!0}),onFocus:ge(e.onFocus,T=>{const P=!_.current;if(T.target===T.currentTarget&&P&&!v){const E=new CustomEvent(Vd,AI);if(T.currentTarget.dispatchEvent(E),!E.defaultPrevented){const A=S().filter(O=>O.focusable),I=A.find(O=>O.active),L=A.find(O=>O.id===g),$=[I,L,...A].filter(Boolean).map(O=>O.ref.current);_1($,u)}}_.current=!1}),onBlur:ge(e.onBlur,()=>x(!1))})})}),b1="RovingFocusGroupItem",S1=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,a=na(),l=i||a,c=DI(b1,r),u=c.currentTabStopId===l,f=w1(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return p.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),d.jsx(Rh.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:d.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:ge(e.onMouseDown,y=>{n?c.onItemFocus(l):y.preventDefault()}),onFocus:ge(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ge(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=FI(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const x=v.indexOf(y.currentTarget);v=c.loop?UI(v,x+1):v.slice(x+1)}setTimeout(()=>_1(v))}})})})});S1.displayName=b1;var $I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function FI(e,t,r){const n=zI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $I[n]}function _1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function UI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k1=x1,E1=S1,sm="Tabs",[BI,Pz]=bs(sm,[zu]),T1=zu(),[VI,im]=BI(sm),C1=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=Lu(a),[f,h]=yo({prop:n,onChange:s,defaultProp:i});return d.jsx(VI,{scope:r,baseId:na(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:d.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:t})})});C1.displayName=sm;var P1="TabsList",j1=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=im(P1,r),o=T1(r);return d.jsx(k1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});j1.displayName=P1;var N1="TabsTrigger",R1=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=im(N1,r),a=T1(r),l=O1(o.baseId,n),c=M1(o.baseId,n),u=n===o.value;return d.jsx(E1,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ge(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ge(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(n)})})})});R1.displayName=N1;var A1="TabsContent",I1=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=im(A1,r),l=O1(a.baseId,n),c=M1(a.baseId,n),u=n===a.value,f=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(_r,{present:s||u,children:({present:h})=>d.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});I1.displayName=A1;function O1(e,t){return`${e}-trigger-${t}`}function M1(e,t){return`${e}-content-${t}`}var WI=C1,D1=j1,L1=R1,$1=I1;const HI=WI,z1=p.forwardRef(({className:e,...t},r)=>d.jsx(D1,{ref:r,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));z1.displayName=D1.displayName;const Ah=p.forwardRef(({className:e,...t},r)=>d.jsx(L1,{ref:r,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ah.displayName=L1.displayName;const Ih=p.forwardRef(({className:e,...t},r)=>d.jsx($1,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ih.displayName=$1.displayName;const qI=()=>{const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,i]=p.useState(!1),o=Xa(),{toast:a}=xs(),l=async u=>{u.preventDefault(),i(!0);try{const{error:f}=await X.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/`}});if(f)if(f.message.includes("already registered"))a({title:"Account exists",description:"This email is already registered. Please sign in instead.",variant:"destructive"});else throw f;else a({title:"Check your email",description:"We've sent you a confirmation link to complete your registration."})}catch(f){a({title:"Error",description:f.message||"Failed to create account. Please try again.",variant:"destructive"})}finally{i(!1)}},c=async u=>{u.preventDefault(),i(!0);try{const{error:f}=await X.auth.signInWithPassword({email:e,password:r});if(f)if(f.message.includes("Invalid login credentials"))a({title:"Invalid credentials",description:"Please check your email and password and try again.",variant:"destructive"});else throw f;else a({title:"Welcome back!",description:"You've been signed in successfully."}),o("/")}catch(f){a({title:"Error",description:f.message||"Failed to sign in. Please try again.",variant:"destructive"})}finally{i(!1)}};return d.jsx("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:d.jsxs("div",{className:"w-full max-w-md space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Welcome"}),d.jsx("p",{className:"text-muted-foreground",children:"Sign in to your account or create a new one"})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{children:d.jsx(yr,{children:"Authentication"})}),d.jsx(qt,{children:d.jsxs(HI,{defaultValue:"signin",className:"space-y-4",children:[d.jsxs(z1,{className:"grid w-full grid-cols-2",children:[d.jsx(Ah,{value:"signin",children:"Sign In"}),d.jsx(Ah,{value:"signup",children:"Sign Up"})]}),d.jsx(Ih,{value:"signin",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"signin-email",children:"Email"}),d.jsx(Mr,{id:"signin-email",type:"email",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"signin-password",children:"Password"}),d.jsx(Mr,{id:"signin-password",type:"password",placeholder:"Enter your password",value:r,onChange:u=>n(u.target.value),required:!0})]}),d.jsx(fe,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]})}),d.jsx(Ih,{value:"signup",children:d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"signup-email",children:"Email"}),d.jsx(Mr,{id:"signup-email",type:"email",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"signup-password",children:"Password"}),d.jsx(Mr,{id:"signup-password",type:"password",placeholder:"Create a password (min 6 characters)",value:r,onChange:u=>n(u.target.value),required:!0,minLength:6})]}),d.jsx(fe,{type:"submit",className:"w-full",disabled:s,children:s?"Creating account...":"Sign Up"})]})})]})})]}),d.jsx("div",{className:"text-center",children:d.jsx(fe,{variant:"ghost",asChild:!0,children:d.jsx(Hb,{to:"/",children:" Back to Home"})})})]})})};function GI(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][l])||a,w=p.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:w,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,KI(s,...t)]}function KI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var om="Progress",am=100,[YI,jz]=GI(om),[XI,QI]=YI(om),F1=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=JI,...o}=e;(s||s===0)&&!Gv(s)&&console.error(ZI(`${s}`,"Progress"));const a=Gv(s)?s:am;n!==null&&!Kv(n,a)&&console.error(eO(`${n}`,"Progress"));const l=Kv(n,a)?n:null,c=Uc(l)?i(l,a):void 0;return d.jsx(XI,{scope:r,value:l,max:a,children:d.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Uc(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":V1(l,a),"data-value":l??void 0,"data-max":a,...o,ref:t})})});F1.displayName=om;var U1="ProgressIndicator",B1=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=QI(U1,r);return d.jsx(xe.div,{"data-state":V1(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});B1.displayName=U1;function JI(e,t){return`${Math.round(e/t*100)}%`}function V1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Uc(e){return typeof e=="number"}function Gv(e){return Uc(e)&&!isNaN(e)&&e>0}function Kv(e,t){return Uc(e)&&!isNaN(e)&&e<=t&&e>=0}function ZI(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${am}\`.`}function eO(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${am} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var W1=F1,tO=B1;const H1=p.forwardRef(({className:e,value:t,...r},n)=>d.jsx(W1,{ref:n,className:Pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx(tO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));H1.displayName=W1.displayName;const rO=({value:e,onChange:t})=>d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:"What is your name?"}),d.jsx("p",{className:"text-muted-foreground",children:"We'd love to know what to call you!"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"displayName",children:"Your name"}),d.jsx(Mr,{id:"displayName",type:"text",placeholder:"Enter your name",value:e,onChange:r=>t(r.target.value),className:"text-lg",autoFocus:!0})]})]});function q1(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lm="Radio",[nO,G1]=bs(lm),[sO,iO]=nO(lm),K1=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:c,...u}=e,[f,h]=p.useState(null),m=We(t,w=>h(w)),y=p.useRef(!1),g=f?c||!!f.closest("form"):!0;return d.jsxs(sO,{scope:r,checked:s,disabled:o,children:[d.jsx(xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":Q1(s),"data-disabled":o?"":void 0,disabled:o,value:a,...u,ref:m,onClick:ge(e.onClick,w=>{s||l==null||l(),g&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),g&&d.jsx(oO,{control:f,bubbles:!y.current,name:n,value:a,checked:s,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});K1.displayName=lm;var Y1="RadioIndicator",X1=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=iO(Y1,r);return d.jsx(_r,{present:n||i.checked,children:d.jsx(xe.span,{"data-state":Q1(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});X1.displayName=Y1;var oO=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=p.useRef(null),o=q1(r),a=qp(t);return p.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Q1(e){return e?"checked":"unchecked"}var aO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cm="RadioGroup",[lO,Nz]=bs(cm,[zu,G1]),J1=zu(),Z1=G1(),[cO,uO]=lO(cm),eS=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...h}=e,m=J1(r),y=Lu(c),[g,w]=yo({prop:i,defaultProp:s,onChange:f});return d.jsx(cO,{scope:r,name:n,required:o,disabled:a,value:g,onValueChange:w,children:d.jsx(k1,{asChild:!0,...m,orientation:l,dir:y,loop:u,children:d.jsx(xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:y,...h,ref:t})})})});eS.displayName=cm;var tS="RadioGroupItem",rS=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=uO(tS,r),o=i.disabled||n,a=J1(r),l=Z1(r),c=p.useRef(null),u=We(t,c),f=i.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=g=>{aO.includes(g.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),d.jsx(E1,{asChild:!0,...a,focusable:!o,active:f,children:d.jsx(K1,{disabled:o,required:i.required,checked:f,...l,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:ge(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ge(s.onFocus,()=>{var m;h.current&&((m=c.current)==null||m.click())})})})});rS.displayName=tS;var dO="RadioGroupIndicator",nS=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Z1(r);return d.jsx(X1,{...s,...n,ref:t})});nS.displayName=dO;var sS=eS,iS=rS,fO=nS;const wn=p.forwardRef(({className:e,...t},r)=>d.jsx(sS,{className:Pe("grid gap-2",e),...t,ref:r}));wn.displayName=sS.displayName;const xn=p.forwardRef(({className:e,...t},r)=>d.jsx(iS,{ref:r,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx(fO,{className:"flex items-center justify-center",children:d.jsx(UC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));xn.displayName=iS.displayName;const hO=[{value:"morning",label:"Morning (6am12pm)"},{value:"afternoon",label:"Afternoon (12pm3pm)"},{value:"late_afternoon",label:"Late Afternoon (3pm5pm)"},{value:"evening",label:"Evening (5pm8pm)"},{value:"night",label:"Night (8pm11pm)"}],Yv=({title:e,value:t,onChange:r})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:e}),d.jsx("p",{className:"text-muted-foreground",children:"Choose the time period that best describes you."})]}),d.jsx(wn,{value:t,onValueChange:r,className:"space-y-3",children:hO.map(n=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[d.jsx(xn,{value:n.value,id:n.value}),d.jsx(pt,{htmlFor:n.value,className:"flex-1 cursor-pointer",children:n.label})]},n.value))})]}),pO=[{value:"easier_first",label:"Start with easier tasks to build momentum",description:"Work your way up to the bigger challenges"},{value:"hardest_first",label:"Tackle the hardest task first and get it over with",description:"Get the biggest challenge out of the way early"},{value:"not_sure",label:"I'm not sure...",description:"Still figuring out what works best for me"}],mO=({value:e,onChange:t})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:"How do you prefer to approach your tasks?"}),d.jsx("p",{className:"text-muted-foreground",children:"Everyone has a different strategy that works for them."})]}),d.jsx(wn,{value:e,onValueChange:t,className:"space-y-4",children:pO.map(r=>d.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border hover:bg-muted/50 transition-colors",children:[d.jsx(xn,{value:r.value,id:r.value,className:"mt-1"}),d.jsx("div",{className:"flex-1",children:d.jsxs(pt,{htmlFor:r.value,className:"cursor-pointer block",children:[d.jsx("div",{className:"font-medium",children:r.label}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:r.description})]})})]},r.value))})]}),yi=[{id:"creative_work",title:"Creative Work",description:"Designing, writing, brainstorming, creating content",examples:["Design a logo","Write a blog post","Create a presentation"]},{id:"data_analysis",title:"Data Analysis",description:"Research, analysis, problem-solving, technical work",examples:["Analyze sales data","Debug code","Research competitors"]},{id:"team_meetings",title:"Team Meetings",description:"Meetings, calls, collaboration, communication",examples:["Team standup","Client call","Project discussion"]},{id:"physical_tasks",title:"Physical Tasks",description:"Hands-on work, exercise, manual activities",examples:["Organize office","Equipment setup","Exercise routine"]},{id:"admin_work",title:"Admin Work",description:"Documentation, filing, routine administrative tasks",examples:["Update spreadsheet","File documents","Process invoices"]},{id:"learning_new_skills",title:"Learning New Skills",description:"Training, courses, skill development, reading",examples:["Take online course","Read industry articles","Practice new skill"]},{id:"project_planning",title:"Project Planning",description:"Strategy, planning, organizing, goal setting",examples:["Plan project timeline","Set goals","Create roadmap"]},{id:"technical_work",title:"Technical Work",description:"CAD work, engineering, software development, system configuration",examples:["Design CAD model","Write code","Configure systems"]}],gO=({preferences:e,onChange:t})=>{const[r,n]=p.useState(0),s=yi[r],i=c=>{const u={...e,[s.id]:c};t(u),r<yi.length-1&&n(r+1)},o=r>0,a=r<yi.length-1,l=Object.keys(e).length===yi.length;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:"How do you feel about these types of tasks?"}),d.jsx("p",{className:"text-muted-foreground",children:"Swipe through each category and let us know your preference"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[r+1," of ",yi.length]})]}),d.jsx("div",{className:"flex justify-center",children:d.jsxs(Wt,{className:"w-full max-w-md",children:[d.jsx(Ht,{children:d.jsx(yr,{className:"text-center",children:s.title})}),d.jsxs(qt,{className:"space-y-4",children:[d.jsx("p",{className:"text-center text-muted-foreground",children:s.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium",children:"Examples:"}),d.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:s.examples.map((c,u)=>d.jsxs("li",{children:[" ",c]},u))})]}),d.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[d.jsxs(fe,{variant:e[s.id]==="disliked"?"default":"outline",size:"sm",onClick:()=>i("disliked"),className:"flex items-center gap-2",children:[d.jsx(ZC,{className:"w-4 h-4"}),"Dislike"]}),d.jsxs(fe,{variant:e[s.id]==="neutral"?"default":"outline",size:"sm",onClick:()=>i("neutral"),className:"flex items-center gap-2",children:[d.jsx(GC,{className:"w-4 h-4"}),"Neutral"]}),d.jsxs(fe,{variant:e[s.id]==="liked"?"default":"outline",size:"sm",onClick:()=>i("liked"),className:"flex items-center gap-2",children:[d.jsx(eP,{className:"w-4 h-4"}),"Like"]})]})]})]})}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx(fe,{variant:"outline",onClick:()=>n(Math.max(0,r-1)),disabled:!o,children:"Previous"}),d.jsx(fe,{variant:"outline",onClick:()=>n(Math.min(yi.length-1,r+1)),disabled:!a,children:"Next"})]}),l&&d.jsx("div",{className:"text-center text-green-600 font-medium",children:"All preferences set! You can proceed to the next step."})]})},vO=bu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qo({className:e,variant:t,...r}){return d.jsx("div",{className:Pe(vO({variant:t}),e),...r})}const yO=[{id:"creative_work",title:"Creative Work"},{id:"data_analysis",title:"Data Analysis"},{id:"team_meetings",title:"Team Meetings"},{id:"physical_tasks",title:"Physical Tasks"},{id:"admin_work",title:"Admin Work"},{id:"learning_new_skills",title:"Learning New Skills"},{id:"project_planning",title:"Project Planning"},{id:"technical_work",title:"Technical Work"}],wO=({data:e,onEdit:t})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:"Review Your Profile"}),d.jsx("p",{className:"text-muted-foreground",children:"Check your preferences and make any changes before finishing"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Wt,{children:[d.jsx(Ht,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(yr,{className:"text-lg",children:"Display Name"}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>t(1),children:d.jsx(_l,{className:"h-4 w-4"})})]})}),d.jsx(qt,{children:d.jsx("p",{className:"font-medium",children:e.displayName})})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(yr,{className:"text-lg",children:"Energy Patterns"}),d.jsx("div",{className:"flex gap-2",children:d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>t(2),children:d.jsx(_l,{className:"h-4 w-4"})})})]})}),d.jsxs(qt,{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Peak Energy: "}),d.jsx("span",{className:"font-medium",children:e.peakEnergyTime})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Lowest Energy: "}),d.jsx("span",{className:"font-medium",children:e.lowestEnergyTime})]})]})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(yr,{className:"text-lg",children:"Task Start Preference"}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>t(4),children:d.jsx(_l,{className:"h-4 w-4"})})]})}),d.jsx(qt,{children:d.jsx("p",{className:"font-medium",children:e.taskStartPreference})})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(yr,{className:"text-lg",children:"Task Preferences"}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>t(5),children:d.jsx(_l,{className:"h-4 w-4"})})]})}),d.jsx(qt,{children:d.jsx("div",{className:"grid grid-cols-1 gap-2",children:yO.map(r=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:r.title}),d.jsx(qo,{variant:e.taskPreferences[r.id]==="liked"?"default":e.taskPreferences[r.id]==="disliked"?"destructive":"secondary",children:e.taskPreferences[r.id]})]},r.id))})})]})]})]}),xO=()=>{const[e,t]=p.useState(1),[r,n]=p.useState(!1),[s,i]=p.useState({displayName:"",peakEnergyTime:"",lowestEnergyTime:"",taskStartPreference:"",taskPreferences:{}}),o=Xa(),{toast:a}=xs(),l=6,c=e/l*100;p.useEffect(()=>{(async()=>{const{data:{user:w}}=await X.auth.getUser();if(!w){o("/");return}const{data:v}=await X.from("profiles").select("onboarding_completed").eq("user_id",w.id).maybeSingle();v!=null&&v.onboarding_completed&&o("/")})()},[o]);const u=()=>{e<l&&t(e+1)},f=()=>{e>1&&t(e-1)},h=async()=>{n(!0);try{const{data:{user:g}}=await X.auth.getUser();if(!g)throw new Error("No user found");const{error:w}=await X.from("profiles").upsert({user_id:g.id,id:g.id,display_name:s.displayName,peak_energy_time:s.peakEnergyTime,lowest_energy_time:s.lowestEnergyTime,task_start_preference:s.taskStartPreference,task_preferences:s.taskPreferences,onboarding_completed:!0});if(w)throw w;a({title:"Welcome aboard!",description:"Your preferences have been saved successfully."}),o("/")}catch(g){console.error("Error completing onboarding:",g),a({title:"Error",description:"Failed to save your preferences. Please try again.",variant:"destructive"})}finally{n(!1)}},m=g=>{i(w=>({...w,...g}))},y=()=>{switch(e){case 1:return s.displayName.trim().length>0;case 2:return s.peakEnergyTime.length>0;case 3:return s.lowestEnergyTime.length>0;case 4:return s.taskStartPreference.length>0;case 5:return Object.keys(s.taskPreferences).length===7;case 6:return!0;default:return!1}};return d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs(Wt,{children:[d.jsx(Ht,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsx(H1,{value:c,className:"w-full"}),d.jsxs(yr,{className:"text-center",children:["Step ",e," of ",l]})]})}),d.jsxs(qt,{className:"space-y-6",children:[e===1&&d.jsx(rO,{value:s.displayName,onChange:g=>m({displayName:g})}),e===2&&d.jsx(Yv,{title:"When do you usually have the most energy?",value:s.peakEnergyTime,onChange:g=>m({peakEnergyTime:g})}),e===3&&d.jsx(Yv,{title:"When do you usually have the least energy?",value:s.lowestEnergyTime,onChange:g=>m({lowestEnergyTime:g})}),e===4&&d.jsx(mO,{value:s.taskStartPreference,onChange:g=>m({taskStartPreference:g})}),e===5&&d.jsx(gO,{preferences:s.taskPreferences,onChange:g=>m({taskPreferences:g})}),e===6&&d.jsx(wO,{data:s,onEdit:g=>t(g)}),d.jsxs("div",{className:"flex justify-between pt-6",children:[d.jsx(fe,{variant:"outline",onClick:f,disabled:e===1,children:"Back"}),e<l?d.jsx(fe,{onClick:u,disabled:!y(),children:"Next"}):d.jsx(fe,{onClick:h,disabled:!y()||r,children:r?"Saving...":"Complete"})]})]})]})})})},bO=()=>d.jsx(xO,{});var SO="Separator",Xv="horizontal",_O=["horizontal","vertical"],oS=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Xv,...s}=e,i=kO(n)?n:Xv,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(xe.div,{"data-orientation":i,...a,...s,ref:t})});oS.displayName=SO;function kO(e){return _O.includes(e)}var aS=oS;const gn=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>d.jsx(aS,{ref:s,decorative:r,orientation:t,className:Pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));gn.displayName=aS.displayName;const Qv=[{value:"morning",label:"Morning (6am12pm)"},{value:"afternoon",label:"Afternoon (12pm3pm)"},{value:"late_afternoon",label:"Late Afternoon (3pm5pm)"},{value:"evening",label:"Evening (5pm8pm)"},{value:"night",label:"Night (8pm11pm)"}],EO=[{value:"easier_first",label:"Start with easier tasks to build momentum"},{value:"hardest_first",label:"Tackle the hardest task first and get it over with"},{value:"not_sure",label:"I'm not sure..."}],TO=[{id:"creative_work",title:"Creative Work"},{id:"data_analysis",title:"Data Analysis"},{id:"team_meetings",title:"Team Meetings"},{id:"physical_tasks",title:"Physical Tasks"},{id:"admin_work",title:"Admin Work"},{id:"learning_new_skills",title:"Learning New Skills"},{id:"project_planning",title:"Project Planning"},{id:"technical_work",title:"Technical Work"}],CO=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!1),o=Xa(),{toast:a}=xs();p.useEffect(()=>{(async()=>{try{const{data:{user:f}}=await X.auth.getUser();if(!f){o("/");return}const{data:h,error:m}=await X.from("profiles").select("display_name, peak_energy_time, lowest_energy_time, task_start_preference, task_preferences").eq("user_id",f.id).maybeSingle();if(m)throw m;h?t({...h,task_preferences:h.task_preferences||{}}):o("/onboarding")}catch(f){console.error("Error loading profile:",f),a({title:"Error",description:"Failed to load your profile.",variant:"destructive"})}finally{n(!1)}})()},[o,a]);const l=async()=>{if(e){i(!0);try{const{data:{user:u}}=await X.auth.getUser();if(!u)throw new Error("No user found");const{error:f}=await X.from("profiles").update({display_name:e.display_name,peak_energy_time:e.peak_energy_time,lowest_energy_time:e.lowest_energy_time,task_start_preference:e.task_start_preference,task_preferences:e.task_preferences}).eq("user_id",u.id);if(f)throw f;a({title:"Settings saved",description:"Your preferences have been updated successfully."})}catch(u){console.error("Error saving profile:",u),a({title:"Error",description:"Failed to save your settings.",variant:"destructive"})}finally{i(!1)}}},c=(u,f)=>{e&&t({...e,task_preferences:{...e.task_preferences,[u]:f}})};return r?d.jsx("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:d.jsx("div",{children:"Loading your settings..."})}):e?d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),d.jsx(fe,{variant:"outline",onClick:()=>o("/"),children:"Back to Home"})]}),d.jsxs(Wt,{children:[d.jsx(Ht,{children:d.jsx(yr,{children:"Your Profile"})}),d.jsxs(qt,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"name",children:"Your Name"}),d.jsx(Mr,{id:"name",value:e.display_name,onChange:u=>t({...e,display_name:u.target.value})})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Peak Energy Time"}),d.jsx(wn,{value:e.peak_energy_time,onValueChange:u=>t({...e,peak_energy_time:u}),children:Qv.map(u=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:u.value,id:`peak-${u.value}`}),d.jsx(pt,{htmlFor:`peak-${u.value}`,children:u.label})]},u.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Lowest Energy Time"}),d.jsx(wn,{value:e.lowest_energy_time,onValueChange:u=>t({...e,lowest_energy_time:u}),children:Qv.map(u=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:u.value,id:`low-${u.value}`}),d.jsx(pt,{htmlFor:`low-${u.value}`,children:u.label})]},u.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Task Approach Preference"}),d.jsx(wn,{value:e.task_start_preference,onValueChange:u=>t({...e,task_start_preference:u}),children:EO.map(u=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:u.value,id:`pref-${u.value}`}),d.jsx(pt,{htmlFor:`pref-${u.value}`,children:u.label})]},u.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Task Type Preferences"}),d.jsx("div",{className:"space-y-3",children:TO.map(u=>d.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[d.jsx("span",{className:"font-medium",children:u.title}),d.jsx("div",{className:"flex gap-2",children:["disliked","neutral","liked"].map(f=>d.jsx(fe,{size:"sm",variant:e.task_preferences[u.id]===f?"default":"outline",onClick:()=>c(u.id,f),children:f},f))})]},u.id))})]}),d.jsx("div",{className:"pt-4",children:d.jsx(fe,{onClick:l,disabled:s,className:"w-full",children:s?"Saving...":"Save Settings"})})]})]})]})}):d.jsx("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:d.jsx("div",{children:"No profile found. Please complete onboarding first."})})},PO=()=>d.jsx(CO,{});function gr(e){if(!e||typeof e!="string")return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+$/.test(t)){const o=parseInt(t,10);return _i(o)?o:null}const r=t.match(/^(\d*\.?\d+)h?$/);if(r){const o=parseFloat(r[1]),a=Math.round(o*60);return _i(a)?a:null}const n=t.match(/^(\d+)m(in|ins|inutes?)?$/);if(n){const o=parseInt(n[1],10);return _i(o)?o:null}const s=t.match(/^(\d+)h(r|rs|our|ours)?$/);if(s){const a=parseInt(s[1],10)*60;return _i(a)?a:null}const i=t.match(/^(\d+)h\s*(\d+)m?$/);if(i){const o=parseInt(i[1],10),a=parseInt(i[2],10),l=o*60+a;return _i(l)?l:null}return null}function lS(e){if(!_i(e))return"";if(e<60)return`${e}m`;const t=Math.floor(e/60),r=e%60;return r===0?`${t}h`:`${t}h ${r}m`}function _i(e){return Number.isInteger(e)&&e>0&&e<=8*60}function rc(e){const t=gr(e);return t===null?null:lS(t)}function jO(e){if(!e||e.length<=20)return e;const t=["with","the","for","on","in","at","to","of","and","or","but","a","an"],r=e.split(" "),n=[];for(let i=0;i<r.length&&n.length<3;i++){const o=r[i].toLowerCase();if(i===0){n.push(r[i]);continue}(!t.includes(o)||r.length<=4)&&n.push(r[i])}const s=n.join(" ");return s.length>25?s.substring(0,22)+"...":s}function NO(e){const t=new Date(e),r=t.getMinutes(),n=Math.ceil(r/10)*10;return n===60?(t.setHours(t.getHours()+1),t.setMinutes(0)):t.setMinutes(n),t.setSeconds(0),t.setMilliseconds(0),t}function RO(e,t,r=new Date){const n=[];let s=NO(r);return e.forEach(i=>{const o=t[i],a=o&&gr(o)||15,l=new Date(s),c=new Date(s.getTime()+a*6e4);n.push({taskName:i,simplifiedName:jO(i),startTime:l,endTime:c,durationMinutes:a,startTimeString:l.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}),endTimeString:c.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})}),s=c}),n}function AO(e){if(e<60)return`${e}m`;const t=Math.floor(e/60),r=e%60;return r>0?`${t}h ${r}m`:`${t}h`}const um=p.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));um.displayName="Textarea";var dm="Switch",[IO,Rz]=bs(dm),[OO,MO]=IO(dm),cS=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=e,[h,m]=p.useState(null),y=We(t,b=>m(b)),g=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[v=!1,x]=yo({prop:s,defaultProp:i,onChange:c});return d.jsxs(OO,{scope:r,checked:v,disabled:a,children:[d.jsx(xe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":fS(v),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:ge(e.onClick,b=>{x(S=>!S),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&d.jsx(DO,{control:h,bubbles:!g.current,name:n,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});cS.displayName=dm;var uS="SwitchThumb",dS=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=MO(uS,r);return d.jsx(xe.span,{"data-state":fS(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});dS.displayName=uS;var DO=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=p.useRef(null),o=q1(r),a=qp(t);return p.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fS(e){return e?"checked":"unchecked"}var hS=cS,LO=dS;const pS=p.forwardRef(({className:e,...t},r)=>d.jsx(hS,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:d.jsx(LO,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pS.displayName=hS.displayName;const Jv=["Sure, just add everything you forgot last week.","Go ahead, overwhelm me. I'm built for this.","Is that a to-do or a plot twist? Either way, write it down.","Another distraction? Fantastic. Let's capture it.","Creative chaos? Sounds about right.","Typing is cheaper than a coffee break, right?","Remember: perfection is so last year.","This is your brain's secret stash. Reveal away.","Don't worry, I'm cool with your typos.","Procrastination fuel? Let's get it on paper.","Stay focused on your current task.","One step closer to 'done'  or at least closer than before."],$O=()=>{const[e,t]=p.useState(0),[r,n]=p.useState(""),[s,i]=p.useState(!0),[o,a]=p.useState(!0),l=Jv[e];return p.useEffect(()=>{let c;return s?r.length<l.length?c=setTimeout(()=>{n(l.slice(0,r.length+1))},100):c=setTimeout(()=>{i(!1)},12e3):r.length>0?c=setTimeout(()=>{n(r.slice(0,-1))},50):(t(u=>(u+1)%Jv.length),i(!0)),()=>clearTimeout(c)},[r,l,s]),p.useEffect(()=>{const c=setInterval(()=>{a(u=>!u)},500);return()=>clearInterval(c)},[]),{text:r,showCursor:o}};function Zv(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function fm(e,t){e===void 0&&(e={}),t===void 0&&(t={});const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:Zv(t[n])&&Zv(e[n])&&Object.keys(t[n]).length>0&&fm(e[n],t[n])})}const mS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function li(){const e=typeof document<"u"?document:{};return fm(e,mS),e}const zO={document:mS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Lt(){const e=typeof window<"u"?window:{};return fm(e,zO),e}function FO(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function UO(e){const t=e;Object.keys(t).forEach(r=>{try{t[r]=null}catch{}try{delete t[r]}catch{}})}function gS(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Bc(){return Date.now()}function BO(e){const t=Lt();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}function VO(e,t){t===void 0&&(t="x");const r=Lt();let n,s,i;const o=BO(e);return r.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),t==="x"&&(r.WebKitCSSMatrix?s=i.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),t==="y"&&(r.WebKitCSSMatrix?s=i.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function Al(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function WO(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function rr(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!WO(n)){const s=Object.keys(Object(n)).filter(i=>t.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const a=s[i],l=Object.getOwnPropertyDescriptor(n,a);l!==void 0&&l.enumerable&&(Al(e[a])&&Al(n[a])?n[a].__swiper__?e[a]=n[a]:rr(e[a],n[a]):!Al(e[a])&&Al(n[a])?(e[a]={},n[a].__swiper__?e[a]=n[a]:rr(e[a],n[a])):e[a]=n[a])}}}return e}function Il(e,t,r){e.style.setProperty(t,r)}function vS(e){let{swiper:t,targetPosition:r,side:n}=e;const s=Lt(),i=-t.translate;let o=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const c=r>i?"next":"prev",u=(h,m)=>c==="next"&&h>=m||c==="prev"&&h<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(h*Math.PI)/2;let y=i+m*(r-i);if(u(y,r)&&(y=r),t.wrapperEl.scrollTo({[n]:y}),u(y,r)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:y})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(f)};f()}function hm(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function vn(e,t){t===void 0&&(t="");const r=Lt(),n=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(s=>s.matches(t)):n}function HO(e,t){const r=[t];for(;r.length>0;){const n=r.shift();if(e===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function qO(e,t){const r=Lt();let n=t.contains(e);return!n&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=HO(e,t))),n}function Vc(e){try{console.warn(e);return}catch{}}function Wc(e,t){t===void 0&&(t=[]);const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:FO(t)),r}function GO(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function KO(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function es(e,t){return Lt().getComputedStyle(e,null).getPropertyValue(t)}function e0(e){let t=e,r;if(t){for(r=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(r+=1);return r}}function YO(e,t){const r=[];let n=e.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}function XO(e,t){function r(n){n.target===e&&(t.call(e,n),e.removeEventListener("transitionend",r))}t&&e.addEventListener("transitionend",r)}function t0(e,t,r){const n=Lt();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function r0(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(t):e.innerHTML=t}let Wd;function QO(){const e=Lt(),t=li();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function yS(){return Wd||(Wd=QO()),Wd}let Hd;function JO(e){let{userAgent:t}=e===void 0?{}:e;const r=yS(),n=Lt(),s=n.navigator.platform,i=t||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=s==="Win32";let y=s==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&y&&r.touch&&g.indexOf(`${a}x${l}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),y=!1),c&&!m&&(o.os="android",o.android=!0),(u||h||f)&&(o.os="ios",o.ios=!0),o}function wS(e){return e===void 0&&(e={}),Hd||(Hd=JO(e)),Hd}let qd;function ZO(){const e=Lt(),t=wS();let r=!1;function n(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(n()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));r=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=n(),o=i||s&&t.ios;return{isSafari:r||i,needPerspectiveFix:r,need3dFix:o,isWebView:s}}function xS(){return qd||(qd=ZO()),qd}function eM(e){let{swiper:t,on:r,emit:n}=e;const s=Lt();let i=null,o=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(f=>{o=s.requestAnimationFrame(()=>{const{width:h,height:m}=t;let y=h,g=m;f.forEach(w=>{let{contentBoxSize:v,contentRect:x,target:b}=w;b&&b!==t.el||(y=x?x.width:(v[0]||v).inlineSize,g=x?x.height:(v[0]||v).blockSize)}),(y!==h||g!==m)&&a()})}),i.observe(t.el))},c=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),r("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function tM(e){let{swiper:t,extendParams:r,on:n,emit:s}=e;const i=[],o=Lt(),a=function(u,f){f===void 0&&(f={});const h=o.MutationObserver||o.WebkitMutationObserver,m=new h(y=>{if(t.__preventObserver__)return;if(y.length===1){s("observerUpdate",y[0]);return}const g=function(){s("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});m.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(m)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=YO(t.hostEl);for(let f=0;f<u.length;f+=1)a(u[f])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var rM={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=r?"unshift":"push";return e.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][s](t)}),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function s(){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(n,o)}return s.__emitterProxy=t,n.on(e,s,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||e.split(" ").forEach(n=>{typeof t>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&r.eventsListeners[n].splice(i,1)})}),r},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,n;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(t=i[0],r=i.slice(1,i.length),n=e):(t=i[0].events,r=i[0].data,n=i[0].context||e),r.unshift(n),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(n,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(c=>{c.apply(n,r)})}),e}};function nM(){const e=this;let t,r;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?r=e.params.height:r=n.clientHeight,!(t===0&&e.isHorizontal()||r===0&&e.isVertical())&&(t=t-parseInt(es(n,"padding-left")||0,10)-parseInt(es(n,"padding-right")||0,10),r=r-parseInt(es(n,"padding-top")||0,10)-parseInt(es(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))}function sM(){const e=this;function t(E,A){return parseFloat(E.getPropertyValue(e.getDirectionLabel(A))||0)}const r=e.params,{wrapperEl:n,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&r.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=vn(s,`.${e.params.slideClass}, swiper-slide`),f=l?e.virtual.slides.length:u.length;let h=[];const m=[],y=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(e));let w=r.slidesOffsetAfter;typeof w=="function"&&(w=r.slidesOffsetAfter.call(e));const v=e.snapGrid.length,x=e.slidesGrid.length;let b=r.spaceBetween,S=-g,_=0,k=0;if(typeof i>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*i:typeof b=="string"&&(b=parseFloat(b)),e.virtualSize=-b,u.forEach(E=>{o?E.style.marginLeft="":E.style.marginRight="",E.style.marginBottom="",E.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Il(n,"--swiper-centered-offset-before",""),Il(n,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&e.grid;C?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let T;const P=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(E=>typeof r.breakpoints[E].slidesPerView<"u").length>0;for(let E=0;E<f;E+=1){T=0;let A;if(u[E]&&(A=u[E]),C&&e.grid.updateSlide(E,A,u),!(u[E]&&es(A,"display")==="none")){if(r.slidesPerView==="auto"){P&&(u[E].style[e.getDirectionLabel("width")]="");const I=getComputedStyle(A),L=A.style.transform,N=A.style.webkitTransform;if(L&&(A.style.transform="none"),N&&(A.style.webkitTransform="none"),r.roundLengths)T=e.isHorizontal()?t0(A,"width"):t0(A,"height");else{const $=t(I,"width"),O=t(I,"padding-left"),z=t(I,"padding-right"),j=t(I,"margin-left"),D=t(I,"margin-right"),F=I.getPropertyValue("box-sizing");if(F&&F==="border-box")T=$+j+D;else{const{clientWidth:U,offsetWidth:Y}=A;T=$+O+z+j+D+(Y-U)}}L&&(A.style.transform=L),N&&(A.style.webkitTransform=N),r.roundLengths&&(T=Math.floor(T))}else T=(i-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(T=Math.floor(T)),u[E]&&(u[E].style[e.getDirectionLabel("width")]=`${T}px`);u[E]&&(u[E].swiperSlideSize=T),y.push(T),r.centeredSlides?(S=S+T/2+_/2+b,_===0&&E!==0&&(S=S-i/2-b),E===0&&(S=S-i/2-b),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),k%r.slidesPerGroup===0&&h.push(S),m.push(S)):(r.roundLengths&&(S=Math.floor(S)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&h.push(S),m.push(S),S=S+T+b),e.virtualSize+=T+b,_=T,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+w,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${e.virtualSize+b}px`),r.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+b}px`),C&&e.grid.updateWrapperSize(T,h),!r.centeredSlides){const E=[];for(let A=0;A<h.length;A+=1){let I=h[A];r.roundLengths&&(I=Math.floor(I)),h[A]<=e.virtualSize-i&&E.push(I)}h=E,Math.floor(e.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-i)}if(l&&r.loop){const E=y[0]+b;if(r.slidesPerGroup>1){const A=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),I=E*r.slidesPerGroup;for(let L=0;L<A;L+=1)h.push(h[h.length-1]+I)}for(let A=0;A<e.virtual.slidesBefore+e.virtual.slidesAfter;A+=1)r.slidesPerGroup===1&&h.push(h[h.length-1]+E),m.push(m[m.length-1]+E),e.virtualSize+=E}if(h.length===0&&(h=[0]),b!==0){const E=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");u.filter((A,I)=>!r.cssMode||r.loop?!0:I!==u.length-1).forEach(A=>{A.style[E]=`${b}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let E=0;y.forEach(I=>{E+=I+(b||0)}),E-=b;const A=E>i?E-i:0;h=h.map(I=>I<=0?-g:I>A?A+w:I)}if(r.centerInsufficientSlides){let E=0;y.forEach(I=>{E+=I+(b||0)}),E-=b;const A=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(E+A<i){const I=(i-E-A)/2;h.forEach((L,N)=>{h[N]=L-I}),m.forEach((L,N)=>{m[N]=L+I})}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:y}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Il(n,"--swiper-centered-offset-before",`${-h[0]}px`),Il(n,"--swiper-centered-offset-after",`${e.size/2-y[y.length-1]/2}px`);const E=-e.snapGrid[0],A=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(I=>I+E),e.slidesGrid=e.slidesGrid.map(I=>I+A)}if(f!==c&&e.emit("slidesLengthChange"),h.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==x&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const E=`${r.containerModifierClass}backface-hidden`,A=e.el.classList.contains(E);f<=r.maxBackfaceHiddenSlides?A||e.el.classList.add(E):A&&e.el.classList.remove(E)}}function iM(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=a=>n?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{r.push(a)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const a=t.activeIndex+i;if(a>t.slides.length&&!n)break;r.push(o(a))}else r.push(o(t.activeIndex));for(i=0;i<r.length;i+=1)if(typeof r[i]<"u"){const a=r[i].offsetHeight;s=a>s?a:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function oM(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r-e.cssOverflowAdjustment()}const n0=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function aM(e){e===void 0&&(e=this&&this.translate||0);const t=this,r=t.params,{slides:n,rtlTranslate:s,snapGrid:i}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=r.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<n.length;l+=1){const c=n[l];let u=c.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(u-=n[0].swiperSlideOffset);const f=(o+(r.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-i[0]+(r.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),m=-(o-u),y=m+t.slidesSizesGrid[l],g=m>=0&&m<=t.size-t.slidesSizesGrid[l],w=m>=0&&m<t.size-1||y>1&&y<=t.size||m<=0&&y>=t.size;w&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l)),n0(c,w,r.slideVisibleClass),n0(c,g,r.slideFullyVisibleClass),c.progress=s?-f:f,c.originalProgress=s?-h:h}}function lM(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=t;const l=i,c=o;if(n===0)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/n;const u=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;i=u||s<=0,o=f||s>=1,u&&(s=0),f&&(s=1)}if(r.loop){const u=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[u],m=t.slidesGrid[f],y=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(e);g>=h?a=(g-h)/y:a=(g+y-m)/y,a>1&&(a-=1)}Object.assign(t,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}const Gd=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function cM(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:s}=e,i=e.virtual&&r.virtual.enabled,o=e.grid&&r.grid&&r.grid.rows>1,a=f=>vn(n,`.${r.slideClass}${f}, swiper-slide${f}`)[0];let l,c,u;if(i)if(r.loop){let f=s-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=t.find(f=>f.column===s),u=t.find(f=>f.column===s+1),c=t.find(f=>f.column===s-1)):l=t[s];l&&(o||(u=KO(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u&&(u=t[0]),c=GO(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!c===0&&(c=t[t.length-1]))),t.forEach(f=>{Gd(f,f===l,r.slideActiveClass),Gd(f,f===u,r.slideNextClass),Gd(f,f===c,r.slidePrevClass)}),e.emitSlidesClasses()}const nc=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=t.closest(r());if(n){let s=n.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Kd=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},Oh=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,a=[o-t];a.push(...Array.from({length:t}).map((l,c)=>o+n+c)),e.slides.forEach((l,c)=>{a.includes(l.column)&&Kd(e,c)});return}const i=s+n-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=i+t;o+=1){const a=(o%r+r)%r;(a<s||a>i)&&Kd(e,a)}else for(let o=Math.max(s-t,0);o<=Math.min(i+t,r-1);o+=1)o!==s&&(o>i||o<s)&&Kd(e,o)};function uM(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?n>=t[i]&&n<t[i+1]-(t[i+1]-t[i])/2?s=i:n>=t[i]&&n<t[i+1]&&(s=i+1):n>=t[i]&&(s=i);return r.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function dM(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:s,activeIndex:i,realIndex:o,snapIndex:a}=t;let l=e,c;const u=m=>{let y=m-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof l>"u"&&(l=uM(t)),n.indexOf(r)>=0)c=n.indexOf(r);else{const m=Math.min(s.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/s.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),l===i&&!t.params.loop){c!==a&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(l===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(l);return}const f=t.grid&&s.grid&&s.grid.rows>1;let h;if(t.virtual&&s.virtual.enabled&&s.loop)h=u(l);else if(f){const m=t.slides.find(g=>g.column===l);let y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(m),0)),h=Math.floor(y/s.grid.rows)}else if(t.slides[l]){const m=t.slides[l].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=l}else h=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:i,activeIndex:l}),t.initialized&&Oh(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))}function fM(e,t){const r=this,n=r.params;let s=e.closest(`.${n.slideClass}, swiper-slide`);!s&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${n.slideClass}, swiper-slide`)&&(s=a)});let i=!1,o;if(s){for(let a=0;a<r.slides.length;a+=1)if(r.slides[a]===s){i=!0,o=a;break}}if(s&&i)r.clickedSlide=s,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var hM={updateSize:nM,updateSlides:sM,updateAutoHeight:iM,updateSlidesOffset:oM,updateSlidesProgress:aM,updateProgress:lM,updateSlidesClasses:cM,updateActiveIndex:dM,updateClickedSlide:fM};function pM(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:r,rtlTranslate:n,translate:s,wrapperEl:i}=t;if(r.virtualTranslate)return n?-s:s;if(r.cssMode)return s;let o=VO(i,e);return o+=t.cssOverflowAdjustment(),n&&(o=-o),o||0}function mM(e,t){const r=this,{rtlTranslate:n,params:s,wrapperEl:i,progress:o}=r;let a=0,l=0;const c=0;r.isHorizontal()?a=n?-e:e:l=e,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?a:l,s.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-a:-l:s.virtualTranslate||(r.isHorizontal()?a-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const f=r.maxTranslate()-r.minTranslate();f===0?u=0:u=(e-r.minTranslate())/f,u!==o&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)}function gM(){return-this.snapGrid[0]}function vM(){return-this.snapGrid[this.snapGrid.length-1]}function yM(e,t,r,n,s){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(n&&e>l?u=l:n&&e<c?u=c:u=e,i.updateProgress(u),o.cssMode){const f=i.isHorizontal();if(t===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return vS({swiper:i,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(u),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(h){!i||i.destroyed||h.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var wM={getTranslate:pM,setTranslate:mM,minTranslate:gM,maxTranslate:vM,translateTo:yM};function xM(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=e===0?"0ms":""),r.emit("setTransition",e,t)}function bS(e){let{swiper:t,runCallbacks:r,direction:n,step:s}=e;const{activeIndex:i,previousIndex:o}=t;let a=n;a||(i>o?a="next":i<o?a="prev":a="reset"),t.emit(`transition${s}`),r&&a==="reset"?t.emit(`slideResetTransition${s}`):r&&i!==o&&(t.emit(`slideChangeTransition${s}`),a==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function bM(e,t){e===void 0&&(e=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),bS({swiper:r,runCallbacks:e,direction:t,step:"Start"}))}function SM(e,t){e===void 0&&(e=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),bS({swiper:r,runCallbacks:e,direction:t,step:"End"}))}var _M={setTransition:xM,transitionStart:bM,transitionEnd:SM};function kM(e,t,r,n,s){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:h,wrapperEl:m,enabled:y}=i;if(!y&&!n&&!s||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const g=Math.min(i.params.slidesPerGroupSkip,o);let w=g+Math.floor((o-g)/i.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const v=-l[w];if(a.normalizeSlideIndex)for(let C=0;C<c.length;C+=1){const T=-Math.floor(v*100),P=Math.floor(c[C]*100),E=Math.floor(c[C+1]*100);typeof c[C+1]<"u"?T>=P&&T<E-(E-P)/2?o=C:T>=P&&T<E&&(o=C+1):T>=P&&(o=C)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(h?v>i.translate&&v>i.minTranslate():v<i.translate&&v<i.minTranslate())||!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(f||0)!==o))return!1;o!==(u||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(v);let x;o>f?x="next":o<f?x="prev":x="reset";const b=i.virtual&&i.params.virtual.enabled;if(!(b&&s)&&(h&&-v===i.translate||!h&&v===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(v),x!=="reset"&&(i.transitionStart(r,x),i.transitionEnd(r,x)),!1;if(a.cssMode){const C=i.isHorizontal(),T=h?v:-v;if(t===0)b&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),b&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[C?"scrollLeft":"scrollTop"]=T})):m[C?"scrollLeft":"scrollTop"]=T,b&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return vS({swiper:i,targetPosition:T,side:C?"left":"top"}),!0;m.scrollTo({[C?"left":"top"]:T,behavior:"smooth"})}return!0}const k=xS().isSafari;return b&&!s&&k&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(v),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(r,x),t===0?i.transitionEnd(r,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(T){!i||i.destroyed||T.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function EM(e,t,r,n){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(i){const h=o*s.params.grid.rows;a=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else a=s.getSlideIndexByData(o);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let f=l-a<u;if(c&&(f=f||a<Math.ceil(u/2)),n&&c&&s.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const h=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?s.realIndex:void 0})}if(i){const h=o*s.params.grid.rows;o=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,r,n)}),s}function TM(e,t,r){t===void 0&&(t=!0);const n=this,{enabled:s,params:i,animating:o}=n;if(!s||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<i.slidesPerGroupSkip?1:a,c=n.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,e,t,r)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)}function CM(e,t,r){t===void 0&&(t=!0);const n=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const u=n.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=a?n.translate:-n.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const m=h(f),y=i.map(x=>h(x)),g=s.freeMode&&s.freeMode.enabled;let w=i[y.indexOf(m)-1];if(typeof w>"u"&&(s.cssMode||g)){let x;i.forEach((b,S)=>{m>=b&&(x=S)}),typeof x<"u"&&(w=g?i[x]:i[x>0?x-1:x])}let v=0;if(typeof w<"u"&&(v=o.indexOf(w),v<0&&(v=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(v=v-n.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),s.rewind&&n.isBeginning){const x=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(x,e,t,r)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(v,e,t,r)}),!0;return n.slideTo(v,e,t,r)}function PM(e,t,r){t===void 0&&(t=!0);const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,r)}function jM(e,t,r,n){t===void 0&&(t=!0),n===void 0&&(n=.5);const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*n&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*n&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,r)}function NM(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,a=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):s>(a?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),s=e.getSlideIndex(vn(r,`${o}[data-swiper-slide-index="${i}"]`)[0]),gS(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var RM={slideTo:kM,slideToLoop:EM,slideNext:TM,slidePrev:CM,slideReset:PM,slideToClosest:jM,slideToClickedSlide:NM};function AM(e,t){const r=this,{params:n,slidesEl:s}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const i=()=>{vn(s,`.${n.slideClass}, swiper-slide`).forEach((m,y)=>{m.setAttribute("data-swiper-slide-index",y)})},o=()=>{const h=vn(s,`.${n.slideBlankClass}`);h.forEach(m=>{m.remove()}),h.length>0&&(r.recalcSlides(),r.updateSlides())},a=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||a)&&o();const l=n.slidesPerGroup*(a?n.grid.rows:1),c=r.slides.length%l!==0,u=a&&r.slides.length%n.grid.rows!==0,f=h=>{for(let m=0;m<h;m+=1){const y=r.isElement?Wc("swiper-slide",[n.slideBlankClass]):Wc("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(y)}};if(c){if(n.loopAddBlankSlides){const h=l-r.slides.length%l;f(h),r.recalcSlides(),r.updateSlides()}else Vc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(n.loopAddBlankSlides){const h=n.grid.rows-r.slides.length%n.grid.rows;f(h),r.recalcSlides(),r.updateSlides()}else Vc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();r.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next",initial:t})}function IM(e){let{slideRealIndex:t,slideTo:r=!0,direction:n,setTranslate:s,activeSlideIndex:i,initial:o,byController:a,byMousewheel:l}=e===void 0?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:h,slidesEl:m,params:y}=c,{centeredSlides:g,initialSlide:w}=y;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&y.virtual.enabled){r&&(!y.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):y.centeredSlides&&c.snapIndex<y.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=h,c.emit("loopFix");return}let v=y.slidesPerView;v==="auto"?v=c.slidesPerViewDynamic():(v=Math.ceil(parseFloat(y.slidesPerView,10)),g&&v%2===0&&(v=v+1));const x=y.slidesPerGroupAuto?v:y.slidesPerGroup;let b=g?Math.max(x,Math.ceil(v/2)):x;b%x!==0&&(b+=x-b%x),b+=y.loopAdditionalSlides,c.loopedSlides=b;const S=c.grid&&y.grid&&y.grid.rows>1;u.length<v+b||c.params.effect==="cards"&&u.length<v+b*2?Vc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&y.grid.fill==="row"&&Vc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],k=[],C=S?Math.ceil(u.length/y.grid.rows):u.length,T=o&&C-w<v&&!g;let P=T?w:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.find(O=>O.classList.contains(y.slideActiveClass))):P=i;const E=n==="next"||!n,A=n==="prev"||!n;let I=0,L=0;const $=(S?u[i].column:i)+(g&&typeof s>"u"?-v/2+.5:0);if($<b){I=Math.max(b-$,x);for(let O=0;O<b-$;O+=1){const z=O-Math.floor(O/C)*C;if(S){const j=C-z-1;for(let D=u.length-1;D>=0;D-=1)u[D].column===j&&_.push(D)}else _.push(C-z-1)}}else if($+v>C-b){L=Math.max($-(C-b*2),x),T&&(L=Math.max(L,v-C+w+1));for(let O=0;O<L;O+=1){const z=O-Math.floor(O/C)*C;S?u.forEach((j,D)=>{j.column===z&&k.push(D)}):k.push(z)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<v+b*2&&(k.includes(i)&&k.splice(k.indexOf(i),1),_.includes(i)&&_.splice(_.indexOf(i),1)),A&&_.forEach(O=>{u[O].swiperLoopMoveDOM=!0,m.prepend(u[O]),u[O].swiperLoopMoveDOM=!1}),E&&k.forEach(O=>{u[O].swiperLoopMoveDOM=!0,m.append(u[O]),u[O].swiperLoopMoveDOM=!1}),c.recalcSlides(),y.slidesPerView==="auto"?c.updateSlides():S&&(_.length>0&&A||k.length>0&&E)&&c.slides.forEach((O,z)=>{c.grid.updateSlide(z,O,c.slides)}),y.watchSlidesProgress&&c.updateSlidesOffset(),r){if(_.length>0&&A){if(typeof t>"u"){const O=c.slidesGrid[P],j=c.slidesGrid[P+I]-O;l?c.setTranslate(c.translate-j):(c.slideTo(P+Math.ceil(I),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-j,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-j))}else if(s){const O=S?_.length/y.grid.rows:_.length;c.slideTo(c.activeIndex+O,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(k.length>0&&E)if(typeof t>"u"){const O=c.slidesGrid[P],j=c.slidesGrid[P-L]-O;l?c.setTranslate(c.translate-j):(c.slideTo(P-L,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-j,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-j))}else{const O=S?k.length/y.grid.rows:k.length;c.slideTo(c.activeIndex-O,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const O={slideRealIndex:t,direction:n,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(z=>{!z.destroyed&&z.params.loop&&z.loopFix({...O,slideTo:z.params.slidesPerView===y.slidesPerView?r:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...O,slideTo:c.controller.control.params.slidesPerView===y.slidesPerView?r:!1})}c.emit("loopFix")}function OM(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{r.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var MM={loopCreate:AM,loopFix:IM,loopDestroy:OM};function DM(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function LM(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var $M={setGrabCursor:DM,unsetGrabCursor:LM};function zM(e,t){t===void 0&&(t=this);function r(n){if(!n||n===li()||n===Lt())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(e);return!s&&!n.getRootNode?null:s||r(n.getRootNode().host)}return r(t)}function s0(e,t,r){const n=Lt(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(r<=o||r>=n.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function FM(e){const t=this,r=li();let n=e;n.originalEvent&&(n=n.originalEvent);const s=t.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){s0(t,n,n.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=t;if(!a||!i.simulateTouch&&n.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=n.target;if(i.touchEventsTarget==="wrapper"&&!qO(l,t.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",u=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&u&&(l=u[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(h?zM(f,l):l.closest(f))){t.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const m=o.currentX,y=o.currentY;if(!s0(t,n,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=y,s.touchStartTime=Bc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let g=!0;l.matches(s.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&r.activeElement.blur();const w=g&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||w)&&!l.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function UM(e){const t=li(),r=this,n=r.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=r;if(!a||!s.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(k=>k.identifier===n.touchId),!c||c.identifier!==n.touchId)return}else c=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const u=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=f;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:u,startY:f,currentX:u,currentY:f}),n.touchStartTime=Bc());return}if(s.touchReleaseOnEdges&&!s.loop)if(r.isVertical()){if(f<i.startY&&r.translate<=r.maxTranslate()||f>i.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(u>i.startX&&-r.translate<=r.maxTranslate()||u<i.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(u<i.startX&&r.translate<=r.maxTranslate()||u>i.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=f;const h=i.currentX-i.startX,m=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(h**2+m**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let k;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:h*h+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,n.isScrolling=r.isHorizontal()?k>s.touchAngle:90-k>s.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let y=r.isHorizontal()?h:m,g=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),i.diff=y,y*=s.touchRatio,o&&(y=-y,g=-g);const w=r.touchesDirection;r.swipeDirection=y>0?"prev":"next",r.touchesDirection=g>0?"prev":"next";const v=r.params.loop&&!s.cssMode,x=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(v&&x&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(k)}n.allowMomentumBounce=!1,s.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}let b;if(new Date().getTime(),s._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&w!==r.touchesDirection&&v&&x&&Math.abs(y)>=1){Object.assign(i,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=y+n.startTranslate;let S=!0,_=s.resistanceRatio;if(s.touchReleaseOnEdges&&(_=0),y>0?(v&&x&&!b&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(S=!1,s.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+y)**_))):y<0&&(v&&x&&!b&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(s.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(S=!1,s.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-y)**_))),S&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&r.freeMode||s.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function BM(e){const t=this,r=t.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(_=>_.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!o.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&t.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=Bc(),h=f-r.touchStartTime;if(t.allowClick){const _=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(_&&_[0]||n.target,_),t.emit("tap click",n),h<300&&f-r.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(r.lastClickTime=Bc(),gS(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||a.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let m;if(o.followFinger?m=l?t.translate:-t.translate:m=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:m});return}const y=m>=-t.maxTranslate()&&!t.params.loop;let g=0,w=t.slidesSizesGrid[0];for(let _=0;_<c.length;_+=_<o.slidesPerGroupSkip?1:o.slidesPerGroup){const k=_<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[_+k]<"u"?(y||m>=c[_]&&m<c[_+k])&&(g=_,w=c[_+k]-c[_]):(y||m>=c[_])&&(g=_,w=c[c.length-1]-c[c.length-2])}let v=null,x=null;o.rewind&&(t.isBeginning?x=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const b=(m-c[g])/w,S=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?v:g+S):t.slideTo(g)),t.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?t.slideTo(g+S):x!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(x):t.slideTo(g))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(g+S):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(v!==null?v:g+S),t.swipeDirection==="prev"&&t.slideTo(x!==null?x:g))}}function i0(){const e=this,{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!a?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function VM(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function WM(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function HM(e){const t=this;nc(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function qM(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const SS=(e,t)=>{const r=li(),{params:n,el:s,wrapperEl:i,device:o}=e,a=!!n.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;!s||typeof s=="string"||(r[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),r[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),r[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),r[l]("touchend",e.onTouchEnd,{passive:!0}),r[l]("pointerup",e.onTouchEnd,{passive:!0}),r[l]("pointercancel",e.onTouchEnd,{passive:!0}),r[l]("touchcancel",e.onTouchEnd,{passive:!0}),r[l]("pointerout",e.onTouchEnd,{passive:!0}),r[l]("pointerleave",e.onTouchEnd,{passive:!0}),r[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[l]("click",e.onClick,!0),n.cssMode&&i[l]("scroll",e.onScroll),n.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",i0,!0):e[c]("observerUpdate",i0,!0),s[l]("load",e.onLoad,{capture:!0}))};function GM(){const e=this,{params:t}=e;e.onTouchStart=FM.bind(e),e.onTouchMove=UM.bind(e),e.onTouchEnd=BM.bind(e),e.onDocumentTouchStart=qM.bind(e),t.cssMode&&(e.onScroll=WM.bind(e)),e.onClick=VM.bind(e),e.onLoad=HM.bind(e),SS(e,"on")}function KM(){SS(this,"off")}var YM={attachEvents:GM,detachEvents:KM};const o0=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function XM(){const e=this,{realIndex:t,initialized:r,params:n,el:s}=e,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=li(),a=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),c=e.getBreakpoint(i,a,l);if(!c||e.currentBreakpoint===c)return;const f=(c in i?i[c]:void 0)||e.originalParams,h=o0(e,n),m=o0(e,f),y=e.params.grabCursor,g=f.grabCursor,w=n.enabled;h&&!m?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&m&&(s.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),y&&!g?e.unsetGrabCursor():!y&&g&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof f[k]>"u")return;const C=n[k]&&n[k].enabled,T=f[k]&&f[k].enabled;C&&!T&&e[k].disable(),!C&&T&&e[k].enable()});const v=f.direction&&f.direction!==n.direction,x=n.loop&&(f.slidesPerView!==n.slidesPerView||v),b=n.loop;v&&r&&e.changeDirection(),rr(e.params,f);const S=e.params.enabled,_=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),w&&!S?e.disable():!w&&S&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",f),r&&(x?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&_?(e.loopCreate(t),e.updateSlides()):b&&!_&&e.loopDestroy()),e.emit("breakpoint",f)}function QM(e,t,r){if(t===void 0&&(t="window"),!e||t==="container"&&!r)return;let n=!1;const s=Lt(),i=t==="window"?s.innerHeight:r.clientHeight,o=Object.keys(e).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];t==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=r.clientWidth&&(n=l)}return n||"max"}var JM={setBreakpoint:XM,getBreakpoint:QM};function ZM(e,t){const r=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&r.push(t+s)}):typeof n=="string"&&r.push(t+n)}),r}function eD(){const e=this,{classNames:t,params:r,rtl:n,el:s,device:i}=e,o=ZM(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function tD(){const e=this,{el:t,classNames:r}=e;!t||typeof t=="string"||(t.classList.remove(...r),e.emitContainerClasses())}var rD={addClasses:eD,removeClasses:tD};function nD(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+n*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;r.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),r.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var sD={checkOverflow:nD},Mh={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function iD(e,t){return function(n){n===void 0&&(n={});const s=Object.keys(n)[0],i=n[s];if(typeof i!="object"||i===null){rr(t,n);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){rr(t,n);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),rr(t,n)}}const Yd={eventsEmitter:rM,update:hM,translate:wM,transition:_M,slide:RM,loop:MM,grabCursor:$M,events:YM,breakpoints:JM,checkOverflow:sD,classes:rD},Xd={};let pm=class un{constructor(){let t,r;for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?r=s[0]:[t,r]=s,r||(r={}),r=rr({},r),t&&!r.el&&(r.el=t);const o=li();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const u=[];return o.querySelectorAll(r.el).forEach(f=>{const h=rr({},r,{el:f});u.push(new un(h))}),u}const a=this;a.__swiper__=!0,a.support=yS(),a.device=wS({userAgent:r.userAgent}),a.browser=xS(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],r.modules&&Array.isArray(r.modules)&&a.modules.push(...r.modules);const l={};a.modules.forEach(u=>{u({params:r,swiper:a,extendParams:iD(r,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=rr({},Mh,l);return a.params=rr({},c,Xd,r),a.originalParams=rr({},a.params),a.passedParams=rr({},r),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:r,params:n}=this,s=vn(r,`.${n.slideClass}, swiper-slide`),i=e0(s[0]);return e0(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:r,params:n}=t;t.slides=vn(r,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,r){const n=this;t=Math.min(Math.max(t,0),1);const s=n.minTranslate(),o=(n.maxTranslate()-s)*t+s;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",r.join(" "))}getSlideClasses(t){const r=this;return r.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=[];t.slides.forEach(n=>{const s=t.getSlideClasses(n);r.push({slideEl:n,classNames:s}),t.emit("_slideClass",n,s)}),t.emit("_slideClasses",r)}slidesPerViewDynamic(t,r){t===void 0&&(t="current"),r===void 0&&(r=!1);const n=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=n;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[c]?Math.ceil(i[c].swiperSlideSize):0,h;for(let m=c+1;m<i.length;m+=1)i[m]&&!h&&(f+=Math.ceil(i[m].swiperSlideSize),u+=1,f>l&&(h=!0));for(let m=c-1;m>=0;m-=1)i[m]&&!h&&(f+=i[m].swiperSlideSize,u+=1,f>l&&(h=!0))}else if(t==="current")for(let f=c+1;f<i.length;f+=1)(r?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:r,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&nc(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const o=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||s()}n.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,r){r===void 0&&(r=!0);const n=this,s=n.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(t){const r=this;r.rtl&&t==="rtl"||!r.rtl&&t==="ltr"||(r.rtl=t==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(t){const r=this;if(r.mounted)return!0;let n=t||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const s=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):vn(n,s())[0];return!o&&r.params.createElements&&(o=Wc("div",r.params.wrapperClass),n.append(o),vn(n,`.${r.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||es(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||es(n,"direction")==="rtl"),wrongRTL:es(o,"display")==="-webkit-box"}),!0}init(t){const r=this;if(r.initialized||r.mount(t)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const s=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&s.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?nc(r,i):i.addEventListener("load",o=>{nc(r,o.target)})}),Oh(r),r.initialized=!0,Oh(r),r.emit("init"),r.emit("afterInit"),r}destroy(t,r){t===void 0&&(t=!0),r===void 0&&(r=!0);const n=this,{params:s,el:i,wrapperEl:o,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),r&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),t!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),UO(n)),n.destroyed=!0),null}static extendDefaults(t){rr(Xd,t)}static get extendedDefaults(){return Xd}static get defaults(){return Mh}static installModule(t){un.prototype.__modules__||(un.prototype.__modules__=[]);const r=un.prototype.__modules__;typeof t=="function"&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(r=>un.installModule(r)),un):(un.installModule(t),un)}};Object.keys(Yd).forEach(e=>{Object.keys(Yd[e]).forEach(t=>{pm.prototype[t]=Yd[e][t]})});pm.use([eM,tM]);const _S=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ei(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Wi(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:ei(t[n])&&ei(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Wi(e[n],t[n]):e[n]=t[n]})}function kS(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function ES(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function TS(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function CS(e){e===void 0&&(e="");const t=e.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return t.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function oD(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function aD(e){let{swiper:t,slides:r,passedParams:n,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:l}=e;const c=s.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:u,pagination:f,navigation:h,scrollbar:m,virtual:y,thumbs:g}=t;let w,v,x,b,S,_,k,C;s.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(w=!0),s.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(v=!0),s.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(x=!0),s.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&m&&!m.el&&(b=!0),s.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(S=!0);const T=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),u[P].prevEl=void 0,u[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),u[P].el=void 0,t[P].el=void 0))};s.includes("loop")&&t.isElement&&(u.loop&&!n.loop?_=!0:!u.loop&&n.loop?k=!0:C=!0),c.forEach(P=>{if(ei(u[P])&&ei(n[P]))Object.assign(u[P],n[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in n[P]&&!n[P].enabled&&T(P);else{const E=n[P];(E===!0||E===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?E===!1&&T(P):u[P]=n[P]}}),c.includes("controller")&&!v&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),s.includes("children")&&r&&y&&u.virtual.enabled?(y.slides=r,y.update(!0)):s.includes("virtual")&&y&&u.virtual.enabled&&(r&&(y.slides=r),y.update(!0)),s.includes("children")&&r&&u.loop&&(C=!0),w&&g.init()&&g.update(!0),v&&(t.controller.control=u.controller.control),x&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),b&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),S&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),r0(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),r0(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),h.init(),h.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),s.includes("direction")&&t.changeDirection(n.direction,!1),(_||C)&&t.loopDestroy(),(k||C)&&t.loopCreate(),t.update()}function lD(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const r={on:{}},n={},s={};Wi(r,Mh),r._emitClasses=!0,r.init=!1;const i={},o=_S.map(l=>l.replace(/_/,"")),a=Object.assign({},e);return Object.keys(a).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?ei(e[l])?(r[l]={},s[l]={},Wi(r[l],e[l]),Wi(s[l],e[l])):(r[l]=e[l],s[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?n[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:i[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:s,rest:i,events:n}}function cD(e,t){let{el:r,nextEl:n,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:a}=e;kS(t)&&n&&s&&(a.params.navigation.nextEl=n,a.originalParams.navigation.nextEl=n,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),ES(t)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),TS(t)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(r)}function uD(e,t,r,n,s){const i=[];if(!t)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(r&&n){const l=n.map(s),c=r.map(s);l.join("")!==c.join("")&&o("children"),n.length!==r.length&&o("children")}return _S.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(ei(e[l])&&ei(t[l])){const c=Object.keys(e[l]),u=Object.keys(t[l]);c.length!==u.length?o(l):(c.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}),u.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}))}else e[l]!==t[l]&&o(l)}),i}const dD=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}function PS(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function jS(e){const t=[];return B.Children.toArray(e).forEach(r=>{PS(r)?t.push(r):r.props&&r.props.children&&jS(r.props.children).forEach(n=>t.push(n))}),t}function fD(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return B.Children.toArray(e).forEach(n=>{if(PS(n))t.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const s=jS(n.props.children);s.length>0?s.forEach(i=>t.push(i)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:t,slots:r}}function hD(e,t,r){if(!r)return null;const n=u=>{let f=u;return u<0?f=t.length+u:f>=t.length&&(f=f-t.length),f},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:i,to:o}=r,a=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,c=[];for(let u=a;u<l;u+=1)u>=i&&u<=o&&c.push(t[n(u)]);return c.map((u,f)=>B.cloneElement(u,{swiper:e,style:s,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function la(e,t){return typeof window>"u"?p.useEffect(e,t):p.useLayoutEffect(e,t)}const a0=p.createContext(null),pD=p.createContext(null),NS=p.forwardRef(function(e,t){let{className:r,tag:n="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=e===void 0?{}:e,l=!1;const[c,u]=p.useState("swiper"),[f,h]=p.useState(null),[m,y]=p.useState(!1),g=p.useRef(!1),w=p.useRef(null),v=p.useRef(null),x=p.useRef(null),b=p.useRef(null),S=p.useRef(null),_=p.useRef(null),k=p.useRef(null),C=p.useRef(null),{params:T,passedParams:P,rest:E,events:A}=lD(a),{slides:I,slots:L}=fD(i),N=()=>{y(!m)};Object.assign(T.on,{_containerClasses(D,F){u(F)}});const $=()=>{Object.assign(T.on,A),l=!0;const D={...T};if(delete D.wrapperClass,v.current=new pm(D),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=I;const F={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};Wi(v.current.params.virtual,F),Wi(v.current.originalParams.virtual,F)}};w.current||$(),v.current&&v.current.on("_beforeBreakpoint",N);const O=()=>{l||!A||!v.current||Object.keys(A).forEach(D=>{v.current.on(D,A[D])})},z=()=>{!A||!v.current||Object.keys(A).forEach(D=>{v.current.off(D,A[D])})};p.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",N)}),p.useEffect(()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)}),la(()=>{if(t&&(t.current=w.current),!!w.current)return v.current.destroyed&&$(),cD({el:w.current,nextEl:S.current,prevEl:_.current,paginationEl:k.current,scrollbarEl:C.current,swiper:v.current},T),o&&!v.current.destroyed&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),la(()=>{O();const D=uD(P,x.current,I,b.current,F=>F.key);return x.current=P,b.current=I,D.length&&v.current&&!v.current.destroyed&&aD({swiper:v.current,slides:I,passedParams:P,changedParams:D,nextEl:S.current,prevEl:_.current,scrollbarEl:C.current,paginationEl:k.current}),()=>{z()}}),la(()=>{dD(v.current)},[f]);function j(){return T.virtual?hD(v.current,I,f):I.map((D,F)=>B.cloneElement(D,{swiper:v.current,swiperSlideIndex:F}))}return B.createElement(n,Hc({ref:w,className:CS(`${c}${r?` ${r}`:""}`)},E),B.createElement(pD.Provider,{value:v.current},L["container-start"],B.createElement(s,{className:oD(T.wrapperClass)},L["wrapper-start"],j(),L["wrapper-end"]),kS(T)&&B.createElement(B.Fragment,null,B.createElement("div",{ref:_,className:"swiper-button-prev"}),B.createElement("div",{ref:S,className:"swiper-button-next"})),TS(T)&&B.createElement("div",{ref:C,className:"swiper-scrollbar"}),ES(T)&&B.createElement("div",{ref:k,className:"swiper-pagination"}),L["container-end"]))});NS.displayName="Swiper";const RS=p.forwardRef(function(e,t){let{tag:r="div",children:n,className:s="",swiper:i,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=e===void 0?{}:e;const f=p.useRef(null),[h,m]=p.useState("swiper-slide"),[y,g]=p.useState(!1);function w(S,_,k){_===f.current&&m(k)}la(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),t&&(t.current=f.current),!(!f.current||!i)){if(i.destroyed){h!=="swiper-slide"&&m("swiper-slide");return}return i.on("_slideClass",w),()=>{i&&i.off("_slideClass",w)}}}),la(()=>{i&&f.current&&!i.destroyed&&m(i.getSlideClasses(f.current))},[i]);const v={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof n=="function"?n(v):n,b=()=>{g(!0)};return B.createElement(r,Hc({ref:f,className:CS(`${h}${s?` ${s}`:""}`),"data-swiper-slide-index":l,onLoad:b},u),o&&B.createElement(a0.Provider,{value:v},B.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!y&&B.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&B.createElement(a0.Provider,{value:v},x(),a&&!y&&B.createElement("div",{className:"swiper-lazy-preloader"})))});RS.displayName="SwiperSlide";function mD(e){const{effect:t,swiper:r,on:n,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=e;n("beforeInit",()=>{if(r.params.effect!==t)return;r.classNames.push(`${r.params.containerModifierClass}${t}`),a&&a()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(r.params,f),Object.assign(r.originalParams,f)}),n("setTranslate _virtualUpdated",()=>{r.params.effect===t&&s()}),n("setTransition",(f,h)=>{r.params.effect===t&&i(h)}),n("transitionEnd",()=>{if(r.params.effect===t&&l){if(!c||!c().slideShadows)return;r.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),l()}});let u;n("virtualUpdate",()=>{r.params.effect===t&&(r.slides.length||(u=!0),requestAnimationFrame(()=>{u&&r.slides&&r.slides.length&&(s(),u=!1)}))})}function gD(e,t){const r=hm(t);return r!==t&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function vD(e){let{swiper:t,duration:r,transformElements:n,allSlides:s}=e;const{activeIndex:i}=t,o=a=>a.parentElement?a.parentElement:t.slides.find(c=>c.shadowRoot&&c.shadowRoot===a.parentNode);if(t.params.virtualTranslate&&r!==0){let a=!1,l;s?l=n:l=n.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?o(c):c;return t.getSlideIndex(u)===i}),l.forEach(c=>{XO(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(u)})})}}function yD(e,t,r){const n=`swiper-slide-shadow${` swiper-slide-shadow-${e}`}`,s=hm(t);let i=s.querySelector(`.${n.split(" ").join(".")}`);return i||(i=Wc("div",n.split(" ")),s.append(i)),i}function wD(e){let{swiper:t,extendParams:r,on:n}=e;r({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),mD({effect:"cards",swiper:t,on:n,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=t,c=t.params.cardsEffect,{startTranslate:u,isTouched:f}=t.touchEventsData,h=l?-t.translate:t.translate;for(let m=0;m<o.length;m+=1){const y=o[m],g=y.progress,w=Math.min(Math.max(g,-4),4);let v=y.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(v-=o[0].swiperSlideOffset);let x=t.params.cssMode?-v-t.translate:-v,b=0;const S=-100*Math.abs(w);let _=1,k=-c.perSlideRotate*w,C=c.perSlideOffset-Math.abs(w)*.75;const T=t.virtual&&t.params.virtual.enabled?t.virtual.from+m:m,P=(T===a||T===a-1)&&w>0&&w<1&&(f||t.params.cssMode)&&h<u,E=(T===a||T===a+1)&&w<0&&w>-1&&(f||t.params.cssMode)&&h>u;if(P||E){const N=(1-Math.abs((Math.abs(w)-.5)/.5))**.5;k+=-28*w*N,_+=-.5*N,C+=96*N,b=`${-25*N*Math.abs(w)}%`}if(w<0?x=`calc(${x}px ${l?"-":"+"} (${C*Math.abs(w)}%))`:w>0?x=`calc(${x}px ${l?"-":"+"} (-${C*Math.abs(w)}%))`:x=`${x}px`,!t.isHorizontal()){const N=b;b=x,x=N}const A=w<0?`${1+(1-_)*w}`:`${1-(1-_)*w}`,I=`
        translate3d(${x}, ${b}, ${S}px)
        rotateZ(${c.rotate?l?-k:k:0}deg)
        scale(${A})
      `;if(c.slideShadows){let N=y.querySelector(".swiper-slide-shadow");N||(N=yD("cards",y)),N&&(N.style.opacity=Math.min(Math.max((Math.abs(w)-.5)/.5,0),1))}y.style.zIndex=-Math.abs(Math.round(g))+o.length;const L=gD(c,y);L.style.transform=I}},setTransition:o=>{const a=t.slides.map(l=>hm(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),vD({swiper:t,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:t.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!t.params.cssMode})})}const xD=({task:e,isCompleted:t,isPaused:r,pausedTime:n,isActiveCommitted:s,hasCommittedToTask:i,isCurrentTask:o,activeCommittedIndex:a,onCommit:l,onComplete:c,onMadeProgress:u,onMoveOn:f,onCarryOn:h,onSkip:m,onBackToActive:y,navigationUnlocked:g,formatTime:w,onPauseHover:v})=>{const[x,b]=p.useState(!1);return t?null:!s&&i&&a>=0?d.jsx("div",{className:"space-y-2",children:d.jsxs(fe,{onClick:y,size:"sm",className:"w-full flex items-center gap-2 bg-gray-200 hover:bg-primary hover:text-white transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:[d.jsx(XC,{className:"w-4 h-4"}),"Back to Active Card"]})}):r?d.jsxs(fe,{onClick:()=>h(e.id),size:"sm",className:"w-full bg-primary hover:bg-primary/90 transition-all duration-700",style:{color:"#434343"},children:[d.jsx(ev,{className:"w-4 h-4 mr-2"}),"Play"]}):o?!i||!s?g?d.jsxs(fe,{onClick:l,size:"sm",className:"w-full bg-primary hover:bg-primary/90 transition-all duration-700",style:{color:"#434343"},children:[d.jsx(ev,{className:"w-4 h-4 mr-2"}),"Play"]}):d.jsx("div",{className:"text-sm text-center",style:{color:"hsl(220 10% 50%)"},children:"Starting task..."}):x?d.jsx("div",{className:"space-y-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(fe,{onClick:()=>b(!1),size:"sm",className:"bg-gray-200 hover:bg-gray-300 px-3 transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:d.jsx(Rc,{className:"w-4 h-4"})}),d.jsx(fe,{onClick:()=>u(e.id),size:"sm",className:"flex-1 bg-gray-200 hover:bg-orange-500 hover:text-white transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:"Made Progress"}),d.jsx(fe,{onClick:()=>c(e.id),size:"sm",className:"flex-1 bg-gray-200 hover:bg-green-600 hover:text-white transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:"Complete"})]})}):d.jsx("div",{className:"space-y-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(fe,{onClick:()=>b(!0),size:"sm",className:"bg-gray-200 hover:bg-green-600 hover:text-white px-3 transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:d.jsx(zC,{className:"w-4 h-4"})}),d.jsxs(fe,{onClick:()=>f(e.id),onMouseEnter:()=>v==null?void 0:v(!0),onMouseLeave:()=>v==null?void 0:v(!1),size:"sm",className:"flex-1 bg-gray-200 hover:bg-primary hover:text-white transition-all duration-700",style:{color:"hsl(220 10% 30%)"},children:[d.jsx(KC,{className:"w-4 h-4 mr-1"}),"Pause"]})]})}):d.jsx("div",{className:"text-sm",style:{color:"hsl(220 10% 50%)"},children:"Swipe to view this task"})},bD=({taskId:e,startTime:t,estimatedTime:r,isActiveCommitted:n})=>{const[s,i]=p.useState(Date.now());p.useEffect(()=>{if(!n)return;i(Date.now());const y=setInterval(()=>{i(Date.now())},6e4);return()=>clearInterval(y)},[n]);const o=y=>new Date(y).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),l=(()=>{if(!r)return null;const y=gr(r);return y?t+y*6e4:null})(),c=l&&s>l+6e4,f=o(t),h=l?o(l):null,m=o(s);return!r||!h?d.jsx("span",{className:"text-sm",children:f}):c?d.jsxs("span",{className:"text-sm",children:[f,"  ",m,d.jsx("span",{style:{color:"hsl(220 10% 50%)"},children:"  "}),d.jsxs("span",{style:{color:"hsl(220 10% 45%)",textDecoration:"line-through",opacity:.6},children:["(",h,")"]})]}):d.jsxs("span",{className:"text-sm",children:[f,"  ",h]})},SD=(e,t=3)=>{const r=e.split(" ");if(r.length<=4)return e;const n=r.length,s=[];if(t===2){const i=Math.floor(n/2);s.push(r.slice(0,i).join(" ")),s.push(r.slice(i).join(" "))}else{const i=Math.floor(n/t),o=n%t;let a=0;for(let l=0;l<t;l++){let c=i;l>=t-o&&c++,a<n&&(s.push(r.slice(a,a+c).join(" ")),a+=c)}}return s.join(`
`)},AS=({task:e,index:t,totalTasks:r,isCompleted:n,isPaused:s,pausedTime:i,isActiveCommitted:o,hasCommittedToTask:a,isCurrentTask:l,activeCommittedIndex:c,flowProgress:u,sunsetImageUrl:f,attribution:h,attributionUrl:m,description:y,caption:g,cardNumber:w,taskStartTimes:v,progressManager:x,onCommit:b,onComplete:S,onMadeProgress:_,onMoveOn:k,onCarryOn:C,onSkip:T,onBackToActive:P,onNotesChange:E,navigationUnlocked:A,formatTime:I,hideTaskActions:L=!1,pipWindow:N})=>{const[$,O]=p.useState(e.notes||""),[z,j]=p.useState(!1),[D,F]=p.useState(!1);p.useEffect(()=>{O(e.notes||"")},[e.notes,e.id]);const[U,Y]=p.useState(!1),re=ee=>{const ce=ee.currentTarget,le=ce.selectionStart,ae=ce.value.split(`
`);let Ae=0;for(let ue=0;ue<ae.length;ue++){const W=ae[ue],Z=Ae,de=Ae+W.length;if(le>=Z&&le<=de){const oe=le-Z,me=W.indexOf(""),be=W.indexOf("");if(me!==-1&&oe>=me&&oe<=me+1){ae[ue]=W.replace("","");const he=ae.join(`
`);O(he),E==null||E(e.id,he);break}else if(be!==-1&&oe>=be&&oe<=be+1){ae[ue]=W.replace("","");const he=ae.join(`
`);O(he),E==null||E(e.id,he);break}}Ae=de+1}},se=ee=>{const ce=ee.currentTarget,{selectionStart:le,selectionEnd:ne,value:ae}=ce;if((ee.ctrlKey||ee.metaKey)&&ee.key==="l"&&!ee.shiftKey){ee.preventDefault();const Ae=ae.split(`
`);let ue=0;for(let W=0;W<Ae.length;W++){const Z=ue,de=ue+Ae[W].length;if(le>=Z&&le<=de){const oe=Ae[W].trim();if(oe.startsWith("")||oe.startsWith(""))return;Ae[W]=oe?` ${oe}`:" ";const me=Ae.join(`
`);O(me),E==null||E(e.id,me),setTimeout(()=>{ce.setSelectionRange(le+2,le+2)},0);break}ue=de+1}}if((ee.ctrlKey||ee.metaKey)&&ee.key==="L"&&ee.shiftKey){if(ee.preventDefault(),le===ne)return;const Ae=ae.substring(0,le),ue=ae.substring(le,ne),W=ae.substring(ne),Z=ue.split(`
`),de=Z.map(me=>{const be=me.trim();return!be||be.startsWith("")||be.startsWith("")?me:me.replace(be,` ${be}`)}),oe=Ae+de.join(`
`)+W;O(oe),E==null||E(e.id,oe),setTimeout(()=>{const me=de.reduce((be,he,Ze)=>{const Xt=Z[Ze].trim();return be+(Xt&&!Xt.startsWith("")&&!Xt.startsWith("")?2:0)},0);ce.setSelectionRange(le,ne+me)},0)}},Se=async()=>{if(!z){j(!0);try{const{data:ee,error:ce}=await X.functions.invoke("breakdown-task",{body:{task:e.title,context:"Break down this task into actionable subtasks for someone with ADHD/neurodivergent traits. Make steps clear, specific, and not overwhelming."}});if(ce)throw ce;const ne=ee.subtasks.map(Ae=>` ${Ae.subtask}`).join(`
`),ae=$.trim()?`${$}

${ne}`:ne;O(ae),E==null||E(e.id,ae)}catch(ee){console.error("Error generating subtasks:",ee);const le=[" Break down the task"," Complete the first step"," Review progress"," Finish and wrap up"].join(`
`),ne=$.trim()?`${$}

${le}`:le;O(ne),E==null||E(e.id,ne)}finally{j(!1)}}};return d.jsxs("div",{className:`w-full h-full transition-transform ${n?"[transform:rotateY(180deg)]":""}`,style:{transformStyle:"preserve-3d",transitionDuration:"2000ms"},children:[d.jsx(Wt,{className:`w-full h-full border-2 border-transparent z-[10] overflow-visible rounded-2xl relative ${o?"shadow-2xl":"shadow-xl"}`,style:{backfaceVisibility:"hidden",backgroundColor:"hsl(48 20% 97%)",color:"hsl(220 10% 20%)",...o&&{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(0, 0, 0, 0.05)"}},children:d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs(Ht,{className:"text-center pb-4 flex-shrink-0 relative overflow-visible px-8 py-6",children:[d.jsxs("div",{className:"absolute top-3 left-2 flex gap-1",children:[e.is_liked&&d.jsx(zs,{className:"w-4 h-4 fill-red-500 text-red-500 transition-colors"}),e.is_urgent&&d.jsx(Fs,{className:"w-4 h-4 fill-yellow-500 text-yellow-500 transition-colors"}),e.is_quick&&d.jsx(Us,{className:"w-4 h-4 fill-green-500 text-green-500 transition-colors"})]}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:Se,disabled:z,className:"absolute top-1 right-2 h-6 w-6 p-0 hover:bg-muted/20 disabled:opacity-50",children:z?d.jsx(HC,{className:"w-3 h-3 animate-spin",style:{color:"hsl(220 10% 40%)"}}):d.jsx(tP,{className:"w-3 h-3",style:{color:"hsl(220 10% 40%)"}})}),d.jsx("div",{className:"flex items-center justify-center gap-1",style:{marginBottom:"16px",color:"hsl(220 10% 50%)"},children:v[e.id]?d.jsx(bD,{taskId:e.id,startTime:v[e.id],estimatedTime:e.estimated_time,isActiveCommitted:o}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-sm",children:t+1}),d.jsxs("span",{className:"text-sm",children:["of ",r]})]})}),d.jsx(yr,{className:"text-2xl leading-tight tracking-wide whitespace-pre-line",style:{color:"hsl(220 10% 20%)"},children:SD(e.title,2)})]}),d.jsxs(qt,{className:"flex-1 flex flex-col justify-between px-4 pb-4 overflow-hidden",children:[d.jsxs("div",{className:"flex-1 flex flex-col space-y-2",children:[d.jsx(x.ProgressBar,{taskId:e.id,estimatedTime:e.estimated_time,isActiveCommitted:o,isPauseHovered:U}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[d.jsxs("div",{onClick:()=>{const ee=!D;if(F(ee),N&&!N.closed){const ne=ee?314:514;try{N.resizeTo(368,ne)}catch(ae){console.warn("Failed to resize PiP window:",ae)}}},className:"cursor-pointer py-2 px-4 flex items-center justify-center group relative",children:[d.jsx("div",{className:"w-full h-[1px] bg-[hsl(220_10%_60%)] opacity-30 group-hover:opacity-50 transition-all duration-700 ease-out"}),d.jsx("div",{className:"absolute opacity-0 group-hover:opacity-100 transition-all duration-700 ease-out transform scale-75 group-hover:scale-100 bg-[hsl(48_20%_97%)] px-1",children:D?d.jsx(zx,{className:"w-4 h-4",style:{color:"hsl(220 10% 40%)"}}):d.jsx(FC,{className:"w-4 h-4",style:{color:"hsl(220 10% 40%)"}})})]}),d.jsx("div",{className:`relative transition-all duration-300 ease-out overflow-hidden ${D?"max-h-0 opacity-0":"max-h-96 opacity-100 flex-1"}`,children:d.jsx(um,{value:$,onChange:ee=>{O(ee.target.value),E==null||E(e.id,ee.target.value)},onClick:re,onKeyDown:se,placeholder:"Add notes... (Ctrl/Cmd+L for checklist)",className:"resize-none !text-sm leading-relaxed border-none bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 text-[hsl(220_10%_30%)] placeholder:text-[hsl(220_10%_60%)] h-full min-h-[80px] cursor-text hover:cursor-pointer",style:{backgroundColor:"transparent"}})})]})]}),!L&&d.jsx("div",{className:"px-4 pb-2",children:d.jsx(xD,{task:e,isCompleted:n,isPaused:s,pausedTime:i,isActiveCommitted:o,hasCommittedToTask:a,isCurrentTask:l,activeCommittedIndex:c,onCommit:b,onComplete:S,onMadeProgress:_,onMoveOn:k,onCarryOn:C,onSkip:T,onBackToActive:P,navigationUnlocked:A,formatTime:I,onPauseHover:Y})})]})]})}),n&&d.jsxs("div",{className:"absolute inset-0 rounded-2xl shadow-xl border-2 border-transparent [transform:rotateY(180deg)] z-20",style:{backfaceVisibility:"hidden"},children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center rounded-2xl",style:{backgroundImage:`url('${f}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-2xl"}),d.jsx("div",{className:"absolute inset-0 paper-texture rounded-2xl"}),d.jsx("div",{className:"absolute inset-0 border-2 border-white rounded-2xl opacity-80"}),w&&d.jsx("div",{className:"absolute top-2 right-4 text-gray-300 text-4xl font-bold z-30",style:{fontFamily:"Calendas Plus"},children:w.toString().padStart(2,"0")}),g&&d.jsx("div",{className:"absolute top-4 left-4 z-20",children:d.jsx("span",{className:"inline-flex items-center bg-gray-600/10 backdrop-blur-md rounded-md px-2 py-1",children:d.jsx("span",{className:"text-lg font-bold text-white",style:{fontFamily:"Calendas Plus"},children:g})})}),d.jsx("div",{className:"relative h-full flex flex-col justify-end p-6 text-white z-10",children:d.jsxs("div",{className:"text-left flex flex-col gap-3",children:[h&&(m?d.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:text-gray-200 underline transition-colors",children:h}):d.jsx("div",{className:"text-sm text-white",children:h})),y&&d.jsx("p",{className:"text-xs text-white leading-relaxed italic mt-1",children:y})]})})]})]})},IS=p.forwardRef(({tasks:e,gameState:t,rewardCards:r,nextRewardCard:n,onSlideChange:s,onCommit:i,onComplete:o,onMadeProgress:a,onMoveOn:l,onCarryOn:c,onSkip:u,onBackToActive:f,onAddToCollection:h,onNotesChange:m,formatTime:y,progressManager:g},w)=>(r.map(v=>v.imageUrl),d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"w-[368px]",style:{aspectRatio:"63/88"},children:d.jsx(NS,{ref:w,effect:"cards",grabCursor:!0,modules:[wD],cardsEffect:{perSlideOffset:8,perSlideRotate:2,rotate:!0,slideShadows:!0},onSlideChange:v=>{s(v.activeIndex)},allowSlideNext:!0,allowSlidePrev:!0,initialSlide:t.currentViewingIndex,className:"w-full h-full",children:e.map((v,x)=>d.jsx(RS,{children:d.jsx(AS,{task:v,index:x,totalTasks:e.length,isCompleted:t.completedTasks.has(v.id),isPaused:t.pausedTasks.has(v.id),pausedTime:t.pausedTasks.get(v.id)||0,isActiveCommitted:x===t.activeCommittedIndex,hasCommittedToTask:t.hasCommittedToTask,isCurrentTask:x===t.currentViewingIndex,activeCommittedIndex:t.activeCommittedIndex,flowProgress:t.flowProgress,sunsetImageUrl:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return(S==null?void 0:S.sunsetImageUrl)||""}return((b=r[x])==null?void 0:b.imageUrl)||""})(),attribution:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return console.log(" Looking for completed task:",v.id,"found:",S,"attribution:",S==null?void 0:S.attribution),(S==null?void 0:S.attribution)||""}return((b=r[x])==null?void 0:b.attribution)||""})(),attributionUrl:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return(S==null?void 0:S.attributionUrl)||""}return((b=r[x])==null?void 0:b.attributionUrl)||""})(),description:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return(S==null?void 0:S.description)||""}return((b=r[x])==null?void 0:b.description)||""})(),caption:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return(S==null?void 0:S.caption)||""}return((b=r[x])==null?void 0:b.collectionName)||""})(),cardNumber:(()=>{var b;if(t.completedTasks.has(v.id)){const S=t.todaysCompletedTasks.find(_=>_.id===v.id);return S==null?void 0:S.cardNumber}return(b=r[x])==null?void 0:b.cardNumber})(),taskStartTimes:t.taskStartTimes,onCommit:i,onComplete:o,onMadeProgress:a,onMoveOn:l,onCarryOn:c,onSkip:u,onBackToActive:f,onAddToCollection:h,onNotesChange:m,navigationUnlocked:t.navigationUnlocked,formatTime:y,progressManager:g})},v.id))},t.currentViewingIndex)})})));IS.displayName="TaskSwiper";const _D=({tasks:e,currentViewingIndex:t,activeCommittedIndex:r,hasCommittedToTask:n,completedTasks:s,pausedTasks:i})=>d.jsx("div",{className:"flex justify-center gap-2 mb-8",children:e.map((o,a)=>d.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 relative",children:a===t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-white/30"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-gray-700/50"})]}):d.jsx("div",{className:"w-3 h-3 rounded-full bg-white/20"})},a))}),kD=e=>{const[t,r]=p.useState(0),[n,s]=p.useState(0),[i,o]=p.useState(null),[a,l]=p.useState(new Set),[c,u]=p.useState(new Map),[f,h]=p.useState(!1),[m,y]=p.useState({}),[g,w]=p.useState(null),[v,x]=p.useState([]),[b,S]=p.useState(!0),[_,k]=p.useState(!0),[C,T]=p.useState(!1),[P,E]=p.useState(0),A=p.useRef(),I=p.useRef(null),L=f&&t===n,N=(O,z)=>a.has(O.id)?"completed":c.has(O.id)?"paused":z===t?"current":z<t?"passed":"upcoming";return{currentViewingIndex:t,setCurrentViewingIndex:r,activeCommittedIndex:n,setActiveCommittedIndex:s,flowStartTime:i,setFlowStartTime:o,completedTasks:a,setCompletedTasks:l,pausedTasks:c,setPausedTasks:u,hasCommittedToTask:f,setHasCommittedToTask:h,taskStartTimes:m,setTaskStartTimes:y,lastCompletedTask:g,setLastCompletedTask:w,todaysCompletedTasks:v,setTodaysCompletedTasks:x,navigationUnlocked:b,setNavigationUnlocked:S,isInitialLoad:_,setIsInitialLoad:k,showTaskList:C,setShowTaskList:T,flowProgress:P,setFlowProgress:E,timerRef:A,swiperRef:I,isTaskCommitted:L,getTaskStatus:N,getTaskTimeSpent:(O,z)=>{const j=N(O,z);if(j==="completed"){if(g&&g.id===O.id)return g.timeSpent;const D=m[O.id];return D?Math.round((Date.now()-D)/6e4):0}if(j==="paused")return c.get(O.id)||0;if(j==="current"&&f&&z===n){const D=m[O.id];if(D){const F=Math.round((Date.now()-D)/6e4);return Math.max(0,F)}}return 0}}},OS=({isProcessing:e,onLoadingComplete:t,isPiP:r=!1})=>{const[n,s]=p.useState(!1),[i,o]=p.useState([]),[a,l]=p.useState(!1),[c,u]=p.useState(!1);p.useEffect(()=>{e&&i.length===0&&f()},[e,i.length]),p.useEffect(()=>{if(i.length>0&&e){const h=setTimeout(()=>{u(!0)},2e3),m=i.map(y=>new Promise(g=>{const w=new Image;w.onload=()=>g(),w.onerror=()=>g(),w.src=y.imageUrl}));return Promise.all(m).then(()=>{l(!0)}),()=>{clearTimeout(h)}}},[i,e]),p.useEffect(()=>{e&&!n&&(r||a&&c)&&(s(!0),setTimeout(()=>{r||t==null||t()},600))},[e,n,a,c,t,r]),p.useEffect(()=>{e&&(l(!1),u(!1))},[e]);const f=async()=>{try{const{data:{user:h}}=await X.auth.getUser();if(!h)return;const{data:m,error:y}=await X.from("tasks").select(`
          collection_cards!inner (
            image_url,
            caption,
            card_number
          )
        `).eq("user_id",h.id).eq("task_status","complete").not("collection_card_id","is",null);if(y||!m){console.error("Error fetching earned cards:",y);return}const g=m.map(x=>({imageUrl:x.collection_cards.image_url,caption:x.collection_cards.caption,cardNumber:x.collection_cards.card_number})),v=g.sort(()=>Math.random()-.5).slice(0,Math.min(3,g.length));o(v)}catch(h){console.error("Error fetching random cards:",h)}};return d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"w-[368px]",style:{aspectRatio:"63/88"},children:d.jsxs("div",{className:`w-full h-full relative flex items-center justify-center transition-opacity duration-500 ${n?"opacity-95":"opacity-100"}`,children:[d.jsx("div",{className:"absolute w-full h-full rounded-2xl border-2 shadow-lg overflow-hidden",style:{backgroundColor:"hsl(202 10% 14%)",borderColor:"white",transform:"translateY(2px)",zIndex:1},children:i[1]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[1].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/20"})]})}),d.jsx("div",{className:"absolute w-full h-full rounded-2xl border-2 shadow-lg overflow-hidden",style:{backgroundColor:"hsl(202 10% 16%)",borderColor:"white",transform:"translateY(1px)",zIndex:2},children:i[2]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[2].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/20"})]})}),d.jsx("div",{className:`absolute w-full h-full rounded-2xl border-2 shadow-xl transition-all duration-1200 overflow-hidden ${n?"animate-none":"animate-shuffle-card-top"}`,style:{backgroundColor:"hsl(202 10% 18%)",borderColor:"white",transform:n?"translateX(0px) translateY(0px) rotate(0deg)":void 0,zIndex:6},children:i[0]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[0].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"})]})}),d.jsx("div",{className:`absolute w-full h-full rounded-2xl border-2 shadow-xl transition-all duration-1200 overflow-hidden ${n?"animate-none":"animate-shuffle-card-middle"}`,style:{backgroundColor:"hsl(202 10% 20%)",borderColor:"white",transform:n?"translateX(0px) translateY(0px) rotate(0deg)":void 0,zIndex:5},children:i[1]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[1].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"})]})}),d.jsx("div",{className:`absolute w-full h-full rounded-2xl border-2 shadow-xl transition-all duration-1200 overflow-hidden ${n?"animate-none":"animate-shuffle-card-bottom"}`,style:{backgroundColor:"hsl(202 10% 22%)",borderColor:"white",transform:n?"translateX(0px) translateY(0px) rotate(0deg)":void 0,zIndex:4},children:i[2]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[2].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"})]})}),d.jsx("div",{className:"absolute w-full h-full rounded-2xl border-2 shadow-lg overflow-hidden",style:{backgroundColor:"hsl(202 10% 18%)",borderColor:"hsl(202 10% 32%)",zIndex:3},children:i[0]&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-700 ${a?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url('${i[0].imageUrl}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/30"})]})})]})})})},ED=({tasks:e,currentViewingIndex:t,activeCommittedIndex:r,hasCommittedToTask:n,completedTasks:s,swiperRef:i,setCurrentViewingIndex:o,onCommitToCurrentTask:a,onTaskComplete:l})=>(p.useEffect(()=>{const f=h=>{var m;if(h.key==="ArrowLeft"||h.key==="ArrowRight")(m=i.current)!=null&&m.swiper&&(h.preventDefault(),h.key==="ArrowLeft"?i.current.swiper.slidePrev():h.key==="ArrowRight"&&i.current.swiper.slideNext());else if(h.key==="ArrowDown"){h.preventDefault();const y=e[t];if(!y)return;n&&t===r&&!s.has(y.id)?l(y.id):(!n||t!==r)&&a()}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,r,n,s,e,i,a,l]),{handleKeyboardNavigation:()=>{},handleBackToActiveCard:()=>{o(r)}});async function TD(e){try{console.log("getNextRewardCard called with userId:",e);const{data:t,error:r}=await X.from("card_collections").select("id, name, display_order").order("display_order");if(r||!t)return console.error("Error fetching collections:",r),null;const{data:n,error:s}=await X.from("user_card_progress").select("collection_id, cards_unlocked").eq("user_id",e);if(s)return console.error("Error fetching user progress:",s),null;for(const i of t){const o=n==null?void 0:n.find(l=>l.collection_id===i.id),a=(o==null?void 0:o.cards_unlocked)||0;if(console.log(`Collection ${i.name}: ${a}/6 cards`),a<6){const l=a+1,{data:c,error:u}=await X.from("collection_cards").select("*").eq("collection_id",i.id).eq("card_number",l).single();return u?(console.error("Error fetching next card:",u),null):(console.log(`Next card: ${i.name} Card ${l}`),c)}}return console.log("All collections complete"),null}catch(t){return console.error("Error getting next reward card:",t),null}}async function l0(e){try{if(console.log(" unlockNextCard called with userId:",e),!e)return console.error(" No userId provided to unlockNextCard"),null;const t=await TD(e);if(!t)return console.error("No next card found"),null;console.log(" Next card to unlock:",t);const{data:r,error:n}=await X.from("user_card_progress").select("cards_unlocked").eq("user_id",e).eq("collection_id",t.collection_id).maybeSingle();if(n)return console.error("Error fetching progress:",n),null;const s=(r==null?void 0:r.cards_unlocked)||0,i=s+1;if(console.log(` Updating collection progress: ${s}  ${i}`),r){const{error:o}=await X.from("user_card_progress").update({cards_unlocked:i,updated_at:new Date().toISOString()}).eq("user_id",e).eq("collection_id",t.collection_id);if(o)return console.error("Error updating progress:",o),null}else{const{error:o}=await X.from("user_card_progress").insert({user_id:e,collection_id:t.collection_id,cards_unlocked:i});if(o)return console.error("Error inserting progress:",o),null}return console.log(" Successfully unlocked card:",t.card_number,"from collection:",t.collection_id),t}catch(t){return console.error("Error unlocking next card:",t),null}}async function MS(e,t){var r;try{let n=t;if(!n){const{data:c}=await X.from("card_collections").select("id").order("created_at").limit(1);if(!(c!=null&&c.length))return console.error("No collections found"),null;n=c[0].id}const{data:s}=await X.from("user_card_progress").select("cards_unlocked").eq("user_id",e).eq("collection_id",n).maybeSingle(),o=((s==null?void 0:s.cards_unlocked)||0)+1,{data:a,error:l}=await X.from("collection_cards").select("id, image_url, attribution, attribution_url, description, caption, card_number").eq("collection_id",n).eq("card_number",o).single();if(l||!a){const{data:c}=await X.from("card_collections").select("id").order("created_at").gt("created_at",((r=(await X.from("card_collections").select("created_at").eq("id",n).single()).data)==null?void 0:r.created_at)||"").limit(1);return c!=null&&c.length?MS(e,c[0].id):(console.error("No more cards available in any collection"),null)}return{card:{imageUrl:a.image_url,attribution:a.attribution,attributionUrl:a.attribution_url,description:a.description,caption:a.caption,cardNumber:a.card_number},cardId:a.id,cardNumber:a.card_number,collectionId:n}}catch(n){return console.error("Error getting next sequential card:",n),null}}async function DS(){try{const{data:e,error:t}=await X.from("collection_cards").select(`
        image_url, 
        attribution, 
        attribution_url, 
        description, 
        caption, 
        card_number,
        card_collections!inner(name)
      `).order("card_number");return t?(console.error("Error fetching reward card data:",t),[]):(e==null?void 0:e.map(r=>({imageUrl:r.image_url,attribution:r.attribution,attributionUrl:r.attribution_url,description:r.description,caption:r.caption,cardNumber:r.card_number,collectionName:r.card_collections.name})).filter(r=>r.imageUrl))||[]}catch(e){return console.error("Error getting reward card data:",e),[]}}const Ol=new Map,Qd=new Set,CD=e=>{const{tasks:t,timerRef:r,taskStartTimes:n,pausedTasks:s,lastCompletedTask:i,currentViewingIndex:o,activeCommittedIndex:a,sunsetImages:l,nextRewardCard:c,setFlowProgress:u,setHasCommittedToTask:f,setIsInitialLoad:h,setCompletedTasks:m,setLastCompletedTask:y,setTodaysCompletedTasks:g,setPausedTasks:w,setTaskStartTimes:v,setActiveCommittedIndex:x,setFlowStartTime:b,onTaskComplete:S}=e;return{ProgressBar:({taskId:N,estimatedTime:$,isActiveCommitted:O,isPauseHovered:z=!1})=>{const[j,D]=p.useState(Date.now());Ol.has(N)||Ol.set(N,{baseElapsedMs:0,currentSessionStart:null,sessionStartElapsedMs:0});const F=Ol.get(N);if(p.useEffect(()=>{Qd.has(N)||(F.sessionStartElapsedMs=F.baseElapsedMs,Qd.add(N))},[N]),p.useEffect(()=>{if(O){if(!F.currentSessionStart){const me=Date.now();F.currentSessionStart=me,D(me)}const oe=setInterval(()=>{D(Date.now())},100);return()=>clearInterval(oe)}else if(F.currentSessionStart){const oe=Date.now(),me=oe-F.currentSessionStart;F.baseElapsedMs+=me,F.currentSessionStart=null,D(oe)}},[O,N]),!$)return null;const U=gr($),Y=F.currentSessionStart?F.baseElapsedMs+(j-F.currentSessionStart):F.baseElapsedMs,re=F.currentSessionStart?F.baseElapsedMs-F.sessionStartElapsedMs+(j-F.currentSessionStart):F.baseElapsedMs-F.sessionStartElapsedMs,se=Math.floor(Y/6e4),Se=re/1e3,ee=U*60,ce=Math.min(Se/ee*100,100),le=se>U,ae=(oe=>{const me=Math.floor(oe/1e3),be=Math.floor(me/60),he=me%60;return`${be}:${he.toString().padStart(2,"0")}`})(re),Ae=re>6e4,ue=U>=39,W=[];if(ue){const oe=Math.floor(U/20),me=U%20;for(let be=0;be<oe;be++)W.push(20);me>0&&W.push(me)}const de=(()=>{if(!ue)return[];const oe=[];let be=Math.floor(re/6e4);for(const he of W)be<=0?oe.push(0):be>=he?(oe.push(100),be-=he):(oe.push(be/he*100),be=0);return oe})();return d.jsx("div",{className:"mx-4 mb-4",children:ue?d.jsxs("div",{className:"w-full h-8 relative flex rounded-full overflow-hidden",children:[W.map((oe,me)=>{const be=oe/U*100,he=de[me]||0;return d.jsxs("div",{className:"h-full relative flex-shrink-0 transition-all duration-700",style:{width:`${be}%`},children:[d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-out ${z?"opacity-0":"opacity-100"}`,style:{background:`linear-gradient(to right, ${le?"#f59e0b":O?"hsl(48 100% 50%)":"#9ca3af"} ${he}%, ${le?"rgba(245, 158, 11, 0.3)":O?"hsl(48 100% 85%)":"rgba(107, 114, 128, 0.3)"} ${he}%)`}}),d.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-out ${z?"opacity-100":"opacity-0"}`,style:{background:`linear-gradient(to right, #6b7280 ${he}%, rgba(107, 114, 128, 0.3) ${he}%)`}})]}),me<W.length-1&&d.jsx("div",{className:"absolute right-0 top-0 w-1 h-full",style:{backgroundColor:"hsl(48 20% 97%)"}})]},me)}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3 group",children:d.jsx("span",{className:`text-xs font-medium transition-opacity duration-300 ${le?"text-white":"text-gray-700"} ${Ae?"opacity-30 group-hover:opacity-100":"opacity-100"}`,children:ae})})]}):d.jsxs("div",{className:"w-full rounded-full h-8 relative",children:[d.jsx("div",{className:`absolute inset-0 rounded-full transition-opacity duration-700 ease-out ${z?"opacity-0":"opacity-100"}`,style:{background:`linear-gradient(to right, ${le?"#f59e0b":O?"hsl(48 100% 50%)":"#9ca3af"} ${ce}%, ${le?"rgba(245, 158, 11, 0.3)":O?"hsl(48 100% 85%)":"rgba(107, 114, 128, 0.3)"} ${ce}%)`}}),d.jsx("div",{className:`absolute inset-0 rounded-full transition-opacity duration-700 ease-out ${z?"opacity-100":"opacity-0"}`,style:{background:`linear-gradient(to right, #6b7280 ${ce}%, rgba(107, 114, 128, 0.3) ${ce}%)`}}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3 group",children:d.jsx("span",{className:`text-xs font-medium transition-opacity duration-300 ${le?"text-white":"text-gray-700"} ${Ae?"opacity-30 group-hover:opacity-100":"opacity-100"}`,children:ae})})]})})},handleTaskComplete:async N=>{const $=t.find(F=>F.id===N);if(!$)return;const O=n[N],z=O?Math.round((Date.now()-O)/6e4):0;r.current&&clearInterval(r.current),u(0),f(!1),h(!1),m(F=>new Set([...F,N])),y({id:N,title:$.title,timeSpent:z});let j=null;c&&(j={cardId:c.cardId,cardNumber:c.cardNumber,collectionId:c.collectionId,card:{imageUrl:c.card.imageUrl,attribution:c.card.attribution,attributionUrl:c.card.attributionUrl,description:c.card.description,caption:c.card.caption}});try{const{data:{user:F}}=await X.auth.getUser();F&&j&&(await l0(F.id)?(console.log(` User earned card #${j.cardNumber}:`,j.card),await X.from("tasks").update({list_location:"collection",task_status:"complete",completed_at:new Date().toISOString(),time_spent_minutes:z,collection_card_id:j.cardId,flipped_image_url:j.card.imageUrl}).eq("id",N)):await X.from("tasks").update({list_location:"collection",task_status:"complete",completed_at:new Date().toISOString(),time_spent_minutes:z}).eq("id",N),await X.rpc("update_daily_stats",{p_user_id:F.id,p_date:new Date().toISOString().split("T")[0],p_tasks_completed:1,p_time_minutes:z}))}catch(F){console.error("Error updating task:",F)}const D={id:N,title:$.title,timeSpent:z,completedAt:new Date,sunsetImageUrl:(j==null?void 0:j.card.imageUrl)||l[0],attribution:j==null?void 0:j.card.attribution,attributionUrl:j==null?void 0:j.card.attributionUrl,description:j==null?void 0:j.card.description,caption:j==null?void 0:j.card.caption,cardNumber:j==null?void 0:j.cardNumber};g(F=>[...F,D]),S==null||S(N)},handleMadeProgress:async N=>{const $=t.find(U=>U.id===N);if(!$)return;const O=n[N],z=O?Math.round((Date.now()-O)/6e4):0;let j=null;try{const{data:{user:U}}=await X.auth.getUser();if(U){const{data:Y}=await X.from("tasks").select("estimated_minutes, category").eq("id",N).eq("user_id",U.id).single();j=Y}}catch(U){console.error("Error fetching original task data:",U)}r.current&&clearInterval(r.current),u(0),f(!1),h(!1),m(U=>new Set([...U,N])),y({id:N,title:$.title,timeSpent:z});let D=null;c&&(D={cardId:c.cardId,cardNumber:c.cardNumber,collectionId:c.collectionId,card:{imageUrl:c.card.imageUrl,attribution:c.card.attribution,attributionUrl:c.card.attributionUrl,description:c.card.description,caption:c.card.caption}});try{const{data:{user:U}}=await X.auth.getUser();U&&D&&(await l0(U.id)?(console.log(` User earned card #${D.cardNumber} for made progress:`,D.card),await X.from("tasks").update({list_location:"collection",task_status:"made_progress",completed_at:new Date().toISOString(),time_spent_minutes:z,collection_card_id:D.cardId,flipped_image_url:D.card.imageUrl}).eq("id",N),await X.from("tasks").insert({title:$.title,user_id:U.id,source:"brain_dump",list_location:"later",task_status:"task_list",is_liked:$.is_liked||!1,is_urgent:$.is_urgent||!1,is_quick:$.is_quick||!1,notes:$.notes||null,estimated_minutes:(j==null?void 0:j.estimated_minutes)||null,category:(j==null?void 0:j.category)||null,parent_task_id:N})):(await X.from("tasks").update({list_location:"collection",task_status:"made_progress",completed_at:new Date().toISOString(),time_spent_minutes:z}).eq("id",N),await X.from("tasks").insert({title:$.title,user_id:U.id,source:"brain_dump",list_location:"later",task_status:"task_list",is_liked:$.is_liked||!1,is_urgent:$.is_urgent||!1,is_quick:$.is_quick||!1,notes:$.notes||null,estimated_minutes:(j==null?void 0:j.estimated_minutes)||null,category:(j==null?void 0:j.category)||null,parent_task_id:N})),await X.rpc("update_daily_stats",{p_user_id:U.id,p_date:new Date().toISOString().split("T")[0],p_tasks_completed:1,p_time_minutes:z}))}catch(U){console.error("Error updating task as made progress:",U)}const F={id:N,title:$.title,timeSpent:z,completedAt:new Date,sunsetImageUrl:(D==null?void 0:D.card.imageUrl)||l[0],attribution:D==null?void 0:D.card.attribution,attributionUrl:D==null?void 0:D.card.attributionUrl,description:D==null?void 0:D.card.description,caption:D==null?void 0:D.card.caption,cardNumber:D==null?void 0:D.cardNumber};g(U=>[...U,F]),S==null||S(N)},handlePauseTask:async N=>{if(!t.find(j=>j.id===N))return;const O=n[N],z=O?Date.now()-O:0;r.current&&clearInterval(r.current),u(0),w(j=>new Map(j.set(N,z))),f(!1),x(-1),h(!1);try{const{data:{user:j}}=await X.auth.getUser();j&&await X.from("tasks").update({status:"paused",paused_at:new Date().toISOString(),time_spent_minutes:Math.round(z/6e4)}).eq("id",N)}catch(j){console.error("Error pausing task:",j)}},handleCarryOn:N=>{if(!t.find(z=>z.id===N))return;const O=s.get(N)||0;f(!0),x(o),b(Date.now()),u(0),v(z=>({...z,[N]:Date.now()-O})),w(z=>{const j=new Map(z);return j.delete(N),j})},handleSkip:async N=>{if(t.find(O=>O.id===N)){w(O=>{const z=new Map(O);return z.delete(N),z});try{const{data:{user:O}}=await X.auth.getUser();O&&await X.from("tasks").update({status:"skipped"}).eq("id",N)}catch(O){console.error("Error skipping task:",O)}}},handleAddToCollectionDB:async()=>{if(i)try{const{data:{user:N}}=await X.auth.getUser();N&&(await X.from("tasks").update({collection_added_at:new Date().toISOString()}).eq("id",i.id),await X.rpc("update_daily_stats",{p_user_id:N.id,p_date:new Date().toISOString().split("T")[0],p_cards_collected:1}))}catch(N){console.error("Error adding to collection:",N)}},resetGameSession:()=>{Qd.clear(),Ol.forEach((N,$)=>{N.baseElapsedMs=0,N.sessionStartElapsedMs=0,N.currentSessionStart=null})},saveTimeForIncompleteTasks:async N=>{for(const $ of N){const O=n[$];if(O){const z=Date.now()-O,j=Math.round(z/6e4);try{const{data:{user:D}}=await X.auth.getUser();if(D&&j>0){const{data:F}=await X.from("tasks").select("time_spent_minutes").eq("id",$).eq("user_id",D.id).single(),U=(F==null?void 0:F.time_spent_minutes)||0,Y=U+j;await X.from("tasks").update({time_spent_minutes:Y}).eq("id",$),console.log(` Added ${j} minutes to existing ${U} minutes (total: ${Y}) for incomplete task: ${$}`)}}catch(D){console.error("Error saving time for incomplete task:",D)}}}}}},PD=({tasks:e,onComplete:t,onTaskComplete:r,onMadeProgress:n,onPauseTask:s,onCommitToCurrentTask:i,onCarryOn:o,onSkip:a,onNotesChange:l,onRefreshTasks:c,nextRewardCard:u,isLoading:f=!1,isProcessing:h=!1,onLoadingComplete:m,pipWindow:y,initialCardIndex:g=0,gameState:w,progressManager:v})=>{const[x,b]=p.useState(!1),[S,_]=p.useState(null),[k,C]=p.useState(!1),T=p.useRef(!1),P=p.useRef(0),E=30,[A,I]=p.useState([]);p.useEffect(()=>{(async()=>{const Z=await DS();I(Z)})()},[]),p.useEffect(()=>{if(f)C(!1);else{const W=setTimeout(()=>{C(!0)},100);return()=>clearTimeout(W)}},[f]),A.map(W=>W.imageUrl);const L=w.currentViewingIndex;p.useEffect(()=>{if(y&&!y.closed){y.focus(),y.document.body.tabIndex=-1;const W=y.document.createElement("style");W.textContent=`
        input, textarea, [contenteditable] {
          -webkit-user-select: text !important;
          user-select: text !important;
          pointer-events: auto !important;
        }
      `,y.document.head.appendChild(W)}},[y]);const N=p.useCallback(()=>{L>0&&w.setCurrentViewingIndex(L-1)},[L,w.setCurrentViewingIndex]),$=p.useCallback(()=>{L<e.length&&w.setCurrentViewingIndex(L+1)},[L,e.length,w.setCurrentViewingIndex]),O=W=>{x||(T.current=!0,P.current=W)},z=W=>{if(!T.current||x)return;const Z=W-P.current;console.log("PiP drag ended:",{deltaX:Z,threshold:E}),Math.abs(Z)>E&&(Z>0?(console.log("PiP swiping to previous card"),N()):(console.log("PiP swiping to next card"),$())),T.current=!1},j=W=>{const Z=W.target;Z&&(Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"||Z.contentEditable==="true"||Z.tagName==="BUTTON"||Z.closest("button"))||(W.preventDefault(),O(W.clientX))},D=W=>{const Z=W.target;Z&&(Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"||Z.contentEditable==="true"||Z.tagName==="BUTTON"||Z.closest("button"))||z(W.clientX)},F=W=>{const Z=W.target;if(Z&&(Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"||Z.contentEditable==="true"||Z.tagName==="BUTTON"||Z.closest("button")))return;const de=W.touches[0];O(de.clientX)},U=W=>{const Z=W.target;if(Z&&(Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"||Z.contentEditable==="true"||Z.tagName==="BUTTON"||Z.closest("button")))return;const de=W.changedTouches[0];z(de.clientX)};p.useEffect(()=>{const W=de=>{const oe=de.target;if(!(oe&&(oe.tagName==="INPUT"||oe.tagName==="TEXTAREA"||oe.contentEditable==="true"))){if(de.key==="ArrowLeft")de.preventDefault(),N();else if(de.key==="ArrowRight")de.preventDefault(),$();else if(de.key==="ArrowDown"){de.preventDefault();const me=e[L];if(!me)return;w.isTaskCommitted&&!w.completedTasks.has(me.id)?re(me.id):(!w.hasCommittedToTask||L!==w.activeCommittedIndex)&&Y()}}},Z=y||window;return Z.addEventListener("keydown",W),()=>Z.removeEventListener("keydown",W)},[L,w.activeCommittedIndex,w.hasCommittedToTask,w.completedTasks,y,N,$]);const Y=()=>{i==null||i()},re=async W=>{if(y&&!y.closed)try{y.resizeTo(368,514)}catch(Z){console.warn("Failed to resize PiP window on completion:",Z)}await(r==null?void 0:r(W))},se=async W=>{if(y&&!y.closed)try{y.resizeTo(368,514)}catch(Z){console.warn("Failed to resize PiP window on progress:",Z)}await(n==null?void 0:n(W))},Se=async W=>{await(s==null?void 0:s(W))},ee=W=>{o==null||o(W)},ce=async W=>{await(a==null?void 0:a(W))},le=()=>{w.activeCommittedIndex>=0&&w.activeCommittedIndex<e.length&&w.setCurrentViewingIndex(w.activeCommittedIndex)},ne=W=>{if(W<60)return`${W}m`;{const Z=Math.floor(W/60),de=W%60;return de>0?`${Z}h ${de}m`:`${Z}h`}},ae=()=>{const W=Array.from(w.completedTasks).length,Z=w.todaysCompletedTasks.filter(oe=>!w.completedTasks.has(oe.id)&&w.taskStartTimes[oe.id]).length,de=e.reduce((oe,me)=>{if(me.time_spent_minutes)return oe+me.time_spent_minutes;const be=w.taskStartTimes[me.id];if(be&&!w.pausedTasks.has(me.id)){const he=Math.round((Date.now()-be)/6e4);return oe+he}return oe},0);return{completedCount:W,progressedCount:Z,totalFocusTime:ne(de)}};if(f)return d.jsx("div",{className:"h-full w-full flex items-center justify-center",children:d.jsx(OS,{isProcessing:h,onLoadingComplete:m,isPiP:!0})});const Ae=L>=e.length,ue=e[L];if(Ae){const W=ae();return d.jsx("div",{className:`relative w-full h-full flex flex-col transition-all duration-700 ease-out ${x?"cursor-default":"cursor-grab active:cursor-grabbing"} ${k?"opacity-100 scale-100":"opacity-0 scale-95"}`,onMouseDown:j,onMouseUp:D,onTouchStart:F,onTouchEnd:U,children:d.jsx("div",{className:`w-full flex-1 transition-all duration-300 ease-out ${x?S==="left"?"transform -translate-x-2 scale-95 opacity-80":"transform translate-x-2 scale-95 opacity-80":"transform translate-x-0 scale-100 opacity-100"}`,style:{transformStyle:"preserve-3d",perspective:"1000px"},children:d.jsx("div",{className:`w-full h-full transition-transform duration-300 ease-out ${x?S==="left"?"transform rotateY(-5deg) translateZ(-20px)":"transform rotateY(5deg) translateZ(-20px)":"transform rotateY(0deg) translateZ(0px)"}`,children:d.jsxs("div",{className:"w-full h-full bg-[hsl(48_20%_97%)] rounded-2xl shadow-xl border-2 border-transparent p-6 flex flex-col justify-center items-center text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-[hsl(220_10%_20%)] mb-6",children:"Session Complete!"}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-green-100 rounded-lg",children:[d.jsx("span",{className:"text-[hsl(220_10%_30%)] font-medium",children:"Completed Tasks:"}),d.jsx("span",{className:"text-green-600 font-bold text-lg",children:W.completedCount})]}),d.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-blue-100 rounded-lg",children:[d.jsx("span",{className:"text-[hsl(220_10%_30%)] font-medium",children:"Progressed Tasks:"}),d.jsx("span",{className:"text-blue-600 font-bold text-lg",children:W.progressedCount})]}),d.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-purple-100 rounded-lg",children:[d.jsx("span",{className:"text-[hsl(220_10%_30%)] font-medium",children:"Focus Time:"}),d.jsx("span",{className:"text-purple-600 font-bold text-lg",children:W.totalFocusTime})]})]}),d.jsx("button",{onClick:()=>{y&&!y.closed&&y.close(),t()},className:"bg-[hsl(220_10%_20%)] hover:bg-[hsl(220_10%_30%)] text-white px-8 py-3 rounded-lg font-medium transition-colors duration-200",children:"Finish Session"})]})})})})}return ue?d.jsx("div",{className:`relative w-full h-full flex flex-col transition-all duration-700 ease-out ${x?"cursor-default":"cursor-grab active:cursor-grabbing"} ${k?"opacity-100 scale-100":"opacity-0 scale-95"}`,onMouseDown:j,onMouseUp:D,onTouchStart:F,onTouchEnd:U,children:d.jsx("div",{className:`w-full flex-1 transition-all duration-300 ease-out ${x?S==="left"?"transform -translate-x-2 scale-95 opacity-80":"transform translate-x-2 scale-95 opacity-80":"transform translate-x-0 scale-100 opacity-100"}`,style:{transformStyle:"preserve-3d",perspective:"1000px"},children:d.jsx("div",{className:`w-full h-full transition-transform duration-300 ease-out ${x?S==="left"?"transform rotateY(-5deg) translateZ(-20px)":"transform rotateY(5deg) translateZ(-20px)":"transform rotateY(0deg) translateZ(0px)"}`,children:d.jsx(AS,{task:ue,index:L,totalTasks:e.length,isCompleted:w.completedTasks.has(ue.id),isPaused:w.pausedTasks.has(ue.id),pausedTime:w.pausedTasks.get(ue.id)||0,isActiveCommitted:L===w.activeCommittedIndex,hasCommittedToTask:w.hasCommittedToTask,isCurrentTask:L===w.currentViewingIndex,activeCommittedIndex:w.activeCommittedIndex,flowProgress:w.flowProgress,sunsetImageUrl:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return(W==null?void 0:W.sunsetImageUrl)||""}return(u==null?void 0:u.card.imageUrl)||""})(),attribution:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return(W==null?void 0:W.attribution)||""}return""})(),attributionUrl:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return(W==null?void 0:W.attributionUrl)||""}return""})(),description:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return(W==null?void 0:W.description)||""}return""})(),caption:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return(W==null?void 0:W.caption)||""}return""})(),cardNumber:(()=>{if(w.completedTasks.has(ue.id)){const W=w.todaysCompletedTasks.find(Z=>Z.id===ue.id);return W==null?void 0:W.cardNumber}return u==null?void 0:u.card.cardNumber})(),taskStartTimes:w.taskStartTimes,onCommit:Y,onComplete:re,onMadeProgress:se,onMoveOn:Se,onCarryOn:ee,onSkip:ce,onBackToActive:le,onNotesChange:l,navigationUnlocked:w.navigationUnlocked,formatTime:ne,progressManager:v,hideTaskActions:!1,pipWindow:y})})})}):d.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-card text-card-foreground",children:[d.jsxs("p",{children:["No task available (Index: ",L,", Total: ",e.length,")"]}),d.jsx("br",{}),d.jsxs("p",{children:["Available tasks: ",e.map(W=>W.title).join(", ")]})]})},LS=p.createContext(void 0),c0={width:368,height:514},jD=({children:e})=>{const[t,r]=p.useState(!1),[n,s]=p.useState(()=>"documentPictureInPicture"in window),[i,o]=p.useState(null),a=p.useRef(null),l=p.useRef(null),c=p.useCallback(g=>{l.current=g},[]),u=p.useCallback(g=>{Array.from(document.styleSheets).forEach(v=>{try{if(v.href){const x=g.document.createElement("link");x.rel="stylesheet",x.href=v.href,g.document.head.appendChild(x)}else if(v.cssRules){const x=g.document.createElement("style"),b=Array.from(v.cssRules).map(S=>S.cssText).join(`
`);x.textContent=b,g.document.head.appendChild(x)}}catch(x){console.warn("Failed to copy stylesheet:",x);try{if(v.ownerNode&&v.ownerNode.textContent){const b=g.document.createElement("style");b.textContent=v.ownerNode.textContent,g.document.head.appendChild(b)}}catch(b){console.warn("Fallback stylesheet copy also failed:",b)}}}),g.document.body.style.margin="0",g.document.body.style.padding="0",g.document.body.style.overflow="hidden",g.document.body.style.backgroundColor="hsl(202 10% 16%)",g.document.body.style.borderRadius="16px",g.document.body.style.boxShadow="0 25px 50px -12px rgba(0, 0, 0, 0.25)",g.document.body.style.height="100vh",g.document.body.style.width="100vw",g.document.documentElement.className="dark",g.document.body.className=document.body.className},[]),f=p.useCallback(async()=>{if(!n||!window.documentPictureInPicture){console.error("Document Picture-in-Picture API not supported");return}try{const g=await window.documentPictureInPicture.requestWindow({width:c0.width,height:c0.height});u(g),o(g),r(!0),g.addEventListener("unload",()=>{var w;r(!1),o(null),a.current=null,(w=l.current)==null||w.call(l)}),g.addEventListener("pagehide",()=>{var w;r(!1),o(null),a.current=null,(w=l.current)==null||w.call(l)}),console.log("Picture-in-Picture window opened successfully")}catch(g){console.error("Failed to open Picture-in-Picture window:",g),g.name==="InvalidStateError"?alert("Picture-in-Picture is already active. Please close the existing PiP window first."):g.name==="NotAllowedError"?alert("Picture-in-Picture was blocked. Please allow PiP access in your browser settings."):alert("Failed to open Picture-in-Picture window. Please try again.")}},[n,u]),h=p.useCallback(()=>{var g;i&&!i.closed&&i.close(),r(!1),(g=l.current)==null||g.call(l),o(null),a.current=null},[i]),m=p.useCallback(g=>{const w="documentPictureInPicture"in window;s(g&&w)},[]),y={isPiPActive:t,isPiPAvailable:n,pipWindow:i,enterPiP:f,exitPiP:h,setPiPAvailable:m,setOnPiPClose:c};return d.jsx(LS.Provider,{value:y,children:e})},Fu=()=>{const e=p.useContext(LS);if(e===void 0)throw new Error("usePiP must be used within a PiPProvider");return e},ND=({tasks:e,onComplete:t,onTaskComplete:r,onMadeProgress:n,onPauseTask:s,onCommitToCurrentTask:i,onCarryOn:o,onSkip:a,onNotesChange:l,onRefreshTasks:c,nextRewardCard:u,isLoading:f,isProcessing:h,onLoadingComplete:m,gameState:y,progressManager:g})=>{const{isPiPActive:w,pipWindow:v}=Fu(),x=p.useRef(null),b=p.useRef(null),S=p.useRef(null);return p.useEffect(()=>{if(w&&v&&!v.closed&&S.current!==v){const _=v.document.createElement("div");return _.id="pip-react-root",_.style.width="100%",_.style.height="100%",_.style.margin="0",_.style.padding="0",_.style.overflow="hidden",_.style.display="flex",_.style.flexDirection="column",v.document.body.innerHTML="",v.document.body.appendChild(_),x.current=Op(_),b.current=new Ab({defaultOptions:{queries:{staleTime:1e3*60*5,cacheTime:1e3*60*10}}}),S.current=v,console.log("Set up PiP window"),c==null||c(),()=>{if(x.current)try{x.current.unmount(),x.current=null}catch(k){console.warn("Error unmounting React root in PiP window:",k)}b.current=null,S.current=null}}},[w,v]),p.useEffect(()=>{w&&v&&!v.closed&&x.current&&b.current&&x.current.render(d.jsx(Ib,{client:b.current,children:d.jsx(kb,{children:d.jsx(PD,{tasks:e,onComplete:t,onTaskComplete:r,onMadeProgress:n,onPauseTask:s,onCommitToCurrentTask:i,onCarryOn:o,onSkip:a,onNotesChange:l,onRefreshTasks:c,nextRewardCard:u,isLoading:f,isProcessing:h,onLoadingComplete:m,pipWindow:v,gameState:y,progressManager:g})})}))},[w,v,e,y,f,h]),null},RD=({tasks:e,isLoading:t,isProcessing:r})=>{const{isPiPActive:n,isPiPAvailable:s,enterPiP:i,setPiPAvailable:o}=Fu();return p.useEffect(()=>{e.length>0&&!t&&!r?o(!0):o(!1)},[e.length,t,r,o]),{isPiPActive:n,isPiPAvailable:s,enterPiP:i,renderPiPController:()=>null,renderPiPIndicator:()=>n?d.jsx("div",{className:"fixed top-4 left-4 z-50 bg-green-500/10 border border-green-500/20 backdrop-blur-sm px-3 py-2 rounded-md",children:d.jsx("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})}):null,renderPiPToggleButton:()=>s?d.jsx("div",{className:"fixed top-4 right-4 z-40",children:d.jsx(fe,{variant:"outline",size:"sm",onClick:i,className:"bg-background/80 backdrop-blur-sm border border-border hover:bg-muted/50 transition-all duration-200 shadow-lg p-2 h-8 w-8",title:"Open in Picture-in-Picture window",children:d.jsx(dh,{className:"h-4 w-4"})})}):null,renderPiPNotSupportedMessage:()=>s||"documentPictureInPicture"in window?null:d.jsx("div",{className:"fixed top-4 left-4 z-40",children:d.jsx("div",{className:"bg-background/80 backdrop-blur-sm border border-border px-3 py-2 rounded-md text-sm text-muted-foreground",children:"PiP requires Chrome 116+"})})}},AD=({tasks:e,onComplete:t,onTaskComplete:r,onMadeProgress:n,onPauseTask:s,onCommitToCurrentTask:i,onCarryOn:o,onSkip:a,onNotesChange:l,onRefreshTasks:c,nextRewardCard:u,isLoading:f,isProcessing:h,onLoadingComplete:m,gameState:y,pipManager:g,progressManager:w})=>d.jsxs(d.Fragment,{children:[d.jsx(ND,{tasks:e,onComplete:t,onTaskComplete:r,onMadeProgress:n,onPauseTask:s,onCommitToCurrentTask:i,onCarryOn:o,onSkip:a,onNotesChange:l,onRefreshTasks:c,nextRewardCard:u,isLoading:f,isProcessing:h,onLoadingComplete:m,gameState:y,progressManager:w}),!g.isPiPActive&&g.renderPiPToggleButton(),!g.isPiPActive&&g.renderPiPNotSupportedMessage()]}),ID=({tasks:e,gameState:t,isVisible:r,onClose:n})=>r?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in-0 duration-200",onMouseUp:n,onTouchEnd:n,children:d.jsx("div",{className:"shadow-xl rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",style:{backgroundColor:"#1a1a1a"},children:d.jsx("div",{className:"overflow-y-auto max-h-[80vh] p-4",children:d.jsx("div",{className:"space-y-2",children:e.map((s,i)=>{const o=t.completedTasks.has(s.id),a=t.pausedTasks.has(s.id),l=i===t.activeCommittedIndex;t.currentViewingIndex;const c=t.taskStartTimes[s.id],u=s.time_spent_minutes||(c&&!t.pausedTasks.has(s.id)?Math.round((Date.now()-c)/6e4):0);return d.jsx("div",{children:d.jsx("div",{className:`group py-4 px-6 transition-all duration-200 hover:bg-opacity-80 rounded-lg ${l?"opacity-100":"opacity-50"}`,style:{backgroundColor:l?"rgba(250, 204, 21, 0.1)":"transparent"},children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium flex-shrink-0",style:{backgroundColor:o?"#16a34a":l?"#facc15":a?"#fb923c":"#606060",color:l||o||a?"#000":"#fff"},children:i+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("h3",{className:"font-medium text-white leading-snug",children:s.title})}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[s.is_liked&&d.jsx(zs,{className:"h-4 w-4 fill-red-500 text-red-500"}),s.is_urgent&&d.jsx(Fs,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.is_quick&&d.jsx(Us,{className:"h-4 w-4 fill-green-500 text-green-500"})]}),s.estimated_time&&d.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"#404040",color:"#a0a0a0"},children:s.estimated_time})]})]}),u>0&&d.jsx("div",{className:"flex items-center gap-4 text-sm mb-1",style:{color:"#a0a0a0"},children:d.jsxs("div",{className:"text-blue-400 font-medium",children:[u,"min spent"]})})]})]})})},s.id)})})})})}):null,OD=({tasks:e,gameState:t})=>d.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:d.jsx("div",{className:"shadow-xl rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",style:{backgroundColor:"#1a1a1a"},children:d.jsx("div",{className:"overflow-y-auto max-h-[80vh] p-4",children:d.jsx("div",{className:"space-y-2",children:e.map((r,n)=>{const s=t.completedTasks.has(r.id),i=t.pausedTasks.has(r.id),o=n===t.activeCommittedIndex;t.currentViewingIndex;const a=t.taskStartTimes[r.id],l=r.time_spent_minutes||(a&&!t.pausedTasks.has(r.id)?Math.round((Date.now()-a)/6e4):0);return d.jsx("div",{children:d.jsx("div",{className:`group py-4 px-6 transition-all duration-200 rounded-lg ${o?"opacity-100":"opacity-50"}`,style:{backgroundColor:o?"rgba(250, 204, 21, 0.1)":"transparent"},children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium flex-shrink-0",style:{backgroundColor:s?"#16a34a":o?"#facc15":i?"#fb923c":"#606060",color:o||s||i?"#000":"#fff"},children:n+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("h3",{className:"font-medium text-white leading-snug",children:r.title})}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[r.is_liked&&d.jsx(zs,{className:"h-4 w-4 fill-red-500 text-red-500"}),r.is_urgent&&d.jsx(Fs,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),r.is_quick&&d.jsx(Us,{className:"h-4 w-4 fill-green-500 text-green-500"})]}),r.estimated_time&&d.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"#404040",color:"#a0a0a0"},children:r.estimated_time})]})]}),l>0&&d.jsx("div",{className:"flex items-center gap-4 text-sm mb-1",style:{color:"#a0a0a0"},children:d.jsxs("div",{className:"text-blue-400 font-medium",children:[l,"min spent"]})})]})]})})},r.id)})})})})}),MD=({tasks:e,onComplete:t,onTaskComplete:r,isLoading:n=!1,isProcessing:s=!1,onLoadingComplete:i})=>{const[o,a]=p.useState(e),l=kD(),[c,u]=p.useState(!1);p.useEffect(()=>{a(e)},[e]),xs();const[f,h]=p.useState({}),m=p.useCallback(async()=>{if(o.length!==0)try{const I=o.map($=>$.id),{data:L,error:N}=await X.from("tasks").select("id, notes").in("id",I);if(N){console.error("Error refreshing tasks:",N);return}L&&a($=>$.map(O=>{const z=L.find(j=>j.id===O.id);return z?{...O,notes:z.notes||""}:O}))}catch(I){console.error("Failed to refresh tasks:",I)}},[o]),y=p.useCallback((I,L)=>{a(N=>N.map($=>$.id===I?{...$,notes:L}:$)),h(N=>{N[I]&&clearTimeout(N[I]);const $=setTimeout(async()=>{try{const{error:O}=await X.from("tasks").update({notes:L}).eq("id",I);O&&console.error("Error saving task notes:",O)}catch(O){console.error("Failed to save task notes:",O)}h(O=>{const z={...O};return delete z[I],z})},1e3);return{...N,[I]:$}})},[]);p.useEffect(()=>()=>{Object.values(f).forEach(I=>{I&&clearTimeout(I)})},[f]);const[g,w]=p.useState([]),[v,x]=p.useState(null);p.useEffect(()=>{(async()=>{const L=await DS();w(L)})()},[]);const b=async()=>{const{data:{user:I}}=await X.auth.getUser();if(I){const L=await MS(I.id);x(L),console.log(" Next reward card loaded:",L)}};p.useEffect(()=>{b()},[]);const S=g.map(I=>I.imageUrl),{setOnPiPClose:_}=Fu(),k=RD({tasks:o,isLoading:n,isProcessing:s});p.useEffect(()=>(_(m),()=>_(null)),[_,m]);const C=p.useCallback(()=>{if(l.hasCommittedToTask&&k.isPiPActive)return;const I=o[l.currentViewingIndex];if(!I)return;const L=l.pausedTasks.get(I.id)||0,N=L>0;if(l.setHasCommittedToTask(!0),l.setActiveCommittedIndex(l.currentViewingIndex),l.setFlowStartTime(Date.now()),l.setFlowProgress(0),N){const $=Date.now()-L*6e4;l.setTaskStartTimes(O=>({...O,[I.id]:$})),l.setPausedTasks(O=>{const z=new Map(O);return z.delete(I.id),z})}else l.setTaskStartTimes($=>({...$,[I.id]:$[I.id]||Date.now()})),l.taskStartTimes[I.id]||(async()=>{try{await X.from("tasks").update({started_at:new Date().toISOString(),task_status:"incomplete"}).eq("id",I.id)}catch(O){console.error("Error saving task start time:",O)}})()},[l.hasCommittedToTask,k.isPiPActive,o,l.currentViewingIndex,l.pausedTasks,l.setHasCommittedToTask,l.setActiveCommittedIndex,l.setFlowStartTime,l.setFlowProgress,l.setTaskStartTimes,l.setPausedTasks]),T=async I=>{await E.handleTaskComplete(I),await b()},P=async I=>{await E.handleMadeProgress(I),await b()},E=CD({tasks:o,timerRef:l.timerRef,taskStartTimes:l.taskStartTimes,pausedTasks:l.pausedTasks,lastCompletedTask:l.lastCompletedTask,currentViewingIndex:l.currentViewingIndex,activeCommittedIndex:l.activeCommittedIndex,sunsetImages:S,nextRewardCard:v,setFlowProgress:l.setFlowProgress,setHasCommittedToTask:l.setHasCommittedToTask,setIsInitialLoad:l.setIsInitialLoad,setCompletedTasks:l.setCompletedTasks,setLastCompletedTask:l.setLastCompletedTask,setTodaysCompletedTasks:l.setTodaysCompletedTasks,setPausedTasks:l.setPausedTasks,setTaskStartTimes:l.setTaskStartTimes,setActiveCommittedIndex:l.setActiveCommittedIndex,setFlowStartTime:l.setFlowStartTime,onTaskComplete:r}),A=ED({tasks:o,currentViewingIndex:l.currentViewingIndex,activeCommittedIndex:l.activeCommittedIndex,hasCommittedToTask:l.hasCommittedToTask,completedTasks:l.completedTasks,swiperRef:l.swiperRef,setCurrentViewingIndex:l.setCurrentViewingIndex,setShowTaskList:l.setShowTaskList,onCommitToCurrentTask:C,onTaskComplete:T});return p.useEffect(()=>()=>{l.timerRef.current&&clearInterval(l.timerRef.current)},[l.flowStartTime,l.hasCommittedToTask,l.activeCommittedIndex,o,l.timerRef,l.setFlowProgress,l.setIsInitialLoad]),p.useEffect(()=>{o.length>0&&l.isInitialLoad&&!l.hasCommittedToTask&&(E.resetGameSession(),C())},[o,l.isInitialLoad,l.hasCommittedToTask,C,E]),n?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx("div",{className:"w-full px-4",children:d.jsx(OS,{isProcessing:s,onLoadingComplete:i})})}):d.jsxs(d.Fragment,{children:[d.jsx(AD,{tasks:o,onComplete:async I=>{const L=o.filter(N=>!I.has(N.id)).map(N=>N.id);L.length>0&&await E.saveTimeForIncompleteTasks(L),E.resetGameSession(),t(I)},onTaskComplete:T,onMadeProgress:P,onPauseTask:E.handlePauseTask,onCommitToCurrentTask:C,onCarryOn:E.handleCarryOn,onSkip:E.handleSkip,onNotesChange:y,onRefreshTasks:m,nextRewardCard:v,isLoading:n,isProcessing:s,onLoadingComplete:i,gameState:l,pipManager:k,progressManager:E}),d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:k.isPiPActive?d.jsx(OD,{tasks:o,gameState:l}):d.jsx("div",{className:"w-full px-4",children:d.jsx("div",{className:"w-full animate-in fade-in-0 duration-500 ease-out",children:d.jsxs("div",{className:"relative",children:[d.jsx(IS,{ref:l.swiperRef,tasks:o,gameState:l,rewardCards:g,nextRewardCard:v,onSlideChange:I=>l.setCurrentViewingIndex(I),onCommit:C,onComplete:T,onMadeProgress:P,onMoveOn:E.handlePauseTask,onCarryOn:E.handleCarryOn,onSkip:E.handleSkip,onBackToActive:A.handleBackToActiveCard,onAddToCollection:E.handleAddToCollectionDB,onNotesChange:y,formatTime:AO,progressManager:E}),d.jsx(_D,{tasks:o,currentViewingIndex:l.currentViewingIndex,activeCommittedIndex:l.activeCommittedIndex,hasCommittedToTask:l.hasCommittedToTask,completedTasks:l.completedTasks,pausedTasks:l.pausedTasks})]})})})}),!k.isPiPActive&&d.jsxs("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-30 flex items-center gap-4",children:[d.jsx(fe,{variant:"ghost",size:"lg",onMouseDown:()=>u(!0),onMouseUp:()=>u(!1),onTouchStart:()=>u(!0),onTouchEnd:()=>u(!1),className:"bg-transparent hover:bg-blue-500 hover:text-white text-gray-400 border border-gray-600 transition-all duration-300 px-4",children:d.jsx(VC,{className:"h-5 w-5"})}),d.jsx(fe,{onClick:async()=>{const I=o.filter(L=>!l.completedTasks.has(L.id)).map(L=>L.id);I.length>0&&await E.saveTimeForIncompleteTasks(I),E.resetGameSession(),t(l.completedTasks)},size:"lg",className:"bg-transparent hover:bg-yellow-500 hover:text-white text-gray-400 border border-gray-600 transition-all duration-300 px-8",children:"Finish Session"})]}),d.jsx(ID,{tasks:o,gameState:l,isVisible:c,onClose:()=>u(!1)})]})};var Jd="focusScope.autoFocusOnMount",Zd="focusScope.autoFocusOnUnmount",u0={bubbles:!1,cancelable:!0},DD="FocusScope",$S=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=p.useState(null),c=rt(s),u=rt(i),f=p.useRef(null),h=We(t,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(m.paused||!a)return;const S=b.target;a.contains(S)?f.current=S:$n(f.current,{select:!0})},w=function(b){if(m.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||$n(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&$n(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){f0.add(m);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Jd,u0);a.addEventListener(Jd,c),a.dispatchEvent(v),v.defaultPrevented||(LD(BD(zS(a)),{select:!0}),document.activeElement===g&&$n(a))}return()=>{a.removeEventListener(Jd,c),setTimeout(()=>{const v=new CustomEvent(Zd,u0);a.addEventListener(Zd,u),a.dispatchEvent(v),v.defaultPrevented||$n(g??document.body,{select:!0}),a.removeEventListener(Zd,u),f0.remove(m)},0)}}},[a,c,u,m]);const y=p.useCallback(g=>{if(!r&&!n||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const x=g.currentTarget,[b,S]=$D(x);b&&S?!g.shiftKey&&v===S?(g.preventDefault(),r&&$n(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),r&&$n(S,{select:!0})):v===x&&g.preventDefault()}},[r,n,m.paused]);return d.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});$S.displayName=DD;function LD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($n(n,{select:t}),document.activeElement!==r)return}function $D(e){const t=zS(e),r=d0(t,e),n=d0(t.reverse(),e);return[r,n]}function zS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function d0(e,t){for(const r of e)if(!zD(r,{upTo:t}))return r}function zD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FD(e){return e instanceof HTMLInputElement&&"select"in e}function $n(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FD(e)&&t&&e.select()}}var f0=UD();function UD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=h0(e,t),e.unshift(t)},remove(t){var r;e=h0(e,t),(r=e[0])==null||r.resume()}}}function h0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function BD(e){return e.filter(t=>t.tagName!=="A")}var ef=0;function VD(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??p0()),document.body.insertAdjacentElement("beforeend",e[1]??p0()),ef++,()=>{ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ef--}},[])}function p0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zr=function(){return Zr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zr.apply(this,arguments)};function FS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function WD(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var sc="right-scroll-bar-position",ic="width-before-scroll-bar",HD="with-scroll-bars-hidden",qD="--removed-body-scroll-bar-size";function tf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GD(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var KD=typeof window<"u"?p.useLayoutEffect:p.useEffect,m0=new WeakMap;function YD(e,t){var r=GD(null,function(n){return e.forEach(function(s){return tf(s,n)})});return KD(function(){var n=m0.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||tf(a,null)}),i.forEach(function(a){s.has(a)||tf(a,o)})}m0.set(r,e)},[e]),r}function XD(e){return e}function QD(e,t){t===void 0&&(t=XD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return s}function JD(e){e===void 0&&(e={});var t=QD(null);return t.options=Zr({async:!0,ssr:!1},e),t}var US=function(e){var t=e.sideCar,r=FS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Zr({},r))};US.isSideCarExport=!0;function ZD(e,t){return e.useMedium(t),US}var BS=JD(),rf=function(){},Uu=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:rf,onWheelCapture:rf,onTouchMoveCapture:rf}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,g=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,b=FS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=YD([r,t]),k=Zr(Zr({},b),s);return p.createElement(p.Fragment,null,u&&p.createElement(S,{sideCar:BS,removeScrollBar:c,shards:f,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?p.cloneElement(p.Children.only(a),Zr(Zr({},k),{ref:_})):p.createElement(v,Zr({},k,{className:l,ref:_}),a))});Uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uu.classNames={fullWidth:ic,zeroRight:sc};var eL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eL();return t&&e.setAttribute("nonce",t),e}function rL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tL())&&(rL(t,r),nL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iL=function(){var e=sL();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},VS=function(){var e=iL(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},oL={left:0,top:0,right:0,gap:0},nf=function(e){return parseInt(e||"",10)||0},aL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nf(r),nf(n),nf(s)]},lL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oL;var t=aL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cL=VS(),Hi="data-scroll-locked",uL=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(HD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ic,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(sc," .").concat(sc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(qD,": ").concat(a,`px;
  }
`)},g0=function(){var e=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(e)?e:0},dL=function(){p.useEffect(function(){return document.body.setAttribute(Hi,(g0()+1).toString()),function(){var e=g0()-1;e<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,e.toString())}},[])},fL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;dL();var i=p.useMemo(function(){return lL(s)},[s]);return p.createElement(cL,{styles:uL(i,!t,s,r?"":"!important")})},Dh=!1;if(typeof window<"u")try{var Ml=Object.defineProperty({},"passive",{get:function(){return Dh=!0,!0}});window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Dh=!1}var wi=Dh?{passive:!1}:!1,hL=function(e){return e.tagName==="TEXTAREA"},WS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hL(e)&&r[t]==="visible")},pL=function(e){return WS(e,"overflowY")},mL=function(e){return WS(e,"overflowX")},v0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=HS(e,n);if(s){var i=qS(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},HS=function(e,t){return e==="v"?pL(t):mL(t)},qS=function(e,t){return e==="v"?gL(t):vL(t)},yL=function(e,t){return e==="h"&&t==="rtl"?-1:1},wL=function(e,t,r,n,s){var i=yL(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,u=o>0,f=0,h=0;do{var m=qS(e,a),y=m[0],g=m[1],w=m[2],v=g-w-i*y;(y||v)&&HS(e,a)&&(f+=v,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},Dl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},y0=function(e){return[e.deltaX,e.deltaY]},w0=function(e){return e&&"current"in e?e.current:e},xL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SL=0,xi=[];function _L(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(SL++)[0],i=p.useState(VS)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=WD([e.lockRef.current],(e.shards||[]).map(w0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Dl(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-v[0],S="deltaY"in g?g.deltaY:x[1]-v[1],_,k=g.target,C=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var T=v0(C,k);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=v0(C,k)),!T)return!1;if(!n.current&&"changedTouches"in g&&(b||S)&&(n.current=_),!_)return!0;var P=n.current||_;return wL(P,w,g,P==="h"?b:S,!0)},[]),l=p.useCallback(function(g){var w=g;if(!(!xi.length||xi[xi.length-1]!==i)){var v="deltaY"in w?y0(w):Dl(w),x=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&xL(_.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(w0).filter(Boolean).filter(function(_){return _.contains(w.target)}),S=b.length>0?a(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(g,w,v,x){var b={name:g,delta:w,target:v,should:x,shadowParent:kL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),u=p.useCallback(function(g){r.current=Dl(g),n.current=void 0},[]),f=p.useCallback(function(g){c(g.type,y0(g),g.target,a(g,e.lockRef.current))},[]),h=p.useCallback(function(g){c(g.type,Dl(g),g.target,a(g,e.lockRef.current))},[]);p.useEffect(function(){return xi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,wi),document.addEventListener("touchmove",l,wi),document.addEventListener("touchstart",u,wi),function(){xi=xi.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,wi),document.removeEventListener("touchmove",l,wi),document.removeEventListener("touchstart",u,wi)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:bL(s)}):null,m?p.createElement(fL,{gapMode:e.gapMode}):null)}function kL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const EL=ZD(BS,_L);var GS=p.forwardRef(function(e,t){return p.createElement(Uu,Zr({},e,{ref:t,sideCar:EL}))});GS.classNames=Uu.classNames;var TL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bi=new WeakMap,Ll=new WeakMap,$l={},sf=0,KS=function(e){return e&&(e.host||KS(e.parentNode))},CL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=KS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PL=function(e,t,r,n){var s=CL(t,Array.isArray(e)?e:[e]);$l[r]||($l[r]=new WeakMap);var i=$l[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(bi.get(h)||0)+1,w=(i.get(h)||0)+1;bi.set(h,g),i.set(h,w),o.push(h),g===1&&y&&Ll.set(h,!0),w===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),a.clear(),sf++,function(){o.forEach(function(f){var h=bi.get(f)-1,m=i.get(f)-1;bi.set(f,h),i.set(f,m),h||(Ll.has(f)||f.removeAttribute(n),Ll.delete(f)),m||f.removeAttribute(r)}),sf--,sf||(bi=new WeakMap,bi=new WeakMap,Ll=new WeakMap,$l={})}},jL=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=TL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),PL(n,s,r,"aria-hidden")):function(){return null}},mm="Dialog",[YS,Az]=bs(mm),[NL,Vr]=YS(mm),XS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=yo({prop:n,defaultProp:s,onChange:i});return d.jsx(NL,{scope:t,triggerRef:a,contentRef:l,contentId:na(),titleId:na(),descriptionId:na(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};XS.displayName=mm;var QS="DialogTrigger",RL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vr(QS,r),i=We(t,s.triggerRef);return d.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ym(s.open),...n,ref:i,onClick:ge(e.onClick,s.onOpenToggle)})});RL.displayName=QS;var gm="DialogPortal",[AL,JS]=YS(gm,{forceMount:void 0}),ZS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Vr(gm,t);return d.jsx(AL,{scope:t,forceMount:r,children:p.Children.map(n,o=>d.jsx(_r,{present:r||i.open,children:d.jsx(Mp,{asChild:!0,container:s,children:o})}))})};ZS.displayName=gm;var qc="DialogOverlay",e_=p.forwardRef((e,t)=>{const r=JS(qc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Vr(qc,e.__scopeDialog);return i.modal?d.jsx(_r,{present:n||i.open,children:d.jsx(IL,{...s,ref:t})}):null});e_.displayName=qc;var IL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vr(qc,r);return d.jsx(GS,{as:co,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(xe.div,{"data-state":ym(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ti="DialogContent",t_=p.forwardRef((e,t)=>{const r=JS(ti,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Vr(ti,e.__scopeDialog);return d.jsx(_r,{present:n||i.open,children:i.modal?d.jsx(OL,{...s,ref:t}):d.jsx(ML,{...s,ref:t})})});t_.displayName=ti;var OL=p.forwardRef((e,t)=>{const r=Vr(ti,e.__scopeDialog),n=p.useRef(null),s=We(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return jL(i)},[]),d.jsx(r_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault())})}),ML=p.forwardRef((e,t)=>{const r=Vr(ti,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return d.jsx(r_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),r_=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Vr(ti,r),l=p.useRef(null),c=We(t,l);return VD(),d.jsxs(d.Fragment,{children:[d.jsx($S,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(vu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ym(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(DL,{titleId:a.titleId}),d.jsx($L,{contentRef:l,descriptionId:a.descriptionId})]})]})}),vm="DialogTitle",n_=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vr(vm,r);return d.jsx(xe.h2,{id:s.titleId,...n,ref:t})});n_.displayName=vm;var s_="DialogDescription",i_=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vr(s_,r);return d.jsx(xe.p,{id:s.descriptionId,...n,ref:t})});i_.displayName=s_;var o_="DialogClose",a_=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vr(o_,r);return d.jsx(xe.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});a_.displayName=o_;function ym(e){return e?"open":"closed"}var l_="DialogTitleWarning",[Iz,c_]=JT(l_,{contentName:ti,titleName:vm,docsSlug:"dialog"}),DL=({titleId:e})=>{const t=c_(l_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LL="DialogDescriptionWarning",$L=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c_(LL).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},zL=XS,FL=ZS,u_=e_,d_=t_,f_=n_,h_=i_,UL=a_;const BL=zL,VL=FL,p_=p.forwardRef(({className:e,...t},r)=>d.jsx(u_,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p_.displayName=u_.displayName;const m_=p.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(VL,{children:[d.jsx(p_,{}),d.jsxs(d_,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(UL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Fx,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m_.displayName=d_.displayName;const g_=({className:e,...t})=>d.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});g_.displayName="DialogHeader";const v_=({className:e,...t})=>d.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});v_.displayName="DialogFooter";const y_=p.forwardRef(({className:e,...t},r)=>d.jsx(f_,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));y_.displayName=f_.displayName;const WL=p.forwardRef(({className:e,...t},r)=>d.jsx(h_,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));WL.displayName=h_.displayName;function HL(e,[t,r]){return Math.min(r,Math.max(t,e))}function qL(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var wm="ScrollArea",[w_,Oz]=bs(wm),[GL,kr]=w_(wm),x_=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=p.useState(null),[c,u]=p.useState(null),[f,h]=p.useState(null),[m,y]=p.useState(null),[g,w]=p.useState(null),[v,x]=p.useState(0),[b,S]=p.useState(0),[_,k]=p.useState(!1),[C,T]=p.useState(!1),P=We(t,A=>l(A)),E=Lu(s);return d.jsx(GL,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:S,children:d.jsx(xe.div,{dir:E,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});x_.displayName=wm;var b_="ScrollAreaViewport",S_=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:i,...o}=e,a=kr(b_,r),l=p.useRef(null),c=We(t,l,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),d.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n$({asChild:s,children:n},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});S_.displayName=b_;var on="ScrollAreaScrollbar",xm=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=kr(on,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return p.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(KL,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(YL,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(__,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(bm,{...n,ref:t}):null});xm.displayName=on;var KL=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=kr(on,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(_r,{present:r||i,children:d.jsx(__,{"data-state":i?"visible":"hidden",...n,ref:t})})}),YL=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=kr(on,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Vu(()=>l("SCROLL_END"),100),[a,l]=qL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const m=c[u];f!==m&&(l("SCROLL"),o()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,i,l,o]),d.jsx(_r,{present:r||a!=="hidden",children:d.jsx(bm,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),__=p.forwardRef((e,t)=>{const r=kr(on,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=p.useState(!1),a=e.orientation==="horizontal",l=Vu(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:u)}},10);return po(r.viewport,l),po(r.content,l),d.jsx(_r,{present:n||i,children:d.jsx(bm,{"data-state":i?"visible":"hidden",...s,ref:t})})}),bm=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=kr(on,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=P_(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return t$(h,o.current,a,m)}return r==="horizontal"?d.jsx(XL,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=x0(h,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?d.jsx(QL,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=x0(h,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),XL=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=kr(on,e.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=We(t,l,i.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(E_,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),N_(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Kc(o.paddingLeft),paddingEnd:Kc(o.paddingRight)}})}})}),QL=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=kr(on,e.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=We(t,l,i.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(E_,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),N_(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Kc(o.paddingTop),paddingEnd:Kc(o.paddingBottom)}})}})}),[JL,k_]=w_(on),E_=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=e,m=kr(on,r),[y,g]=p.useState(null),w=We(t,P=>g(P)),v=p.useRef(null),x=p.useRef(""),b=m.viewport,S=n.content-n.viewport,_=rt(u),k=rt(l),C=Vu(f,10);function T(P){if(v.current){const E=P.clientX-v.current.left,A=P.clientY-v.current.top;c({x:E,y:A})}}return p.useEffect(()=>{const P=E=>{const A=E.target;(y==null?void 0:y.contains(A))&&_(E,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,S,_]),p.useEffect(k,[n,k]),po(y,C),po(m.content,C),d.jsx(JL,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:rt(i),onThumbPointerUp:rt(o),onThumbPositionChange:k,onThumbPointerDown:rt(a),children:d.jsx(xe.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ge(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:ge(e.onPointerMove,T),onPointerUp:ge(e.onPointerUp,P=>{const E=P.target;E.hasPointerCapture(P.pointerId)&&E.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Gc="ScrollAreaThumb",T_=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=k_(Gc,e.__scopeScrollArea);return d.jsx(_r,{present:r||s.hasThumb,children:d.jsx(ZL,{ref:t,...n})})}),ZL=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=kr(Gc,r),o=k_(Gc,r),{onThumbPositionChange:a}=o,l=We(t,f=>o.onThumbChange(f)),c=p.useRef(),u=Vu(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!c.current){const m=r$(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,a]),d.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ge(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:ge(e.onPointerUp,o.onThumbPointerUp)})});T_.displayName=Gc;var Sm="ScrollAreaCorner",C_=p.forwardRef((e,t)=>{const r=kr(Sm,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(e$,{...e,ref:t}):null});C_.displayName=Sm;var e$=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=kr(Sm,r),[i,o]=p.useState(0),[a,l]=p.useState(0),c=!!(i&&a);return po(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),po(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(xe.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kc(e){return e?parseInt(e,10):0}function P_(e,t){const r=e/t;return isNaN(r)?0:r}function Bu(e){const t=P_(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function t$(e,t,r,n="ltr"){const s=Bu(r),i=s/2,o=t||i,a=s-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return j_([l,c],f)(e)}function x0(e,t,r="ltr"){const n=Bu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],c=HL(e,l);return j_([0,o],[0,a])(c)}function j_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function N_(e,t){return e>0&&e<t}var r$=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Vu(e,t){const r=rt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function po(e,t){const r=rt(t);En(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function n$(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var R_=x_,s$=S_,i$=C_;const A_=p.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(R_,{ref:n,className:Pe("relative overflow-hidden",e),...r,children:[d.jsx(s$,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(I_,{}),d.jsx(i$,{})]}));A_.displayName=R_.displayName;const I_=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(xm,{ref:n,orientation:t,className:Pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(T_,{className:"relative flex-1 rounded-full bg-border"})}));I_.displayName=xm.displayName;const b0=[{value:"morning",label:"Morning (6am12pm)"},{value:"afternoon",label:"Afternoon (12pm3pm)"},{value:"late_afternoon",label:"Late Afternoon (3pm5pm)"},{value:"evening",label:"Evening (5pm8pm)"},{value:"night",label:"Night (8pm11pm)"}],o$=[{value:"easier_first",label:"Start with easier tasks to build momentum"},{value:"hardest_first",label:"Tackle the hardest task first and get it over with"},{value:"not_sure",label:"I'm not sure..."}],a$=[{id:"creative_work",title:"Creative Work"},{id:"data_analysis",title:"Data Analysis"},{id:"team_meetings",title:"Team Meetings"},{id:"physical_tasks",title:"Physical Tasks"},{id:"admin_work",title:"Admin Work"},{id:"learning_new_skills",title:"Learning New Skills"},{id:"project_planning",title:"Project Planning"},{id:"technical_work",title:"Technical Work"}],l$=({open:e,onOpenChange:t})=>{const[r,n]=p.useState(null),[s,i]=p.useState(!1),[o,a]=p.useState(!1),{toast:l}=xs(),c=p.useCallback(async()=>{i(!0);try{const{data:{user:m}}=await X.auth.getUser();if(!m)return;const{data:y,error:g}=await X.from("profiles").select("display_name, peak_energy_time, lowest_energy_time, task_start_preference, task_preferences").eq("user_id",m.id).maybeSingle();if(g)throw g;y&&n({...y,task_preferences:y.task_preferences||{}})}catch(m){console.error("Error loading profile:",m),l({title:"Error",description:"Failed to load your profile.",variant:"destructive"})}finally{i(!1)}},[l]);p.useEffect(()=>{e&&c()},[e,c]);const u=async()=>{if(r){a(!0);try{const{data:{user:m}}=await X.auth.getUser();if(!m)throw new Error("No user found");const{error:y}=await X.from("profiles").update({display_name:r.display_name,peak_energy_time:r.peak_energy_time,lowest_energy_time:r.lowest_energy_time,task_start_preference:r.task_start_preference,task_preferences:r.task_preferences}).eq("user_id",m.id);if(y)throw y;l({title:"Settings saved",description:"Your preferences have been updated successfully."}),t(!1)}catch(m){console.error("Error saving profile:",m),l({title:"Error",description:"Failed to save your settings.",variant:"destructive"})}finally{a(!1)}}},f=async()=>{try{await X.auth.signOut(),t(!1),window.location.href="/auth"}catch(m){console.error("Error logging out:",m),l({title:"Error",description:"Failed to log out.",variant:"destructive"})}},h=(m,y)=>{r&&n({...r,task_preferences:{...r.task_preferences,[m]:y}})};return d.jsx(BL,{open:e,onOpenChange:t,children:d.jsxs(m_,{className:"max-w-2xl max-h-[90vh]",children:[d.jsx(g_,{children:d.jsx(y_,{children:"Settings"})}),d.jsx(A_,{className:"max-h-[60vh] pr-4",children:s?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{children:"Loading your settings..."})}):r?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"name",children:"Your Name"}),d.jsx(Mr,{id:"name",value:r.display_name,onChange:m=>n({...r,display_name:m.target.value})})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Peak Energy Time"}),d.jsx(wn,{value:r.peak_energy_time,onValueChange:m=>n({...r,peak_energy_time:m}),children:b0.map(m=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:m.value,id:`peak-${m.value}`}),d.jsx(pt,{htmlFor:`peak-${m.value}`,children:m.label})]},m.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Lowest Energy Time"}),d.jsx(wn,{value:r.lowest_energy_time,onValueChange:m=>n({...r,lowest_energy_time:m}),children:b0.map(m=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:m.value,id:`low-${m.value}`}),d.jsx(pt,{htmlFor:`low-${m.value}`,children:m.label})]},m.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Task Approach Preference"}),d.jsx(wn,{value:r.task_start_preference,onValueChange:m=>n({...r,task_start_preference:m}),children:o$.map(m=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xn,{value:m.value,id:`pref-${m.value}`}),d.jsx(pt,{htmlFor:`pref-${m.value}`,children:m.label})]},m.value))})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Task Type Preferences"}),d.jsx("div",{className:"space-y-3",children:a$.map(m=>d.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[d.jsx("span",{className:"font-medium",children:m.title}),d.jsx("div",{className:"flex gap-2",children:["disliked","neutral","liked"].map(y=>d.jsx(fe,{size:"sm",variant:r.task_preferences[m.id]===y?"default":"outline",onClick:()=>h(m.id,y),children:y},y))})]},m.id))})]})]}):d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{children:"No profile found. Please complete onboarding first."})})}),d.jsxs(v_,{className:"flex gap-2",children:[d.jsxs(fe,{onClick:f,variant:"outline",className:"flex items-center gap-2 mr-auto",children:[d.jsx(qC,{className:"h-4 w-4"}),"Logout"]}),d.jsx(fe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),d.jsx(fe,{onClick:u,disabled:o||!r,children:o?"Saving...":"Save Settings"})]})]})})},c$={"Creative Work":["design","create","write","draw","paint","music","art","creative","brainstorm","content","video","photo","visual","story","blog","sketch","craft","compose","artistic","imagination","conceptualize","ideate","logo","graphics","branding","mockup","prototype","wireframe","ui","ux","interface"],"Data Analysis":["research","analyze","data","study","investigate","examine","evaluate","assess","calculate","measure","statistics","logic","reasoning","problem-solving","solve","troubleshoot","debug","review","compare","test","verify","metrics","performance","optimization","analysis","database","query","sql","api","integration"],"Team Meetings":["meeting","call","collaborate","team","discuss","communicate","present","share","network","connect","interview","coordinate","negotiate","feedback","conversation","social","group","partnership","relationship","client","customer","stakeholder","presentation","demo","conference","workshop","session","sync","standup"],"Physical Tasks":["build","fix","repair","move","exercise","walk","run","hands-on","manual","physical","craft","assemble","install","maintenance","construction","gardening","cooking","cleaning","organizing","setup","workout","hardware","equipment"],"Admin Work":["admin","administrative","paperwork","form","document","file","organize","schedule","calendar","email","routine","recurring","maintenance","update","backup","report","invoice","billing","accounting","tax","compliance","process","procedure","workflow","approval","submission","filing","documentation","record","log","tracking"],"Learning New Skills":["learn","study","course","training","education","skill","tutorial","practice","development","improve","master","certification","workshop","seminar","reading","book","article","knowledge","understanding","explore","discover","research","documentation","guide","manual","best practices","framework","methodology"],"Project Planning":["plan","organize","strategy","strategize","schedule","coordinate","manage","project","roadmap","timeline","agenda","prepare","structure","framework","outline","design","architecture","blueprint","goals","objectives","milestones","prioritize","scope","requirements","specification","proposal","estimate","budget","resource","allocation"],"Technical Work":["technical","code","programming","development","software","system","architecture","cad","engineering","configuration","implementation","coding","algorithm","bug","framework","library","server","network","infrastructure","deployment","automation","scripting","modeling","3d","simulation","testing","quality assurance","devops"]};function O_(e){const t=e.toLowerCase(),r={"Creative Work":0,"Data Analysis":0,"Team Meetings":0,"Physical Tasks":0,"Admin Work":0,"Learning New Skills":0,"Project Planning":0,"Technical Work":0};Object.entries(c$).forEach(([i,o])=>{o.forEach(a=>{t.includes(a.toLowerCase())&&(r[i]+=1)})});let n="Admin Work",s=0;return Object.entries(r).forEach(([i,o])=>{o>s&&(s=o,n=i)}),n}async function u$(e){try{const{supabase:t}=await oi(async()=>{const{supabase:s}=await Promise.resolve().then(()=>g1);return{supabase:s}},void 0);console.log(` Attempting AI categorization for: "${e}"`);const{data:r,error:n}=await t.functions.invoke("categorize-task",{body:{tasks:[e]}});if(n)throw console.warn("AI categorization failed:",n),n;if(r!=null&&r.results&&r.results.length>0){const s=r.results[0];return console.log(` AI categorized "${e}" as ${s.category} (confidence: ${s.confidence})`),console.log(`   Reasoning: ${s.reasoning}`),s.category}throw new Error("No AI categorization results")}catch(t){console.warn(` AI categorization failed for "${e}", using keyword fallback:`,t);const r=O_(e);return console.log(` Keyword categorized "${e}" as ${r}`),r}}async function of(e){if(e.length===0)return{};try{const{supabase:t}=await oi(async()=>{const{supabase:s}=await Promise.resolve().then(()=>g1);return{supabase:s}},void 0);console.log(` Attempting AI batch categorization for ${e.length} tasks`);const{data:r,error:n}=await t.functions.invoke("categorize-task",{body:{tasks:e}});if(n)throw console.warn("AI batch categorization failed:",n),n;if(r!=null&&r.results&&r.results.length>0){const s={};return r.results.forEach(i=>{s[i.task]=i.category,console.log(` AI categorized "${i.task}" as ${i.category} (confidence: ${i.confidence})`)}),s}throw new Error("No AI categorization results")}catch(t){console.warn(" AI batch categorization failed, using keyword fallback:",t);const r={};return e.forEach(n=>{r[n]=O_(n),console.log(` Keyword categorized "${n}" as ${r[n]}`)}),r}}function S0({value:e,isLoading:t,placeholder:r="15m",onChange:n,className:s=""}){const[i,o]=p.useState(!1),[a,l]=p.useState(""),c=p.useRef(null);p.useEffect(()=>{e&&!i&&l(e)},[e,i]),p.useEffect(()=>{i&&c.current&&(c.current.focus(),c.current.select())},[i]);const u=()=>{t||(l(e||""),o(!0))},f=()=>{const w=a.trim();if(!w){l(e||""),o(!1);return}const v=rc(w);v?(n==null||n(v),l(v),o(!1)):(l("Invalid format"),setTimeout(()=>{l(e||""),o(!1)},1e3))},h=()=>{l(e||""),o(!1)},m=w=>{w.key==="Enter"?(w.preventDefault(),f()):w.key==="Escape"&&(w.preventDefault(),h())},y=w=>{l(w.target.value)},g=`px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground w-16 text-center ${s}`;return t?d.jsx("div",{className:g,children:d.jsx("div",{className:"w-3 h-3 border border-muted-foreground/30 border-t-muted-foreground rounded-full animate-spin mx-auto"})}):i?d.jsx("input",{ref:c,type:"text",value:a,onChange:y,onBlur:f,onKeyDown:m,className:`px-2 py-1 bg-muted/50 border-none rounded text-xs text-foreground w-16 text-center focus:outline-none focus:ring-0 ${s}`,placeholder:r}):d.jsx("button",{onClick:u,className:`${g} hover:bg-muted/70 transition-colors cursor-pointer border border-transparent hover:border-border/50`,title:"Click to edit time estimate",children:e||r})}function d$({tasks:e,timeEstimates:t,hoveredTaskIndex:r,className:n=""}){const[s,i]=p.useState({}),[o,a]=p.useState(!1);p.useEffect(()=>{if(e.length===0)return;(async()=>{const u=`simplified_tasks_${JSON.stringify([...e].sort())}`,f=localStorage.getItem(u);if(f)try{const h=JSON.parse(f);i(h);return}catch{}a(!0);try{const{data:h,error:m}=await X.functions.invoke("process-brain-dump",{body:{simplifyTasks:!0,tasks:e}});if(m){console.error("Error simplifying tasks:",m);return}h!=null&&h.simplifiedTasks&&(i(h.simplifiedTasks),localStorage.setItem(u,JSON.stringify(h.simplifiedTasks)))}catch(h){console.error("Failed to simplify tasks:",h)}finally{a(!1)}})()},[e]);const l=RO(e,t);return l.length===0?d.jsxs("div",{className:`${n}`,children:[d.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-4 text-center",children:"DAY TIMELINE"}),d.jsx("div",{className:"text-xs text-muted-foreground/60 text-center",children:"Add tasks to see timeline"})]}):d.jsx("div",{className:`bg-card/30 rounded-lg h-full flex flex-col ${n}`,children:d.jsx("div",{className:"flex-1 flex flex-col px-4 py-4 gap-3",children:l.map((c,u)=>{const f=l.reduce((y,g)=>y+g.durationMinutes,0),h=c.durationMinutes/f,m=u===l.length-1;return d.jsx(f$,{block:c,isHovered:r===u,index:u,simplifiedName:s[c.taskName],isLoadingSimplified:o,totalTasks:l.length,heightProportion:h,showEndTime:m},`${c.taskName}-${u}`)})})})}function f$({block:e,isHovered:t,simplifiedName:r,isLoadingSimplified:n,totalTasks:s,heightProportion:i,showEndTime:o}){return d.jsxs("div",{className:"flex items-start gap-3",style:{flex:`${i} 0 0`},children:[d.jsx("div",{className:`flex-1 rounded-lg px-4 py-4 bg-muted/20 transition-all duration-200 flex h-full ${t?"bg-primary/20 border border-primary/30":""}`,children:d.jsx("div",{className:"flex flex-col justify-center w-full h-full",children:d.jsx("div",{className:"text-sm text-foreground/65 leading-tight font-normal",children:n?d.jsx("div",{className:"animate-pulse bg-muted/40 rounded h-4 w-20"}):r||e.simplifiedName})})}),d.jsxs("div",{className:"w-12 flex-shrink-0 text-left flex flex-col justify-between h-full",children:[d.jsx("div",{className:"text-xs text-muted-foreground/60 font-mono",children:e.startTimeString}),o&&d.jsx("div",{className:"text-xs text-muted-foreground/60 font-mono",children:e.endTimeString})]})]})}const h$=({user:e,activeTaskIds:t,tasksById:r,taskTagsById:n,taskTimeEstimatesById:s,setActiveTaskIds:i,setLaterTaskIds:o,saveTaskAsLater:a})=>{const{toast:l}=xs(),c=()=>t.reduce((y,g)=>{const w=s[g],v=gr(w||"")||0;return y+v},0),u=async()=>{if(!e)return;const y=(P,E={})=>{const A=r[P],I=n[P]||{isLiked:!1,isUrgent:!1,isQuick:!1};let L=0,N=0;if(A!=null&&A.category&&E){const $=E[A.category];$==="Loved"?L=3:$==="Neutral"?L=0:$==="Disliked"&&(L=-2)}return I.isLiked&&(N+=3),I.isQuick&&(N+=2),I.isUrgent&&(N+=1),L+N},g=t.map(P=>({taskId:P,score:y(P),timeMinutes:gr(s[P]||"")||0,tags:n[P]||{isLiked:!1,isUrgent:!1,isQuick:!1}})),w=[],v=[...g],x=v.filter(P=>P.tags.isLiked).sort((P,E)=>E.score-P.score);if(x.length>0){w.push(x[0].taskId);const P=v.findIndex(E=>E.taskId===x[0].taskId);v.splice(P,1)}const b=v.filter(P=>P.tags.isQuick).sort((P,E)=>E.score-P.score);if(b.length>0){w.push(b[0].taskId);const P=v.findIndex(E=>E.taskId===b[0].taskId);v.splice(P,1)}const S=v.filter(P=>P.tags.isUrgent).sort((P,E)=>E.score-P.score);if(S.length>0){w.push(S[0].taskId);const P=v.findIndex(E=>E.taskId===S[0].taskId);v.splice(P,1)}const _=v.sort((P,E)=>E.score-P.score);let k=w.reduce((P,E)=>{const A=s[E];return P+(gr(A||"")||0)},0);const C=[...w];for(const P of _)k+P.timeMinutes<=180&&(C.push(P.taskId),k+=P.timeMinutes);const T=t.filter(P=>!C.includes(P));if(T.length>0){i(C),o(P=>[...P,...T]);for(const P of T)await a(P);l({title:"List shortened",description:`Moved ${T.length} tasks to later to keep under 3 hours`})}},f=c(),h=lS(f),m=f>180;return t.length===0?null:d.jsxs("div",{className:"flex items-center gap-4 py-4 mb-4",children:[d.jsx("div",{className:"flex-1 h-px bg-border"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-sm text-foreground/70 font-medium flex items-center gap-2",children:[d.jsx(BC,{className:"w-4 h-4"}),h]}),m&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-foreground/40",children:""}),d.jsx("button",{onClick:u,className:"text-sm text-yellow-500 hover:text-yellow-600 font-medium transition-colors",children:"Shorten List"})]})]}),d.jsx("div",{className:"flex-1 h-px bg-border"})]})},p$=({onClose:e,initialCollectionId:t,initialCardId:r})=>{const[n,s]=p.useState(null),[i,o]=p.useState([]),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[f,h]=p.useState(r);if(p.useEffect(()=>{(async()=>{try{const{data:{user:w}}=await X.auth.getUser();if(!w)return;const{data:v,error:x}=await X.from("card_collections").select("*").order("display_order");if(x){console.error("Error loading collections:",x);return}if(!v||v.length===0){console.log("No collections found in database");return}const{data:b,error:S}=await X.from("tasks").select(`
            id,
            title,
            completed_at,
            time_spent_minutes,
            notes,
            collection_cards!inner (
              id,
              card_number,
              image_url,
              caption,
              description,
              attribution,
              attribution_url,
              collection_id
            )
          `).eq("user_id",w.id).in("task_status",["complete","made_progress"]).not("collection_card_id","is",null).order("completed_at");if(S){console.error("Error loading earned cards:",S);return}const _={};let k=0;b==null||b.forEach(E=>{const A=E.collection_cards;if(A){const I={id:A.id,taskTitle:E.title,taskId:E.id,completedAt:new Date(E.completed_at),timeSpent:E.time_spent_minutes||0,cardNumber:A.card_number,imageUrl:A.image_url,caption:A.caption||"",description:A.description||"",attribution:A.attribution||"",attributionUrl:A.attribution_url||"",notes:E.notes||null};_[A.collection_id]||(_[A.collection_id]=[]),_[A.collection_id].push(I),k++}});const{data:C}=await X.from("collection_cards").select("collection_id, image_url").eq("card_number",1),T={};C==null||C.forEach(E=>{T[E.collection_id]=E.image_url});const P=v.map((E,A)=>{const I=_[E.id]||[];I.sort(($,O)=>$.cardNumber-O.cardNumber);const L=T[E.id]||null;let N=!1;if(E.display_order>1){const $=v.find(z=>z.display_order===E.display_order-1);N=($?_[$.id]||[]:[]).length<6}return{id:E.id,name:E.name,description:E.description,totalCards:E.total_cards,earnedCards:I,firstCardImage:L,color:A===0?"from-purple-500 to-pink-500":"from-blue-500 to-teal-500",isLocked:N}});o(P)}catch(w){console.error("Error loading collections:",w)}finally{l(!0)}})()},[]),p.useEffect(()=>{if(i.length>0&&!n&&!c){if(r){const g=i.find(w=>w.earnedCards.some(v=>v.id===r));g&&!g.isLocked&&(s(g),h(r))}else if(t){const g=i.find(w=>w.id===t);g&&!g.isLocked&&s(g)}}},[t,r,i,n,c]),!a)return null;const m=({collection:g})=>{const w=g.earnedCards.length,v=g.totalCards,x=w/v*100;return d.jsx("div",{className:`transition-all duration-300 ${g.isLocked?"cursor-not-allowed opacity-60":"cursor-pointer group hover:scale-105"}`,onClick:()=>{g.isLocked||(s(g),u(!0))},children:d.jsxs("div",{className:`w-72 h-96 rounded-2xl p-6 shadow-lg ${g.isLocked?"":"hover:shadow-2xl"} transition-all duration-300 relative overflow-hidden`,children:[g.firstCardImage&&d.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-sm scale-110",style:{backgroundImage:`url('${g.firstCardImage}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/70"}),!g.firstCardImage&&d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color}`}),g.isLocked&&d.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-2xl flex items-center justify-center z-10",children:d.jsx(Zg,{className:"h-12 w-12 text-white"})}),!g.isLocked&&d.jsxs("div",{className:"h-full flex flex-col justify-between text-white relative z-10",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-bold text-lg",style:{fontFamily:"Calendas Plus"},children:g.name}),g.description&&d.jsx("div",{className:"text-xs opacity-80 leading-relaxed",children:g.description})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-sm opacity-90",children:[w," of ",v," collected"]}),d.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:d.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-500",style:{width:`${x}%`}})})]})]})]})})},y=({collection:g,cardToFlip:w})=>{const[v,x]=p.useState(new Set),[b,S]=p.useState(!1),_=Array.from({length:g.totalCards},(T,P)=>{const E=P+1;return g.earnedCards.find(A=>A.cardNumber===E)||null});p.useEffect(()=>{if(w){const T=_.findIndex(P=>(P==null?void 0:P.id)===w);T!==-1&&x(new Set([T]))}},[w]);const k=T=>{const P=new Set(v);P.has(T)?P.delete(T):P.add(T),x(P)},C=()=>{if(b)x(new Set),S(!1);else{const T=_.map((P,E)=>P?E:-1).filter(P=>P>=0);x(new Set(T)),S(!0)}};return d.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex flex-col",children:[d.jsx("div",{className:"px-8 py-6 border-b border-white/10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>{s(null),u(!0)},className:"text-white hover:bg-white/10 -ml-2",children:[d.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx(fe,{variant:"outline",size:"sm",onClick:C,className:`text-white border-white/20 hover:bg-white/10 transition-transform duration-1000 ${b?"transform rotate-180":""}`,children:"Flip"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",style:{fontFamily:"Calendas Plus"},children:g.name}),g.description&&d.jsx("p",{className:"text-white/70 text-base max-w-2xl mx-auto",children:g.description})]}),d.jsx("div",{className:"w-full overflow-hidden",children:d.jsx("div",{className:"flex gap-8 overflow-x-auto pb-4 px-4 py-8 h-fit",style:{scrollSnapType:"x mandatory",scrollBehavior:"smooth"},children:_.map((T,P)=>d.jsx("div",{className:"flex-shrink-0 w-80 aspect-[3/4] relative",style:{scrollSnapAlign:"center"},children:T?d.jsxs("div",{className:"w-full h-full rounded-2xl shadow-lg border-2 border-white/20 cursor-pointer transform transition-transform duration-300 hover:scale-105",onClick:()=>k(P),style:{transformStyle:"preserve-3d"},children:[d.jsxs("div",{className:`absolute inset-0 rounded-2xl bg-cover bg-center transition-transform duration-1000 ${v.has(P)?"transform":""}`,style:{backgroundImage:`url(${T.imageUrl})`,backfaceVisibility:"hidden",transform:v.has(P)?"rotateY(180deg)":"rotateY(0deg)"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-2xl"}),d.jsx("div",{className:"absolute inset-0 paper-texture rounded-2xl"}),d.jsx("div",{className:"absolute inset-0 border-2 border-white rounded-2xl opacity-80"}),d.jsx("div",{className:"absolute top-2 right-4 text-gray-300 text-4xl font-bold z-30",style:{fontFamily:"Calendas Plus"},children:String(T.cardNumber).padStart(2,"0")}),d.jsx("div",{className:"relative h-full flex flex-col justify-end p-6 text-white z-10",children:d.jsxs("div",{className:"text-left flex flex-col gap-3",children:[T.attribution&&(T.attributionUrl?d.jsx("a",{href:T.attributionUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:text-gray-200 underline transition-colors",children:T.attribution}):d.jsx("div",{className:"text-sm text-white",children:T.attribution})),d.jsx("p",{className:"text-xs text-white leading-relaxed italic mt-1",children:T.description||"strolling down the street of Paris, listening to the symphony called life."})]})})]}),d.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent shadow-xl transition-transform duration-1000",style:{backfaceVisibility:"hidden",transform:v.has(P)?"rotateY(0deg)":"rotateY(-180deg)",backgroundColor:"hsl(48 20% 97%)",color:"hsl(220 10% 20%)"},children:d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"text-center pb-4 flex-shrink-0 relative overflow-visible px-8 py-6",children:[d.jsx("div",{className:"text-sm mb-4",style:{color:"hsl(220 10% 50%)"},children:T.completedAt.toLocaleDateString()}),d.jsx("div",{className:"text-2xl leading-tight tracking-wide font-bold mb-2",style:{color:"hsl(220 10% 20%)"},children:T.taskTitle}),d.jsx("div",{className:"flex items-center justify-center gap-1",style:{color:"hsl(220 10% 50%)"},children:d.jsxs("span",{className:"text-sm",children:[T.timeSpent," minutes"]})})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between space-y-4 px-4 pb-4",children:[d.jsx("div",{className:"flex-1 flex flex-col",children:d.jsx("div",{className:"relative flex-1",children:d.jsx("div",{className:"resize-none text-sm leading-relaxed border-none bg-transparent text-[hsl(220_10%_30%)] min-h-[80px] cursor-text overflow-y-auto whitespace-pre-line",style:{backgroundColor:"transparent"},children:T.notes||""})})}),d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex justify-between text-xs",style:{color:"hsl(220 10% 50%)"},children:[d.jsxs("span",{children:["Start: ",(()=>{const E=T.completedAt;return new Date(E.getTime()-T.timeSpent*60*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})()]}),d.jsxs("span",{children:["Finish: ",T.completedAt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})})]})]})})]}):d.jsx("div",{className:"w-full h-full rounded-2xl bg-gray-800/50 flex items-center justify-center text-gray-400",children:d.jsx(Zg,{className:"h-12 w-12"})})},P))})})]})]})};return n?d.jsx(y,{collection:n,cardToFlip:f}):d.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50",children:[d.jsx("div",{className:"absolute top-6 left-6 z-10",children:d.jsxs(fe,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/10",children:[d.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Back"]})}),d.jsxs("div",{className:"flex items-center justify-center min-h-screen p-8",children:[d.jsx("div",{className:"flex gap-8 flex-wrap justify-center",children:i.map(g=>d.jsx(m,{collection:g},g.id))}),d.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-center text-white/60",children:d.jsx("p",{className:"text-sm",children:"Click on a collection to explore your collected cards"})})]})]})},_0=({onOpenGallery:e,refreshTrigger:t})=>{const[r,n]=p.useState([]),[s,i]=p.useState(!1),[o,a]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState(0),[h,m]=p.useState(!1),[y,g]=p.useState(null),[w,v]=p.useState(null),[x,b]=p.useState(null),[S,_]=p.useState(!1),[k,C]=p.useState(null),[T,P]=p.useState(null);p.useEffect(()=>{(async()=>{try{const{data:{user:N}}=await X.auth.getUser();if(!N)return;const{data:$,error:O}=await X.from("card_collections").select("*").order("display_order");if(O||!$)return;const{data:z}=await X.from("tasks").select(`
            collection_cards!inner (
              collection_id,
              card_number
            )
          `).eq("user_id",N.id).in("task_status",["complete","made_progress"]).not("collection_card_id","is",null),j={};z==null||z.forEach(F=>{const U=F.collection_cards;U&&(j[U.collection_id]||(j[U.collection_id]=[]),j[U.collection_id].push(U))});const D=$.map((F,U)=>{const Y=j[F.id]||[];let re=!1;if(F.display_order>1){const se=$.find(ee=>ee.display_order===F.display_order-1);re=(se?j[se.id]||[]:[]).length<6}return{id:F.id,name:F.name,description:F.description,totalCards:F.total_cards,earnedCards:Y,isLocked:re}});if(n(D),D.length>0){const F=D.find(U=>!U.isLocked&&U.earnedCards.length<U.totalCards)||D.find(U=>!U.isLocked)||D[0];if(F){const{data:U}=await X.from("collection_cards").select("image_url").eq("collection_id",F.id).eq("card_number",1).single();U!=null&&U.image_url&&a(U.image_url)}}}catch(N){console.error("Error loading collections for gallery icon:",N)}})()},[t]);const E=r.find(L=>!L.isLocked&&L.earnedCards.length<L.totalCards)||r.find(L=>!L.isLocked)||r[0],A=E?E.earnedCards.length:0,I=E?E.totalCards:6;return p.useEffect(()=>{A>u&&u>=0&&(c(!0),setTimeout(()=>{c(!1)},2e3)),f(A)},[A,u]),p.useEffect(()=>{if(x&&(E==null?void 0:E.id)!==x){const L=r.find(N=>N.id===x);L&&L.earnedCards.length===6&&((async()=>{try{const{data:$}=await X.from("collection_cards").select("image_url").eq("collection_id",L.id).eq("card_number",1).single();$!=null&&$.image_url&&v($.image_url)}catch($){console.error("Error loading completed collection image:",$)}})(),setTimeout(()=>{m(!0),g(L),i(!0)},2e3),setTimeout(()=>{const $=r.find(O=>!O.isLocked&&O.earnedCards.length<O.totalCards);$&&(C($),_(!0),(async()=>{try{const{data:z}=await X.from("collection_cards").select("image_url").eq("collection_id",$.id).eq("card_number",1).single();z!=null&&z.image_url&&P(z.image_url)}catch(z){console.error("Error loading next collection image:",z)}})())},5e3),setTimeout(()=>{m(!1),g(null),v(null),_(!1),C(null),P(null),i(!1)},1e4))}b((E==null?void 0:E.id)||null)},[E==null?void 0:E.id,r,x]),d.jsxs("div",{className:"fixed bottom-6 left-6 z-50",children:[d.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }
      `}),d.jsx("div",{className:`fixed inset-0 backdrop-blur-sm transition-all ease-out ${s?"bg-black/50 opacity-100":"bg-black/0 opacity-0 pointer-events-none"}`,style:{zIndex:-1,left:"-1000px",top:"-1000px",transitionDuration:"1.3s"}}),d.jsxs("div",{onClick:()=>e(E==null?void 0:E.id),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`cursor-pointer transition-all ease-out ${s?"transform scale-110":"hover:scale-105"}`,style:{transitionDuration:"1.3s"},children:[d.jsxs("div",{className:`transition-all ease-out ${s?"opacity-0 scale-75 pointer-events-none":"opacity-100 scale-100"} flex flex-col items-center`,style:{transitionDuration:"1.3s"},children:[d.jsx("div",{className:"h-16 w-16 rounded-full flex flex-col items-center justify-center p-2 relative",children:d.jsxs("div",{className:"relative",children:[l&&d.jsx("div",{className:"absolute -inset-2 bg-gradient-radial from-gray-300/40 via-gray-400/20 to-transparent rounded-full animate-pulse blur-sm"}),d.jsx("div",{className:`absolute -top-1 -left-1 w-6 h-8 bg-white/20 rounded border border-white/30 transform transition-all duration-500 ease-out ${l?"rotate-[20deg] translate-x-1 translate-y-1 scale-105":"rotate-12"}`}),d.jsx("div",{className:`absolute -top-0.5 -left-0.5 w-6 h-8 bg-white/30 rounded border border-white/40 transform transition-all duration-400 ease-out ${l?"rotate-[15deg] translate-x-1 scale-105":"rotate-6"}`}),d.jsx("div",{className:`w-6 h-8 bg-white/40 rounded border border-white/50 transform transition-all duration-300 ease-out ${l?"rotate-[8deg] translate-y-0.5 scale-105 shadow-lg":"rotate-0"}`}),l&&d.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-6 h-8 bg-white/50 rounded border border-white/60 transform rotate-[25deg] translate-x-2 translate-y-2 scale-110 animate-bounce shadow-xl"})]})}),d.jsxs("div",{className:"mt-0.5 text-xs text-white/70 font-medium",children:[A,"/",I]})]}),d.jsx("div",{className:`absolute bottom-0 left-0 transition-all ease-out ${s?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,style:{transitionDuration:"1.3s"},children:d.jsxs("div",{className:"w-72 h-96 rounded-2xl shadow-lg transition-all duration-300 relative overflow-hidden",children:[(S&&T||h&&w||o)&&d.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-sm scale-110",style:{backgroundImage:`url('${S&&T||h&&w||o}')`}}),d.jsx("div",{className:"absolute inset-0 bg-black/70"}),!(h&&w||o)&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500"}),d.jsxs("div",{className:`absolute inset-0 flex flex-col justify-between text-white z-10 p-6 transition-opacity duration-1000 ${S?"opacity-0":"opacity-100"}`,children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-bold text-lg text-white",style:{fontFamily:"Calendas Plus"},children:h&&y?y.name:(E==null?void 0:E.name)||"Collection"}),(h&&y?y.description:E==null?void 0:E.description)&&d.jsx("div",{className:"text-xs opacity-80 leading-relaxed",children:h&&y?y.description:E==null?void 0:E.description})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm opacity-90",children:h?"6 of 6 collected":`${A} of ${I} collected`}),d.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:d.jsx("div",{className:"rounded-full h-2 transition-all duration-500 relative overflow-hidden bg-white",style:{width:`${h?100:A/I*100}%`},children:h&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-400/80 to-transparent",style:{animation:"shimmer 1.5s ease-in-out infinite",transform:"translateX(-100%)",backgroundSize:"200% 100%"}})})})]})]}),d.jsxs("div",{className:`absolute inset-0 flex flex-col justify-between text-white z-10 p-6 transition-opacity duration-1000 ${S?"opacity-100":"opacity-0"}`,children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-bold text-lg text-white",style:{fontFamily:"Calendas Plus"},children:(k==null?void 0:k.name)||"Next Collection"}),(k==null?void 0:k.description)&&d.jsx("div",{className:"text-xs opacity-80 leading-relaxed",children:k.description})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm opacity-90",children:k?`0 of ${k.totalCards} collected`:"0 of 6 collected"}),d.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:d.jsx("div",{className:"rounded-full h-2 bg-white",style:{width:"0%"}})})]})]})]})})]})]})};function m$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const Wu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Eo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function _m(e){return"nodeType"in e}function $t(e){var t,r;return e?Eo(e)?e:_m(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function km(e){const{Document:t}=$t(e);return e instanceof t}function Za(e){return Eo(e)?!1:e instanceof $t(e).HTMLElement}function M_(e){return e instanceof $t(e).SVGElement}function To(e){return e?Eo(e)?e.document:_m(e)?km(e)?e:Za(e)||M_(e)?e.ownerDocument:document:document:document}const Ur=Wu?p.useLayoutEffect:p.useEffect;function Hu(e){const t=p.useRef(e);return Ur(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function g$(){const e=p.useRef(null),t=p.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function La(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return Ur(()=>{r.current!==e&&(r.current=e)},t),r}function el(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Yc(e){const t=Hu(e),r=p.useRef(null),n=p.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function Xc(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let af={};function tl(e,t){return p.useMemo(()=>{if(t)return t;const r=af[e]==null?0:af[e]+1;return af[e]=r,e+"-"+r},[e,t])}function D_(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+e*c)}return i},{...t})}}const qi=D_(1),$a=D_(-1);function v$(e){return"clientX"in e&&"clientY"in e}function qu(e){if(!e)return!1;const{KeyboardEvent:t}=$t(e.target);return t&&e instanceof t}function y$(e){if(!e)return!1;const{TouchEvent:t}=$t(e.target);return t&&e instanceof t}function Qc(e){if(y$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return v$(e)?{x:e.clientX,y:e.clientY}:null}const gs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[gs.Translate.toString(e),gs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),k0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function w$(e){return e.matches(k0)?e:e.querySelector(k0)}const x$={display:"none"};function b$(e){let{id:t,value:r}=e;return B.createElement("div",{id:t,style:x$},r)}function S$(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return B.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function _$(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const L_=p.createContext(null);function k$(e){const t=p.useContext(L_);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function E$(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:s,event:i}=n;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const T$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},C$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function P$(e){let{announcements:t=C$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=T$}=e;const{announce:i,announcement:o}=_$(),a=tl("DndLiveRegion"),[l,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),k$(p.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&i(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;i(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;i(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;i(t.onDragCancel({active:h,over:m}))}}),[i,t])),!l)return null;const u=B.createElement(B.Fragment,null,B.createElement(b$,{id:n,value:s.draggable}),B.createElement(S$,{id:a,announcement:o}));return r?en.createPortal(u,r):u}var lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function Jc(){}function E0(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function j$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Br=Object.freeze({x:0,y:0});function $_(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function N$(e,t){const r=Qc(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function z_(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function R$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function T0(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function F_(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function C0(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const A$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=C0(t,t.left,t.top),i=[];for(const o of n){const{id:a}=o,l=r.get(a);if(l){const c=$_(C0(l),s);i.push({id:a,data:{droppableContainer:o,value:c}})}}return i.sort(z_)},I$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=T0(t),i=[];for(const o of n){const{id:a}=o,l=r.get(a);if(l){const c=T0(l),u=s.reduce((h,m,y)=>h+$_(c[y],m),0),f=Number((u/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:f}})}}return i.sort(z_)};function O$(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,a=i-r;if(n<s&&r<i){const l=t.width*t.height,c=e.width*e.height,u=o*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const U_=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const i of n){const{id:o}=i,a=r.get(o);if(a){const l=O$(a,t);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(R$)};function M$(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function B_(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Br}function D$(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...r})}}const L$=D$(1);function V_(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $$(e,t,r){const n=V_(t);if(!n)return e;const{scaleX:s,scaleY:i,x:o,y:a}=n,l=e.left-o-(1-s)*parseFloat(r),c=e.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=s?e.width/s:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const z$={ignoreTransform:!1};function Co(e,t){t===void 0&&(t=z$);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=$t(e).getComputedStyle(e);c&&(r=$$(r,c,u))}const{top:n,left:s,width:i,height:o,bottom:a,right:l}=r;return{top:n,left:s,width:i,height:o,bottom:a,right:l}}function P0(e){return Co(e,{ignoreTransform:!0})}function F$(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function U$(e,t){return t===void 0&&(t=$t(e).getComputedStyle(e)),t.position==="fixed"}function B$(e,t){t===void 0&&(t=$t(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}function Gu(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(km(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Za(s)||M_(s)||r.includes(s))return r;const i=$t(e).getComputedStyle(s);return s!==e&&B$(s,i)&&r.push(s),U$(s,i)?r:n(s.parentNode)}return e?n(e):r}function W_(e){const[t]=Gu(e,1);return t??null}function lf(e){return!Wu||!e?null:Eo(e)?e:_m(e)?km(e)||e===To(e).scrollingElement?window:Za(e)?e:null:null}function H_(e){return Eo(e)?e.scrollX:e.scrollLeft}function q_(e){return Eo(e)?e.scrollY:e.scrollTop}function Lh(e){return{x:H_(e),y:q_(e)}}var ht;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ht||(ht={}));function G_(e){return!Wu||!e?!1:e===document.scrollingElement}function K_(e){const t={x:0,y:0},r=G_(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:n,minScroll:t}}const V$={x:.2,y:.2};function W$(e,t,r,n,s){let{top:i,left:o,right:a,bottom:l}=r;n===void 0&&(n=10),s===void 0&&(s=V$);const{isTop:c,isBottom:u,isLeft:f,isRight:h}=K_(e),m={x:0,y:0},y={x:0,y:0},g={height:t.height*s.y,width:t.width*s.x};return!c&&i<=t.top+g.height?(m.y=ht.Backward,y.y=n*Math.abs((t.top+g.height-i)/g.height)):!u&&l>=t.bottom-g.height&&(m.y=ht.Forward,y.y=n*Math.abs((t.bottom-g.height-l)/g.height)),!h&&a>=t.right-g.width?(m.x=ht.Forward,y.x=n*Math.abs((t.right-g.width-a)/g.width)):!f&&o<=t.left+g.width&&(m.x=ht.Backward,y.x=n*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:y}}function H$(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Y_(e){return e.reduce((t,r)=>qi(t,Lh(r)),Br)}function q$(e){return e.reduce((t,r)=>t+H_(r),0)}function G$(e){return e.reduce((t,r)=>t+q_(r),0)}function X_(e,t){if(t===void 0&&(t=Co),!e)return;const{top:r,left:n,bottom:s,right:i}=t(e);W_(e)&&(s<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K$=[["x",["left","right"],q$],["y",["top","bottom"],G$]];class Em{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Gu(r),s=Y_(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of K$)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(n),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ca{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Y$(e){const{EventTarget:t}=$t(e);return e instanceof t?e:To(e)}function cf(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var hr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(hr||(hr={}));function j0(e){e.preventDefault()}function X$(e){e.stopPropagation()}var Ce;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ce||(Ce={}));const Q_={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},Q$=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Ce.Right:return{...r,x:r.x+25};case Ce.Left:return{...r,x:r.x-25};case Ce.Down:return{...r,y:r.y+25};case Ce.Up:return{...r,y:r.y-25}}};class Tm{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ca(To(r)),this.windowListeners=new ca($t(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hr.Resize,this.handleCancel),this.windowListeners.add(hr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&X_(n),r(Br)}handleKeyDown(t){if(qu(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:i=Q_,coordinateGetter:o=Q$,scrollBehavior:a="smooth"}=s,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:Br;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:r,context:n.current,currentCoordinates:u});if(f){const h=$a(f,u),m={x:0,y:0},{scrollableAncestors:y}=n.current;for(const g of y){const w=t.code,{isTop:v,isRight:x,isLeft:b,isBottom:S,maxScroll:_,minScroll:k}=K_(g),C=H$(g),T={x:Math.min(w===Ce.Right?C.right-C.width/2:C.right,Math.max(w===Ce.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(w===Ce.Down?C.bottom-C.height/2:C.bottom,Math.max(w===Ce.Down?C.top:C.top+C.height/2,f.y))},P=w===Ce.Right&&!x||w===Ce.Left&&!b,E=w===Ce.Down&&!S||w===Ce.Up&&!v;if(P&&T.x!==f.x){const A=g.scrollLeft+h.x,I=w===Ce.Right&&A<=_.x||w===Ce.Left&&A>=k.x;if(I&&!h.y){g.scrollTo({left:A,behavior:a});return}I?m.x=g.scrollLeft-A:m.x=w===Ce.Right?g.scrollLeft-_.x:g.scrollLeft-k.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(E&&T.y!==f.y){const A=g.scrollTop+h.y,I=w===Ce.Down&&A<=_.y||w===Ce.Up&&A>=k.y;if(I&&!h.x){g.scrollTo({top:A,behavior:a});return}I?m.y=g.scrollTop-A:m.y=w===Ce.Down?g.scrollTop-_.y:g.scrollTop-k.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,qi($a(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Tm.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Q_,onActivation:s}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function N0(e){return!!(e&&"distance"in e)}function R0(e){return!!(e&&"delay"in e)}class Cm{constructor(t,r,n){var s;n===void 0&&(n=Y$(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=To(o),this.documentListeners=new ca(this.document),this.listeners=new ca(n),this.windowListeners=new ca($t(o)),this.initialCoordinates=(s=Qc(i))!=null?s:Br,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(hr.Resize,this.handleCancel),this.windowListeners.add(hr.DragStart,j0),this.windowListeners.add(hr.VisibilityChange,this.handleCancel),this.windowListeners.add(hr.ContextMenu,j0),this.documentListeners.add(hr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(R0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(N0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(hr.Click,X$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(r=Qc(t))!=null?r:Br,c=$a(s,l);if(!n&&a){if(N0(a)){if(a.tolerance!=null&&cf(c,a.tolerance))return this.handleCancel();if(cf(c,a.distance))return this.handleStart()}if(R0(a)&&cf(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const J$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pm extends Cm{constructor(t){const{event:r}=t,n=To(r.target);super(t,J$,n)}}Pm.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Z$={move:{name:"mousemove"},end:{name:"mouseup"}};var $h;(function(e){e[e.RightClick=2]="RightClick"})($h||($h={}));class e4 extends Cm{constructor(t){super(t,Z$,To(t.event.target))}}e4.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===$h.RightClick?!1:(n==null||n({event:r}),!0)}}];const uf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class t4 extends Cm{constructor(t){super(t,uf)}static setup(){return window.addEventListener(uf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(uf.move.name,t)};function t(){}}}t4.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var ua;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ua||(ua={}));var Zc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zc||(Zc={}));function r4(e){let{acceleration:t,activator:r=ua.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:a=Zc.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:h}=e;const m=s4({delta:f,disabled:!i}),[y,g]=g$(),w=p.useRef({x:0,y:0}),v=p.useRef({x:0,y:0}),x=p.useMemo(()=>{switch(r){case ua.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ua.DraggableRect:return s}},[r,s,l]),b=p.useRef(null),S=p.useCallback(()=>{const k=b.current;if(!k)return;const C=w.current.x*v.current.x,T=w.current.y*v.current.y;k.scrollBy(C,T)},[]),_=p.useMemo(()=>a===Zc.TreeOrder?[...c].reverse():c,[a,c]);p.useEffect(()=>{if(!i||!c.length||!x){g();return}for(const k of _){if((n==null?void 0:n(k))===!1)continue;const C=c.indexOf(k),T=u[C];if(!T)continue;const{direction:P,speed:E}=W$(k,T,x,t,h);for(const A of["x","y"])m[A][P[A]]||(E[A]=0,P[A]=0);if(E.x>0||E.y>0){g(),b.current=k,y(S,o),w.current=E,v.current=P;return}}w.current={x:0,y:0},v.current={x:0,y:0},g()},[t,S,n,g,i,o,JSON.stringify(x),JSON.stringify(m),y,c,_,u,JSON.stringify(h)])}const n4={x:{[ht.Backward]:!1,[ht.Forward]:!1},y:{[ht.Backward]:!1,[ht.Forward]:!1}};function s4(e){let{delta:t,disabled:r}=e;const n=Xc(t);return el(s=>{if(r||!n||!s)return n4;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ht.Backward]:s.x[ht.Backward]||i.x===-1,[ht.Forward]:s.x[ht.Forward]||i.x===1},y:{[ht.Backward]:s.y[ht.Backward]||i.y===-1,[ht.Forward]:s.y[ht.Forward]||i.y===1}}},[r,t,n])}function i4(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return el(s=>{var i;return t==null?null:(i=n??s)!=null?i:null},[n,t])}function o4(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var za;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(za||(za={}));var zh;(function(e){e.Optimized="optimized"})(zh||(zh={}));const A0=new Map;function a4(e,t){let{dragging:r,dependencies:n,config:s}=t;const[i,o]=p.useState(null),{frequency:a,measure:l,strategy:c}=s,u=p.useRef(e),f=w(),h=La(f),m=p.useCallback(function(v){v===void 0&&(v=[]),!h.current&&o(x=>x===null?v:x.concat(v.filter(b=>!x.includes(b))))},[h]),y=p.useRef(null),g=el(v=>{if(f&&!r)return A0;if(!v||v===A0||u.current!==e||i!=null){const x=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){x.set(b.id,b.rect.current);continue}const S=b.node.current,_=S?new Em(l(S),S):null;b.rect.current=_,_&&x.set(b.id,_)}return x}return v},[e,i,r,f,l]);return p.useEffect(()=>{u.current=e},[e]),p.useEffect(()=>{f||m()},[r,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof a!="number"||y.current!==null||(y.current=setTimeout(()=>{m(),y.current=null},a))},[a,f,m,...n]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function w(){switch(c){case za.Always:return!1;case za.BeforeDragging:return r;default:return!r}}}function jm(e,t){return el(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function l4(e,t){return jm(e,t)}function c4(e){let{callback:t,disabled:r}=e;const n=Hu(t),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ku(e){let{callback:t,disabled:r}=e;const n=Hu(t),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function u4(e){return new Em(Co(e),e)}function I0(e,t,r){t===void 0&&(t=u4);const[n,s]=p.useState(null);function i(){s(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??r)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=c4({callback(l){if(e)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),a=Ku({callback:i});return Ur(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),n}function d4(e){const t=jm(e);return B_(e,t)}const O0=[];function f4(e){const t=p.useRef(e),r=el(n=>e?n&&n!==O0&&e&&t.current&&e.parentNode===t.current.parentNode?n:Gu(e):O0,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function h4(e){const[t,r]=p.useState(null),n=p.useRef(e),s=p.useCallback(i=>{const o=lf(i.target);o&&r(a=>a?(a.set(o,Lh(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const a=e.map(l=>{const c=lf(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,Lh(c)]):null}).filter(l=>l!=null);r(a.length?new Map(a):null),n.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(l=>{const c=lf(l);c==null||c.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>qi(i,o),Br):Y_(e):Br,[e,t])}function M0(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==Br;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?$a(e,r.current):Br}function p4(e){p.useEffect(()=>{if(!Wu)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function m4(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:i}=n;return r[s]=o=>{i(o,t)},r},{}),[e,t])}function J_(e){return p.useMemo(()=>e?F$(e):null,[e])}const D0=[];function g4(e,t){t===void 0&&(t=Co);const[r]=e,n=J_(r?$t(r):null),[s,i]=p.useState(D0);function o(){i(()=>e.length?e.map(l=>G_(l)?n:new Em(t(l),l)):D0)}const a=Ku({callback:o});return Ur(()=>{a==null||a.disconnect(),o(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),s}function Z_(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Za(t)?t:e}function v4(e){let{measure:t}=e;const[r,n]=p.useState(null),s=p.useCallback(c=>{for(const{target:u}of c)if(Za(u)){n(f=>{const h=t(u);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=Ku({callback:s}),o=p.useCallback(c=>{const u=Z_(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),n(u?t(u):null)},[t,i]),[a,l]=Yc(o);return p.useMemo(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}const y4=[{sensor:Pm,options:{}},{sensor:Tm,options:{}}],w4={current:{}},oc={draggable:{measure:P0},droppable:{measure:P0,strategy:za.WhileDragging,frequency:zh.Optimized},dragOverlay:{measure:Co}};class da extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const x4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new da,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:oc,measureDroppableContainers:Jc,windowRect:null,measuringScheduled:!1},ek={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jc,draggableNodes:new Map,over:null,measureDroppableContainers:Jc},rl=p.createContext(ek),tk=p.createContext(x4);function b4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new da}}}function S4(e,t){switch(t.type){case lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new da(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case lt.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new da(e.droppable.containers);return o.set(r,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case lt.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const i=new da(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function _4(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=p.useContext(rl),i=Xc(n),o=Xc(r==null?void 0:r.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!qu(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=w$(u);if(f){f.focus();break}}})}},[n,t,s,o,i]),null}function rk(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...n}),r):r}function k4(e){return p.useMemo(()=>({draggable:{...oc.draggable,...e==null?void 0:e.draggable},droppable:{...oc.droppable,...e==null?void 0:e.droppable},dragOverlay:{...oc.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function E4(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Ur(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!n)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const u=r(c),f=B_(u,n);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=W_(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,a,n,r])}const Yu=p.createContext({...Br,scaleX:1,scaleY:1});var Bn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Bn||(Bn={}));const L0=p.memo(function(t){var r,n,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=y4,collisionDetection:f=U_,measuring:h,modifiers:m,...y}=t;const g=p.useReducer(S4,void 0,b4),[w,v]=g,[x,b]=E$(),[S,_]=p.useState(Bn.Uninitialized),k=S===Bn.Initialized,{draggable:{active:C,nodes:T,translate:P},droppable:{containers:E}}=w,A=C!=null?T.get(C):null,I=p.useRef({initial:null,translated:null}),L=p.useMemo(()=>{var Ne;return C!=null?{id:C,data:(Ne=A==null?void 0:A.data)!=null?Ne:w4,rect:I}:null},[C,A]),N=p.useRef(null),[$,O]=p.useState(null),[z,j]=p.useState(null),D=La(y,Object.values(y)),F=tl("DndDescribedBy",o),U=p.useMemo(()=>E.getEnabled(),[E]),Y=k4(h),{droppableRects:re,measureDroppableContainers:se,measuringScheduled:Se}=a4(U,{dragging:k,dependencies:[P.x,P.y],config:Y.droppable}),ee=i4(T,C),ce=p.useMemo(()=>z?Qc(z):null,[z]),le=Me(),ne=l4(ee,Y.draggable.measure);E4({activeNode:C!=null?T.get(C):null,config:le.layoutShiftCompensation,initialRect:ne,measure:Y.draggable.measure});const ae=I0(ee,Y.draggable.measure,ne),Ae=I0(ee?ee.parentElement:null),ue=p.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),W=E.getNodeFor((r=ue.current.over)==null?void 0:r.id),Z=v4({measure:Y.dragOverlay.measure}),de=(n=Z.nodeRef.current)!=null?n:ee,oe=k?(s=Z.rect)!=null?s:ae:null,me=!!(Z.nodeRef.current&&Z.rect),be=d4(me?null:ae),he=J_(de?$t(de):null),Ze=f4(k?W??ee:null),Xt=g4(Ze),jn=rk(m,{transform:{x:P.x-be.x,y:P.y-be.y,scaleX:1,scaleY:1},activatorEvent:z,active:L,activeNodeRect:ae,containerNodeRect:Ae,draggingNodeRect:oe,over:ue.current.over,overlayNodeRect:Z.rect,scrollableAncestors:Ze,scrollableAncestorRects:Xt,windowRect:he}),Er=ce?qi(ce,P):null,_s=h4(Ze),ks=M0(_s),Nn=M0(_s,[ae]),ut=qi(jn,ks),wt=oe?L$(oe,jn):null,xt=L&&wt?f({active:L,collisionRect:wt,droppableRects:re,droppableContainers:U,pointerCoordinates:Er}):null,Rn=F_(xt,"id"),[Tr,Es]=p.useState(null),ci=me?jn:qi(jn,Nn),ui=M$(ci,(i=Tr==null?void 0:Tr.rect)!=null?i:null,ae),Pt=p.useRef(null),Qt=p.useCallback((Ne,He)=>{let{sensor:Xe,options:jt}=He;if(N.current==null)return;const zt=T.get(N.current);if(!zt)return;const Nt=Ne.nativeEvent,Jt=new Xe({active:N.current,activeNode:zt,event:Nt,options:jt,context:ue,onAbort(st){if(!T.get(st))return;const{onDragAbort:ur}=D.current,dr={id:st};ur==null||ur(dr),x({type:"onDragAbort",event:dr})},onPending(st,Wr,ur,dr){if(!T.get(st))return;const{onDragPending:Ps}=D.current,Hr={id:st,constraint:Wr,initialCoordinates:ur,offset:dr};Ps==null||Ps(Hr),x({type:"onDragPending",event:Hr})},onStart(st){const Wr=N.current;if(Wr==null)return;const ur=T.get(Wr);if(!ur)return;const{onDragStart:dr}=D.current,Cs={activatorEvent:Nt,active:{id:Wr,data:ur.data,rect:I}};en.unstable_batchedUpdates(()=>{dr==null||dr(Cs),_(Bn.Initializing),v({type:lt.DragStart,initialCoordinates:st,active:Wr}),x({type:"onDragStart",event:Cs}),O(Pt.current),j(Nt)})},onMove(st){v({type:lt.DragMove,coordinates:st})},onEnd:An(lt.DragEnd),onCancel:An(lt.DragCancel)});Pt.current=Jt;function An(st){return async function(){const{active:ur,collisions:dr,over:Cs,scrollAdjustedTranslate:Ps}=ue.current;let Hr=null;if(ur&&Ps){const{cancelDrop:js}=D.current;Hr={activatorEvent:Nt,active:ur,collisions:dr,delta:Ps,over:Cs},st===lt.DragEnd&&typeof js=="function"&&await Promise.resolve(js(Hr))&&(st=lt.DragCancel)}N.current=null,en.unstable_batchedUpdates(()=>{v({type:st}),_(Bn.Uninitialized),Es(null),O(null),j(null),Pt.current=null;const js=st===lt.DragEnd?"onDragEnd":"onDragCancel";if(Hr){const di=D.current[js];di==null||di(Hr),x({type:js,event:Hr})}})}}},[T]),Ts=p.useCallback((Ne,He)=>(Xe,jt)=>{const zt=Xe.nativeEvent,Nt=T.get(jt);if(N.current!==null||!Nt||zt.dndKit||zt.defaultPrevented)return;const Jt={active:Nt};Ne(Xe,He.options,Jt)===!0&&(zt.dndKit={capturedBy:He.sensor},N.current=jt,Qt(Xe,He))},[T,Qt]),pe=o4(u,Ts);p4(u),Ur(()=>{ae&&S===Bn.Initializing&&_(Bn.Initialized)},[ae,S]),p.useEffect(()=>{const{onDragMove:Ne}=D.current,{active:He,activatorEvent:Xe,collisions:jt,over:zt}=ue.current;if(!He||!Xe)return;const Nt={active:He,activatorEvent:Xe,collisions:jt,delta:{x:ut.x,y:ut.y},over:zt};en.unstable_batchedUpdates(()=>{Ne==null||Ne(Nt),x({type:"onDragMove",event:Nt})})},[ut.x,ut.y]),p.useEffect(()=>{const{active:Ne,activatorEvent:He,collisions:Xe,droppableContainers:jt,scrollAdjustedTranslate:zt}=ue.current;if(!Ne||N.current==null||!He||!zt)return;const{onDragOver:Nt}=D.current,Jt=jt.get(Rn),An=Jt&&Jt.rect.current?{id:Jt.id,rect:Jt.rect.current,data:Jt.data,disabled:Jt.disabled}:null,st={active:Ne,activatorEvent:He,collisions:Xe,delta:{x:zt.x,y:zt.y},over:An};en.unstable_batchedUpdates(()=>{Es(An),Nt==null||Nt(st),x({type:"onDragOver",event:st})})},[Rn]),Ur(()=>{ue.current={activatorEvent:z,active:L,activeNode:ee,collisionRect:wt,collisions:xt,droppableRects:re,draggableNodes:T,draggingNode:de,draggingNodeRect:oe,droppableContainers:E,over:Tr,scrollableAncestors:Ze,scrollAdjustedTranslate:ut},I.current={initial:oe,translated:wt}},[L,ee,xt,wt,T,de,oe,re,E,Tr,Ze,ut]),r4({...le,delta:P,draggingRect:wt,pointerCoordinates:Er,scrollableAncestors:Ze,scrollableAncestorRects:Xt});const Ie=p.useMemo(()=>({active:L,activeNode:ee,activeNodeRect:ae,activatorEvent:z,collisions:xt,containerNodeRect:Ae,dragOverlay:Z,draggableNodes:T,droppableContainers:E,droppableRects:re,over:Tr,measureDroppableContainers:se,scrollableAncestors:Ze,scrollableAncestorRects:Xt,measuringConfiguration:Y,measuringScheduled:Se,windowRect:he}),[L,ee,ae,z,xt,Ae,Z,T,E,re,Tr,se,Ze,Xt,Y,Se,he]),Ee=p.useMemo(()=>({activatorEvent:z,activators:pe,active:L,activeNodeRect:ae,ariaDescribedById:{draggable:F},dispatch:v,draggableNodes:T,over:Tr,measureDroppableContainers:se}),[z,pe,L,ae,v,F,T,Tr,se]);return B.createElement(L_.Provider,{value:b},B.createElement(rl.Provider,{value:Ee},B.createElement(tk.Provider,{value:Ie},B.createElement(Yu.Provider,{value:ui},c)),B.createElement(_4,{disabled:(a==null?void 0:a.restoreFocus)===!1})),B.createElement(P$,{...a,hiddenTextDescribedById:F}));function Me(){const Ne=($==null?void 0:$.autoScrollEnabled)===!1,He=typeof l=="object"?l.enabled===!1:l===!1,Xe=k&&!Ne&&!He;return typeof l=="object"?{...l,enabled:Xe}:{enabled:Xe}}}),T4=p.createContext(null),$0="button",C4="Draggable";function P4(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const i=tl(C4),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:h}=p.useContext(rl),{role:m=$0,roleDescription:y="draggable",tabIndex:g=0}=s??{},w=(l==null?void 0:l.id)===t,v=p.useContext(w?Yu:T4),[x,b]=Yc(),[S,_]=Yc(),k=m4(o,t),C=La(r);Ur(()=>(f.set(t,{id:t,key:i,node:x,activatorNode:S,data:C}),()=>{const P=f.get(t);P&&P.key===i&&f.delete(t)}),[f,t]);const T=p.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":n,"aria-pressed":w&&m===$0?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[n,m,g,w,y,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:T,isDragging:w,listeners:n?void 0:k,node:x,over:h,setNodeRef:b,setActivatorNodeRef:_,transform:v}}function nk(){return p.useContext(tk)}const j4="Droppable",N4={timeout:25};function sk(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const i=tl(j4),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=p.useContext(rl),u=p.useRef({disabled:r}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:y,updateMeasurementsFor:g,timeout:w}={...N4,...s},v=La(g??n),x=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),m.current=null},w)},[w]),b=Ku({callback:x,disabled:y||!o}),S=p.useCallback((T,P)=>{b&&(P&&(b.unobserve(P),f.current=!1),T&&b.observe(T))},[b]),[_,k]=Yc(S),C=La(t);return p.useEffect(()=>{!b||!_.current||(b.disconnect(),f.current=!1,b.observe(_.current))},[_,b]),p.useEffect(()=>(a({type:lt.RegisterDroppable,element:{id:n,key:i,disabled:r,node:_,rect:h,data:C}}),()=>a({type:lt.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{r!==u.current.disabled&&(a({type:lt.SetDroppableDisabled,id:n,key:i,disabled:r}),u.current.disabled=r)},[n,i,r,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===n,node:_,over:l,setNodeRef:k}}function R4(e){let{animation:t,children:r}=e;const[n,s]=p.useState(null),[i,o]=p.useState(null),a=Xc(r);return!r&&!n&&a&&s(a),Ur(()=>{if(!i)return;const l=n==null?void 0:n.key,c=n==null?void 0:n.props.id;if(l==null||c==null){s(null);return}Promise.resolve(t(c,i)).then(()=>{s(null)})},[t,n,i]),B.createElement(B.Fragment,null,r,n?p.cloneElement(n,{ref:o}):null)}const A4={x:0,y:0,scaleX:1,scaleY:1};function I4(e){let{children:t}=e;return B.createElement(rl.Provider,{value:ek},B.createElement(Yu.Provider,{value:A4},t))}const O4={position:"fixed",touchAction:"none"},M4=e=>qu(e)?"transform 250ms ease":void 0,D4=p.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:s,children:i,className:o,rect:a,style:l,transform:c,transition:u=M4}=e;if(!a)return null;const f=s?c:{...c,scaleX:1,scaleY:1},h={...O4,width:a.width,height:a.height,top:a.top,left:a.left,transform:gs.Transform.toString(f),transformOrigin:s&&n?N$(n,a):void 0,transition:typeof u=="function"?u(n):u,...l};return B.createElement(r,{className:o,style:h,ref:t},i)}),L4=e=>t=>{let{active:r,dragOverlay:n}=t;const s={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=r.node.style.getPropertyValue(a),r.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&n.node.style.setProperty(a,l);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[l,c]of Object.entries(s))r.node.style.setProperty(l,c);o!=null&&o.active&&r.node.classList.remove(o.active)}},$4=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:gs.Transform.toString(t)},{transform:gs.Transform.toString(r)}]},z4={duration:250,easing:"ease",keyframes:$4,sideEffects:L4({styles:{active:{opacity:"0"}}})};function F4(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:s}=e;return Hu((i,o)=>{if(t===null)return;const a=r.get(i);if(!a)return;const l=a.node.current;if(!l)return;const c=Z_(o);if(!c)return;const{transform:u}=$t(o).getComputedStyle(o),f=V_(u);if(!f)return;const h=typeof t=="function"?t:U4(t);return X_(l,s.draggable.measure),h({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:o,rect:s.dragOverlay.measure(c)},droppableContainers:n,measuringConfiguration:s,transform:f})})}function U4(e){const{duration:t,easing:r,sideEffects:n,keyframes:s}={...z4,...e};return i=>{let{active:o,dragOverlay:a,transform:l,...c}=i;if(!t)return;const u={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},h={x:l.x-u.x,y:l.y-u.y,...f},m=s({...c,active:o,dragOverlay:a,transform:{initial:l,final:h}}),[y]=m,g=m[m.length-1];if(JSON.stringify(y)===JSON.stringify(g))return;const w=n==null?void 0:n({active:o,dragOverlay:a,...c}),v=a.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(x=>{v.onfinish=()=>{w==null||w(),x()}})}}let z0=0;function B4(e){return p.useMemo(()=>{if(e!=null)return z0++,z0},[e])}const V4=B.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:c=999}=e;const{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:y,droppableContainers:g,dragOverlay:w,over:v,measuringConfiguration:x,scrollableAncestors:b,scrollableAncestorRects:S,windowRect:_}=nk(),k=p.useContext(Yu),C=B4(f==null?void 0:f.id),T=rk(o,{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:w.rect,over:v,overlayNodeRect:w.rect,scrollableAncestors:b,scrollableAncestorRects:S,transform:k,windowRect:_}),P=jm(h),E=F4({config:n,draggableNodes:y,droppableContainers:g,measuringConfiguration:x}),A=P?w.setRef:void 0;return B.createElement(I4,null,B.createElement(R4,{animation:E},f&&C?B.createElement(D4,{key:C,id:f.id,ref:A,as:a,activatorEvent:u,adjustScale:t,className:l,transition:i,rect:P,style:{zIndex:c,...s},transform:T},r):null))});function fa(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function W4(e,t){return e.reduce((r,n,s)=>{const i=t.get(n);return i&&(r[s]=i),r},Array(e.length))}function zl(e){return e!==null&&e>=0}function H4(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function q4(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ik=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const i=fa(t,n,r),o=t[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Fl={scaleX:1,scaleY:1},df=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:i,overIndex:o}=e;const a=(t=i[r])!=null?t:n;if(!a)return null;if(s===r){const c=i[o];return c?{x:0,y:r<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Fl}:null}const l=G4(i,s,r);return s>r&&s<=o?{x:0,y:-a.height-l,...Fl}:s<r&&s>=o?{x:0,y:a.height+l,...Fl}:{x:0,y:0,...Fl}};function G4(e,t,r){const n=e[t],s=e[t-1],i=e[t+1];return n?r<t?s?n.top-(s.top+s.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const ok="Sortable",ak=B.createContext({activeIndex:-1,containerId:ok,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ik,disabled:{draggable:!1,droppable:!1}});function ff(e){let{children:t,id:r,items:n,strategy:s=ik,disabled:i=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=nk(),f=tl(ok,r),h=a.rect!==null,m=p.useMemo(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),y=o!=null,g=o?m.indexOf(o.id):-1,w=c?m.indexOf(c.id):-1,v=p.useRef(m),x=!H4(m,v.current),b=w!==-1&&g===-1||x,S=q4(i);Ur(()=>{x&&y&&u(m)},[x,m,y,u]),p.useEffect(()=>{v.current=m},[m]);const _=p.useMemo(()=>({activeIndex:g,containerId:f,disabled:S,disableTransforms:b,items:m,overIndex:w,useDragOverlay:h,sortedRects:W4(m,l),strategy:s}),[g,f,S.draggable,S.droppable,b,m,w,l,h,s]);return B.createElement(ak.Provider,{value:_},t)}const K4=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return fa(r,n,s).indexOf(t)},Y4=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!n||a!==i&&s===o?!1:r?!0:o!==s&&t===l},X4={duration:200,easing:"ease"},lk="transform",Q4=gs.Transition.toString({property:lk,duration:0,easing:"linear"}),J4={roleDescription:"sortable"};function Z4(e){let{disabled:t,index:r,node:n,rect:s}=e;const[i,o]=p.useState(null),a=p.useRef(r);return Ur(()=>{if(!t&&r!==a.current&&n.current){const l=s.current;if(l){const c=Co(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}r!==a.current&&(a.current=r)},[t,r,n,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function ez(e){let{animateLayoutChanges:t=Y4,attributes:r,disabled:n,data:s,getNewIndex:i=K4,id:o,strategy:a,resizeObserverConfig:l,transition:c=X4}=e;const{items:u,containerId:f,activeIndex:h,disabled:m,disableTransforms:y,sortedRects:g,overIndex:w,useDragOverlay:v,strategy:x}=p.useContext(ak),b=tz(n,m),S=u.indexOf(o),_=p.useMemo(()=>({sortable:{containerId:f,index:S,items:u},...s}),[f,s,S,u]),k=p.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:C,node:T,isOver:P,setNodeRef:E}=sk({id:o,data:_,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...l}}),{active:A,activatorEvent:I,activeNodeRect:L,attributes:N,setNodeRef:$,listeners:O,isDragging:z,over:j,setActivatorNodeRef:D,transform:F}=P4({id:o,data:_,attributes:{...J4,...r},disabled:b.draggable}),U=m$(E,$),Y=!!A,re=Y&&!y&&zl(h)&&zl(w),se=!v&&z,Se=se&&re?F:null,ce=re?Se??(a??x)({rects:g,activeNodeRect:L,activeIndex:h,overIndex:w,index:S}):null,le=zl(h)&&zl(w)?i({id:o,items:u,activeIndex:h,overIndex:w}):S,ne=A==null?void 0:A.id,ae=p.useRef({activeId:ne,items:u,newIndex:le,containerId:f}),Ae=u!==ae.current.items,ue=t({active:A,containerId:f,isDragging:z,isSorting:Y,id:o,index:S,items:u,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:c,wasDragging:ae.current.activeId!=null}),W=Z4({disabled:!ue,index:S,node:T,rect:C});return p.useEffect(()=>{Y&&ae.current.newIndex!==le&&(ae.current.newIndex=le),f!==ae.current.containerId&&(ae.current.containerId=f),u!==ae.current.items&&(ae.current.items=u)},[Y,le,f,u]),p.useEffect(()=>{if(ne===ae.current.activeId)return;if(ne!=null&&ae.current.activeId==null){ae.current.activeId=ne;return}const de=setTimeout(()=>{ae.current.activeId=ne},50);return()=>clearTimeout(de)},[ne]),{active:A,activeIndex:h,attributes:N,data:_,rect:C,index:S,newIndex:le,items:u,isOver:P,isSorting:Y,isDragging:z,listeners:O,node:T,overIndex:w,over:j,setNodeRef:U,setActivatorNodeRef:D,setDroppableNodeRef:E,setDraggableNodeRef:$,transform:W??ce,transition:Z()};function Z(){if(W||Ae&&ae.current.newIndex===S)return Q4;if(!(se&&!qu(I)||!c)&&(Y||ue))return gs.Transition.toString({...c,property:lk})}}function tz(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function eu(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const rz=[Ce.Down,Ce.Right,Ce.Up,Ce.Left],nz=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=t;if(rz.includes(e.code)){if(e.preventDefault(),!r||!n)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=s.get(f.id);if(h)switch(e.code){case Ce.Down:n.top<h.top&&l.push(f);break;case Ce.Up:n.top>h.top&&l.push(f);break;case Ce.Left:n.left>h.left&&l.push(f);break;case Ce.Right:n.left<h.left&&l.push(f);break}});const c=I$({active:r,collisionRect:n,droppableRects:s,droppableContainers:l,pointerCoordinates:null});let u=F_(c,"id");if(u===(o==null?void 0:o.id)&&c.length>1&&(u=c[1].id),u!=null){const f=i.get(r.id),h=i.get(u),m=h?s.get(h.id):null,y=h==null?void 0:h.node.current;if(y&&m&&f&&h){const w=Gu(y).some((k,C)=>a[C]!==k),v=ck(f,h),x=sz(f,h),b=w||!v?{x:0,y:0}:{x:x?n.width-m.width:0,y:x?n.height-m.height:0},S={x:m.left,y:m.top};return b.x&&b.y?S:$a(S,b)}}}};function ck(e,t){return!eu(e)||!eu(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function sz(e,t){return!eu(e)||!eu(t)||!ck(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const iz=({isVisible:e})=>{const{text:t,showCursor:r}=$O();return d.jsx("div",{className:`absolute top-0 left-0 w-full h-full p-3 text-muted-foreground pointer-events-none flex items-start transition-all duration-300 ease-out ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-1"}`,children:d.jsxs("span",{className:"text-base leading-relaxed",children:[t,r&&d.jsx("span",{className:"animate-pulse",children:"|"})]})})},hf=({task:e,index:t,isLiked:r,isUrgent:n,isQuick:s,estimatedTime:i,isLoadingTime:o,isLastInSection:a,onTagUpdate:l,onTimeUpdate:c,onReorder:u,onHover:f,isEditing:h,editingText:m,editInputRef:y,onTaskEdit:g,onTaskSave:w,onTaskCancel:v,onEditingTextChange:x,showNumber:b=!0,taskTitle:S,totalTimeSpent:_,tasksById:k,setShowImmersiveGallery:C,handleOpenGallery:T})=>{var U,Y,re,se,Se,ee;const[P,E]=p.useState(!1),{attributes:A,listeners:I,setNodeRef:L,transform:N,transition:$,isDragging:O}=ez({id:e}),z={transform:gs.Transform.toString(N),transition:$},j=ce=>{ce.key==="Enter"?(ce.preventDefault(),w==null||w(e,m||"")):ce.key==="Escape"?(ce.preventDefault(),v==null||v()):ce.key==="Backspace"&&m===""&&(ce.preventDefault(),w==null||w(e,""))},D=()=>{w==null||w(e,m||"")},F=()=>{g==null||g(e,S||"Untitled")};return d.jsxs("div",{ref:L,style:z,className:`${a?"":"border-b border-border/30"} hover:bg-muted/20 transition-colors ${O?"bg-card border border-border rounded-lg shadow-sm opacity-80":""}`,onMouseEnter:()=>{E(!0),f==null||f(t)},onMouseLeave:()=>{E(!1),f==null||f(void 0)},children:[d.jsxs("div",{className:"block sm:hidden",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3",children:[d.jsx("div",{...A,...I,className:"flex-shrink-0 w-6 h-6 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-xs font-medium cursor-grab hover:cursor-grabbing hover:scale-110 transition-transform touch-manipulation","aria-label":"Drag to reorder",children:b?t+1:""}),d.jsx("div",{className:"flex-1 min-w-0",children:h?d.jsx(Mr,{ref:y,value:m||"",onChange:ce=>x==null?void 0:x(ce.target.value),onKeyDown:j,onBlur:D,className:"text-sm font-medium leading-5 bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto",autoFocus:!0}):d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium leading-5 text-foreground break-words cursor-text",onDoubleClick:F,children:S||"Untitled Task"}),_&&d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsxs("p",{className:"text-xs text-gray-500",children:["Time Spent: ",_]}),k&&e&&((U=k[e])==null?void 0:U.parent_task_id)&&((re=k[(Y=k[e])==null?void 0:Y.parent_task_id])==null?void 0:re.collection_card_id)&&d.jsx("button",{onClick:()=>{var ne;const ce=(ne=k[e])==null?void 0:ne.parent_task_id,le=ce?k[ce]:null;le!=null&&le.collection_card_id&&(T==null||T(void 0,le.collection_card_id))},className:"text-gray-400 hover:text-gray-600 transition-colors",title:"View in collection",children:d.jsx(dh,{className:"h-3 w-3"})})]})]})})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 px-3 pb-3 pt-1 relative",children:[d.jsxs("div",{className:`absolute inset-0 flex items-center justify-center gap-3 transition-all duration-300 ease-in-out transform ${P?"translate-x-0 opacity-100":"translate-x-4 opacity-0 pointer-events-none"}`,children:[d.jsx("button",{className:`p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border ${r?"border-border text-red-500":"border-border text-gray-400"}`,onClick:()=>l("liked",!r),"aria-label":r?"Remove loved":"Mark as loved",children:d.jsx(zs,{className:`h-5 w-5 ${r?"fill-current":""}`})}),d.jsx("button",{className:`p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border ${n?"border-border text-yellow-500":"border-border text-gray-400"}`,onClick:()=>l("urgent",!n),"aria-label":n?"Remove urgent":"Mark as urgent",children:d.jsx(Fs,{className:`h-5 w-5 ${n?"fill-current":""}`})}),d.jsx("button",{className:`p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border ${s?"border-border text-green-500":"border-border text-gray-400"}`,onClick:()=>l("quick",!s),"aria-label":s?"Remove quick":"Mark as quick",children:d.jsx(Us,{className:`h-5 w-5 ${s?"fill-current":""}`})})]}),d.jsxs("div",{className:`absolute inset-0 flex items-center justify-end gap-3 pr-3 transition-all duration-300 ease-in-out transform ${!P&&(r||n||s)?"translate-x-0 opacity-100":"translate-x-4 opacity-0 pointer-events-none"}`,children:[r&&d.jsx("button",{className:"p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border border-border text-red-500",onClick:()=>l("liked",!1),"aria-label":"Remove loved",children:d.jsx(zs,{className:"h-5 w-5 fill-current"})}),n&&d.jsx("button",{className:"p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border border-border text-yellow-500",onClick:()=>l("urgent",!1),"aria-label":"Remove urgent",children:d.jsx(Fs,{className:"h-5 w-5 fill-current"})}),s&&d.jsx("button",{className:"p-3 rounded-lg transition-colors duration-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center bg-card border border-border text-green-500",onClick:()=>l("quick",!1),"aria-label":"Remove quick",children:d.jsx(Us,{className:"h-5 w-5 fill-current"})})]}),d.jsx("div",{className:"invisible flex items-center gap-3",children:d.jsx("div",{className:"p-3 min-w-[44px] min-h-[44px]"})})]}),(i||o)&&d.jsx("div",{className:"flex justify-center px-3 pb-2",children:d.jsx(S0,{value:i,isLoading:o,onChange:c,placeholder:"15m"})})]}),d.jsxs("div",{className:"hidden sm:flex items-center gap-4 p-4",children:[d.jsx("div",{...A,...I,className:"flex-shrink-0 w-6 h-6 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-xs font-medium cursor-grab hover:cursor-grabbing hover:scale-110 transition-transform","aria-label":"Drag to reorder",children:b?t+1:""}),d.jsx("div",{className:"flex-1 min-w-0",children:h?d.jsx(Mr,{ref:y,value:m||"",onChange:ce=>x==null?void 0:x(ce.target.value),onKeyDown:j,onBlur:D,className:"text-sm font-medium leading-6 bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto",autoFocus:!0}):d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium leading-6 text-foreground truncate cursor-text",onDoubleClick:F,children:S||"Untitled Task"}),_&&d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsxs("p",{className:"text-xs text-gray-500",children:["Time Spent: ",_]}),k&&((se=k[e])==null?void 0:se.parent_task_id)&&((ee=k[(Se=k[e])==null?void 0:Se.parent_task_id])==null?void 0:ee.collection_card_id)&&d.jsx("button",{onClick:()=>{var ne;const ce=(ne=k[e])==null?void 0:ne.parent_task_id,le=ce?k[ce]:null;le!=null&&le.collection_card_id&&(T==null||T(void 0,le.collection_card_id))},className:"text-gray-400 hover:text-gray-600 transition-colors",title:"View in collection",children:d.jsx(dh,{className:"h-3 w-3"})})]})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:`flex items-center gap-2 transition-all duration-300 ease-in-out transform ${P?"translate-x-0 opacity-100":"translate-x-4 opacity-0 pointer-events-none"}`,children:[d.jsx(zs,{className:`h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 ${r?"text-red-500 fill-red-500":"text-gray-400 hover:text-red-400"}`,onClick:()=>l("liked",!r)}),d.jsx(Fs,{className:`h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 ${n?"text-yellow-500 fill-yellow-500":"text-gray-400 hover:text-yellow-400"}`,onClick:()=>l("urgent",!n)}),d.jsx(Us,{className:`h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 ${s?"text-green-500 fill-green-500":"text-gray-400 hover:text-green-400"}`,onClick:()=>l("quick",!s)})]}),d.jsxs("div",{className:`absolute top-0 right-0 flex items-center gap-2 transition-all duration-300 ease-in-out transform ${!P&&(r||n||s)?"translate-x-0 opacity-100":"translate-x-4 opacity-0 pointer-events-none"}`,children:[r&&d.jsx(zs,{className:"h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 text-red-500 fill-red-500",onClick:()=>l("liked",!1)}),n&&d.jsx(Fs,{className:"h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 text-yellow-500 fill-yellow-500",onClick:()=>l("urgent",!1)}),s&&d.jsx(Us,{className:"h-5 w-5 cursor-pointer transition-colors duration-200 hover:scale-110 text-green-500 fill-green-500",onClick:()=>l("quick",!1)})]})]}),(i||o)&&d.jsx(S0,{value:i,isLoading:o,onChange:c,placeholder:"15m",className:"ml-3"})]})]})]})},F0=({id:e,children:t})=>{const{setNodeRef:r,isOver:n}=sk({id:e});return d.jsx("div",{ref:r,className:`transition-all duration-200 ${n?"bg-muted/20 rounded-lg min-h-[60px] pb-4":""}`,children:t})},oz=e=>{const{active:t,droppableContainers:r}=e,n=U_(e);return t.id&&typeof t.id=="string"?(t.id,n.filter(i=>{const o=i.id;return!0})):n},az=()=>{var Mm,Dm;const{enterPiP:e}=Fu(),[t,r]=p.useState("input"),[n,s]=p.useState(""),[i,o]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[f,h]=p.useState({}),[m,y]=p.useState({}),[g,w]=p.useState({}),[v,x]=p.useState(0),[b,S]=p.useState([]),[_,k]=p.useState([]),[C,T]=p.useState({}),[P,E]=p.useState({}),[A,I]=p.useState([]),[L,N]=p.useState(null),[$,O]=p.useState(!1),[z,j]=p.useState(void 0),[D,F]=p.useState(void 0),U=(M,R)=>{j(M),F(R),O(!0)},[Y,re]=p.useState(!1),[se,Se]=p.useState(!1),ee=["I guess I'll do something with this","Ok..ok..I'll sort your thoughts","Woah this is your brain at work?","Cool. Let me wrangle this mess","Alright, let's pretend I know what I'm doing"],[ce,le]=p.useState(0);p.useEffect(()=>{if(Y||se){const M=setInterval(()=>{le(R=>(R+1)%ee.length)},2500);return()=>clearInterval(M)}},[Y,se,ee.length]);const[ne,ae]=p.useState(null),[Ae,ue]=p.useState(!1),[W,Z]=p.useState(!1),[de,oe]=p.useState("brain-dump"),[me,be]=p.useState(!1),[he,Ze]=p.useState([]),[Xt,jn]=p.useState([]),[Er,_s]=p.useState(!1),[ks,Nn]=p.useState(null),[ut,wt]=p.useState(""),[xt,Rn]=p.useState(new Set),[Tr,Es]=p.useState({top:0,height:0}),[ci,ui]=p.useState(void 0),[Pt,Qt]=p.useState(!1),[Ts,pe]=p.useState(null),[Ie,Ee]=p.useState(""),{toast:Me}=xs(),Ne=p.useRef(null),He=p.useRef(null),Xe=p.useRef(null),jt=p.useRef(null),zt=p.useRef(null),Nt=p.useRef(null),Jt=j$(E0(Pm),E0(Tm,{coordinateGetter:nz}));p.useEffect(()=>{const M=()=>{if(jt.current){const H=jt.current.getBoundingClientRect();Es({top:H.top,height:H.height})}};M(),window.addEventListener("resize",M);const R=new ResizeObserver(M);return jt.current&&R.observe(jt.current),()=>{window.removeEventListener("resize",M),R.disconnect()}},[he,de,t]),p.useEffect(()=>{(async()=>{var G;const{data:{user:R}}=await X.auth.getUser();if(!R){window.location.href="/welcome";return}ae(R);const{data:H,error:V}=await X.from("profiles").select("task_start_preference, task_preferences, peak_energy_time, lowest_energy_time").eq("user_id",R.id).maybeSingle();if(V){console.error("Error fetching profile:",V),Me({title:"Error",description:"Failed to load your profile.",variant:"destructive"});return}if(H)N(H);else{console.log("No profile found, creating default profile...");const q={user_id:R.id,id:R.id,display_name:((G=R.email)==null?void 0:G.split("@")[0])||"User",task_start_preference:"easier_first",task_preferences:{},peak_energy_time:"morning",lowest_energy_time:"evening",onboarding_completed:!1},{error:te}=await X.from("profiles").insert(q);te?(console.error("Error creating default profile:",te),Me({title:"Error",description:"Failed to create user profile. Please try refreshing the page.",variant:"destructive"})):(N({task_start_preference:q.task_start_preference,task_preferences:q.task_preferences,peak_energy_time:q.peak_energy_time,lowest_energy_time:q.lowest_energy_time}),Me({title:"Profile Created",description:"A default profile has been created for you."}))}})()},[Me]),p.useEffect(()=>{const M=R=>{if(t!=="input"||W||Y||se)return;const H=document.activeElement;H&&(H.tagName==="INPUT"||H.tagName==="TEXTAREA")||R.key.length>1&&!["Space","Backspace","Delete"].includes(R.key)||R.ctrlKey||R.altKey||R.metaKey||!(R.key.length===1||["Space","Backspace","Delete"].includes(R.key))||(de==="brain-dump"&&Ne.current?(Ne.current.focus(),R.key==="Space"?s(G=>G+" "):R.key==="Backspace"?s(G=>G.slice(0,-1)):R.key==="Delete"||s(G=>G+R.key)):de==="list"&&He.current&&(He.current.focus(),R.key==="Space"?wt(G=>G+" "):R.key==="Backspace"?wt(G=>G.slice(0,-1)):R.key==="Delete"||wt(G=>G+R.key)),R.preventDefault())};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[t,W,Y,se,de]),p.useEffect(()=>{if(t==="input"&&!Y&&!se&&!W){const M=setTimeout(()=>{let R=null;de==="brain-dump"&&Ne.current?R=Ne.current:de==="list"&&He.current&&(R=He.current),R&&(R.focus(),setTimeout(()=>{R.blur()},50))},10);return()=>clearTimeout(M)}},[t,de,Y,se,W]),p.useEffect(()=>{ne&&Ju()},[ne]);const An=async()=>{if(console.log("handleBrainDumpSubmit called with text:",n),!n.trim()){console.log("No brain dump text provided");return}re(!0),Se(!0),be(!0),oe("list"),console.log("Starting clean transition...");try{console.log("Calling edge function with brain dump text...");const{data:M,error:R}=await X.functions.invoke("process-brain-dump",{body:{brainDumpText:n}});if(console.log("Edge function response:",{data:M,error:R}),R)throw console.error("Edge function error:",R),new Error("Failed to process brain dump");if(!(M!=null&&M.tasks))throw console.error("No tasks in response:",M),new Error("No tasks extracted from brain dump");console.log("Successfully extracted tasks:",M.tasks),o(M.tasks);const H={};M.tasks.forEach(q=>{const te=rc(q.estimated_time)||q.estimated_time;H[q.title]=te}),y(H);const V=M.tasks.map(q=>q.title);console.log(" Getting AI categorization for extracted tasks...");const G=await of(V);if(console.log(" AI categorization results:",G),ne){const q=M.tasks.map((Te,De)=>{const it=Te.estimated_time?gr(Te.estimated_time):null,ot=G[Te.title]||"Admin Work",je=it!==null&&it<=20;return{title:Te.title,user_id:ne.id,source:"brain_dump",list_location:"active",task_status:"task_list",category:ot,estimated_minutes:it,is_quick:je}}),{data:te,error:J}=await X.from("tasks").insert(q).select("id, title, list_location, task_status, is_liked, is_urgent, is_quick, category, estimated_minutes, notes");if(J)console.error("Error saving extracted tasks:",J);else if(te){console.log(" Successfully saved extracted tasks to database");const Te={},De=[],it={},ot={};te.forEach(je=>{if(Te[je.id]={id:je.id,title:je.title,list_location:je.list_location,task_status:je.task_status,is_liked:je.is_liked||!1,is_urgent:je.is_urgent||!1,is_quick:je.is_quick||!1,notes:je.notes||""},De.push(je.id),it[je.id]={isLiked:je.is_liked||!1,isUrgent:je.is_urgent||!1,isQuick:je.is_quick||!1},je.estimated_minutes){const fi=Math.floor(je.estimated_minutes/60),jo=je.estimated_minutes%60;fi>0?ot[je.id]=jo>0?`${fi}h ${jo}m`:`${fi}h`:ot[je.id]=`${jo}m`}}),w(je=>({...je,...Te})),S(De),T(je=>({...je,...it})),E(je=>({...je,...ot})),h(je=>({...je,...it})),y(je=>({...je,...ot})),l(De)}}setTimeout(()=>{oe("list");const q=M.tasks.map(te=>te.title);Ze(q),setTimeout(()=>{Se(!1)},100)},600)}catch(M){console.error("Error processing brain dump:",M);let R="Failed to process brain dump. Please try again.";M instanceof Error&&(M.message.includes("quota")||M.message.includes("billing")?R="OpenAI API quota exceeded. Please check your OpenAI billing at platform.openai.com/usage.":R=M.message),Me({title:"Error",description:R,variant:"destructive"}),Se(!1)}finally{re(!1),console.log("Processing finished, set isProcessing to false")}},st=async M=>{var H;const R=(H=M.target.files)==null?void 0:H[0];if(!(!R||!ne)){if(!R.type.startsWith("image/")){Me({title:"Error",description:"Please select an image file.",variant:"destructive"});return}re(!0),Se(!0),be(!0),oe("list"),console.log("Starting image upload transition...");try{const V=`public/${ne.id}_${Date.now()}_${R.name}`,{data:G,error:q}=await X.storage.from("brain-dumps-images").upload(V,R);if(q)throw new Error(`Failed to upload image: ${q.message}`);const{data:te}=X.storage.from("brain-dumps-images").getPublicUrl(G.path);if(!(te!=null&&te.publicUrl))throw new Error("Failed to get image URL");console.log("Calling edge function with image URL...");const{data:J,error:Te}=await X.functions.invoke("process-image-brain-dump",{body:{imageUrl:te.publicUrl}});if(console.log("Edge function response:",{data:J,error:Te}),Te)throw console.error("Edge function error:",Te),new Error("Failed to process image");if(!(J!=null&&J.tasks))throw console.error("No tasks in response:",J),new Error("No tasks extracted from image");console.log("Successfully extracted tasks:",J.tasks);const De=J.tasks.map(qr=>qr.title),it=await of(De);console.log("Categorized tasks:",it);const ot=J.tasks.map(qr=>{const fk=rc(qr.estimated_time)||qr.estimated_time,td=gr(fk),hk=td!==null&&td<=20;return{title:qr.title,user_id:ne.id,list_location:"active",task_status:"task_list",is_liked:!1,is_urgent:!1,is_quick:hk,category:it[qr.title]||"Technical Work",estimated_minutes:td}}),{data:je,error:fi}=await X.from("tasks").insert(ot).select("id, title, list_location, task_status, is_liked, is_urgent, is_quick, category, estimated_minutes");if(fi)throw console.error("Error saving extracted tasks:",fi),new Error("Failed to save tasks to database");console.log(" Successfully saved extracted tasks to database:",je),await Ju();const jo=je.map(qr=>qr.title);Ze(qr=>[...qr,...jo]),s(""),setTimeout(()=>{oe("list"),setTimeout(()=>{Se(!1)},100)},600)}catch(V){console.error("Error processing image:",V);let G="Failed to process image. Please try again.";V instanceof Error&&(V.message.includes("quota")||V.message.includes("billing")?G="OpenAI API quota exceeded. Please check your OpenAI billing at platform.openai.com/usage.":G=V.message),Me({title:"Error",description:G,variant:"destructive"}),Se(!1)}finally{re(!1),console.log("Processing finished, set isProcessing to false"),M.target.value=""}}},Wr=()=>{r("input"),s(""),o([]),l([]),u([]),Ze([]),jn([]),_s(!1),wt(""),h({}),y({}),Se(!1),be(!1),oe("brain-dump")},ur=async(M,R)=>{var H,V;try{Rn(ot=>new Set(ot).add(M));const{data:G,error:q}=await X.functions.invoke("process-brain-dump",{body:{brainDumpText:R}});let te="30m";!q&&((V=(H=G==null?void 0:G.tasks)==null?void 0:H[0])!=null&&V.estimated_time)&&(te=rc(G.tasks[0].estimated_time)||G.tasks[0].estimated_time);const J=await u$(R),Te=gr(te),De=Te!==null&&Te<=20,{error:it}=await X.from("tasks").update({estimated_minutes:Te,category:J,is_quick:De}).eq("id",M).eq("user_id",ne==null?void 0:ne.id);if(it){console.error("Error updating task with time/category:",it);return}E(ot=>({...ot,[M]:te})),w(ot=>({...ot,[M]:{...ot[M],category:J,estimated_minutes:Te}})),De&&(T(ot=>({...ot,[M]:{...ot[M]||{isLiked:!1,isUrgent:!1,isQuick:!1},isQuick:!0}})),console.log(` Auto-applied quick tag to manually added task "${R}"`))}catch(G){console.error("Failed to extract time estimate and category:",G)}finally{Rn(G=>{const q=new Set(G);return q.delete(M),q})}},dr=async()=>{if(!ut.trim())return;if(!ne){const{data:{user:R}}=await X.auth.getUser();if(!R)return;ae(R)}const M=ut.trim();try{const R=ne||(await X.auth.getUser()).data.user;if(!R)return;const{data:H,error:V}=await X.from("tasks").insert({title:M,user_id:R.id,list_location:"active",task_status:"task_list",is_liked:!1,is_urgent:!1,is_quick:!1}).select().single();if(V){console.error("Error creating task:",V);return}if(H){const G={id:H.id,title:H.title,list_location:H.list_location,task_status:H.task_status,is_liked:H.is_liked||!1,is_urgent:H.is_urgent||!1,is_quick:H.is_quick||!1,notes:H.notes||""};w(q=>({...q,[H.id]:G})),S(q=>[...q,H.id]),T(q=>({...q,[H.id]:{isLiked:!1,isUrgent:!1,isQuick:!1}})),wt(""),await ur(H.id,M)}}catch(R){console.error("Failed to create task:",R)}},Cs=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),dr())},Ps=()=>{he.length!==0&&(l(he),r("review"))},Hr=(M,R)=>{const H=[...a],V=H[M];H.splice(M,1),H.splice(R,0,V),l(H)},js=M=>{const{active:R,over:H}=M;if(R.id!==(H==null?void 0:H.id)){const V=a.findIndex(q=>q===R.id),G=a.findIndex(q=>q===(H==null?void 0:H.id));V!==-1&&G!==-1&&l(q=>fa(q,V,G))}},di=M=>{if(!M)return;if(M<60)return`${M}m`;const R=Math.floor(M/60),H=M%60;return H>0?`${R}h ${H}m`:`${R}h`},Nm=async M=>{if(ne)try{await X.from("tasks").update({task_status:"not_started"}).in("id",M).eq("task_status","task_list")}catch(R){console.error("Error updating tasks to not_started:",R)}},Rm=async M=>{if(console.log(" Shuffle button clicked - Using simplified shuffle function..."),!ne){Me({title:"Error",description:"Please sign in to shuffle tasks.",variant:"destructive"});return}r("game-cards"),re(!0);try{const{data:R,error:H}=await X.functions.invoke("shuffle-tasks",{body:{userId:ne.id}});if(H)throw console.error("Shuffle function error:",H),new Error("Failed to shuffle tasks");if(console.log(" Shuffle complete:",R),R.shuffledTasks&&R.shuffledTasks.length>0){const G=R.shuffledTasks.map(te=>te.id);S(G),console.log("Updated active task order:",G);const q=R.shuffledTasks.map((te,J)=>{const Te=g[te.id],De=C[te.id]||{isLiked:!1,isUrgent:!1,isQuick:!1};return Te?{id:te.id,title:Te.title,list_location:"active",task_status:"not_started",is_liked:De.isLiked,is_urgent:De.isUrgent,is_quick:De.isQuick,card_position:J+1,notes:Te.notes||""}:(console.warn(`Task not found for ID: ${te.id}`),null)}).filter(Boolean);u(q),setTimeout(()=>{e()},100)}const V=R.shuffledTasks?R.shuffledTasks.map(G=>G.id):b;await Nm(V),Me({title:"Tasks Shuffled!",description:R.message||"Tasks have been reordered using your preferences."}),setTimeout(()=>{console.log("Safety timeout: forcing processing to false after 3 seconds"),re(!1)},3e3)}catch(R){console.error("Error during shuffling:",R),Me({title:"Error",description:"Failed to shuffle tasks",variant:"destructive"}),r("review"),re(!1)}},Am=async M=>{const R=M||b;console.log(" Play in Order button clicked - Using manual task order...");const H=R.map((V,G)=>{const q=g[V],te=C[V]||{isLiked:!1,isUrgent:!1,isQuick:!1};return q?{id:V,title:q.title,list_location:"active",task_status:"task_list",is_liked:te.isLiked,is_urgent:te.isUrgent,is_quick:te.isQuick,card_position:G+1,notes:q.notes||""}:(console.warn(`Task not found for ID: ${V}`),null)}).filter(Boolean);console.log(" Setting tasks in manual order for game cards..."),u(H),await Nm(R),r("game-cards"),re(!0),setTimeout(()=>{e()},100),setTimeout(()=>{console.log("Safety timeout: forcing processing to false after 3 seconds"),re(!1)},3e3),setTimeout(async()=>{try{console.log(" Getting AI categorization for manual order logging...");const V=R.map(q=>{var te;return(te=g[q])==null?void 0:te.title}).filter(Boolean),G=await of(V);console.log(" Manual Task Organization:"),R.forEach((q,te)=>{const J=g[q],Te=C[q]||{isLiked:!1,isUrgent:!1,isQuick:!1},De=G[J==null?void 0:J.title]||"Admin Work";console.log(` Task #${te+1}: "${J==null?void 0:J.title}"`,{position:te+1,category:De,tags:{liked:Te.isLiked,urgent:Te.isUrgent,quick:Te.isQuick},reasoning:"User-defined order - no AI scoring applied"})})}catch(V){console.log("AI categorization failed (non-critical):",V)}},100)},uk=async M=>{if(!ne){Me({title:"Error",description:"Please sign in to save tasks.",variant:"destructive"});return}try{console.log(" Saving prioritized tasks to database:",M);const{error:R}=await X.from("tasks").insert(M);if(R)throw console.error("Database error saving prioritized tasks:",R),R;Me({title:"Success!",description:`${M.length} prioritized tasks saved`}),setTimeout(()=>{console.log("Safety timeout: forcing processing to false after 10 seconds"),re(!1)},1e4)}catch(R){console.error("Error saving prioritized tasks:",R);let H="Failed to save prioritized tasks";R.code==="23503"?H="Profile setup incomplete. Please complete onboarding first.":R.message&&(H=R.message),Me({title:"Error",description:H,variant:"destructive"})}},Xu=async(M,R)=>{var H;if(ne)try{const V=R?gr(R):null,G=V!==null&&V<=20,{error:q}=await X.from("tasks").update({estimated_minutes:V,is_quick:G}).eq("id",M);if(q)console.error("Error updating task estimated time:",q);else{const te=((H=g[M])==null?void 0:H.title)||M;console.log(` Updated estimated time for "${te}" to ${V} minutes`),T(J=>({...J,[M]:{...J[M]||{isLiked:!1,isUrgent:!1,isQuick:!1},isQuick:G}})),G?console.log(` Auto-applied quick tag to "${te}" (${V} minutes)`):V!==null&&V>20&&console.log(` Auto-removed quick tag from "${te}" (${V} minutes)`)}}catch(V){console.error("Failed to update task estimated time:",V)}},Qu=async(M,R,H)=>{if(ne)try{const V=R==="liked"?"is_liked":R==="urgent"?"is_urgent":"is_quick",{error:G}=await X.from("tasks").update({[V]:H}).eq("id",M);G?console.error(`Error updating task ${R} tag:`,G):console.log(` Updated ${R} tag for task ID ${M} to ${H}`)}catch(V){console.error(`Failed to update task ${R} tag:`,V)}},Im=async M=>{if(ne)try{const R=g[M];if(!R){console.error("Task not found for ID:",M);return}const H=C[M]||{isLiked:!1,isUrgent:!1,isQuick:!1},V=R.estimated_minutes,{error:G}=await X.from("tasks").update({list_location:"later",is_liked:H.isLiked,is_urgent:H.isUrgent,is_quick:H.isQuick,estimated_minutes:V}).eq("id",M).eq("list_location","active");if(G)throw console.error("Error saving later task:",G),G}catch(R){console.error("Failed to save later task:",R)}},Om=async M=>{if(ne)try{const{error:R}=await X.from("tasks").update({list_location:"active"}).eq("id",M).eq("list_location","later");if(R)throw console.error("Error moving task from later to active:",R),R}catch(R){console.error("Failed to move task from later to active:",R)}},Ju=async()=>{if(ne)try{const{data:M,error:R}=await X.from("tasks").select("id, title, list_location, task_status, is_liked, is_urgent, is_quick, category, estimated_minutes, notes, created_at, score, parent_task_id, time_spent_minutes, collection_card_id").eq("user_id",ne.id).in("list_location",["active","later","collection"]).order("created_at",{ascending:!0});if(R){console.error("Error loading tasks:",R);return}if(M){const H={},V=[],G=[],q={},te={};M.forEach(J=>{if(H[J.id]={id:J.id,title:J.title,list_location:J.list_location,task_status:J.task_status,is_liked:J.is_liked||!1,is_urgent:J.is_urgent||!1,is_quick:J.is_quick||!1,notes:J.notes||"",estimated_minutes:J.estimated_minutes,parent_task_id:J.parent_task_id,time_spent_minutes:Number(J.time_spent_minutes)||0,collection_card_id:J.collection_card_id},J.list_location==="active"?V.push(J.id):J.list_location==="later"&&G.push(J.id),q[J.id]={isLiked:J.is_liked||!1,isUrgent:J.is_urgent||!1,isQuick:J.is_quick||!1},J.estimated_minutes){const Te=Math.floor(J.estimated_minutes/60),De=J.estimated_minutes%60;Te>0?te[J.id]=De>0?`${Te}h ${De}m`:`${Te}h`:te[J.id]=`${De}m`}}),w(H),S(V),k(G),T(q),E(te),h(q),y(te),console.log(" Loaded all tasks:",{activeCount:V.length,laterCount:G.length,activeIds:V,laterIds:G,allTasks:M.map(J=>({id:J.id,title:J.title,list_location:J.list_location}))})}}catch(M){console.error("Failed to load tasks by ID:",M)}},Zu=(M,R)=>{pe(M),Ee(R),setTimeout(()=>{Xe.current&&(Xe.current.focus(),Xe.current.select())},0)},ed=async(M,R)=>{if(!ne)return;if(!R.trim()){await dk(M);return}const H=g[M];if(!H){Po();return}if(H.title===R.trim()){Po();return}const V=R.trim();try{const{error:G}=await X.from("tasks").update({title:V}).eq("id",M).eq("user_id",ne.id);if(G){console.error("Error updating task:",G);return}w(q=>({...q,[M]:{...q[M],title:V}})),pe(null),Ee("")}catch(G){console.error("Failed to update task:",G)}},dk=async M=>{const R=g[M],H=(R==null?void 0:R.title)||"Untitled Task";try{const{error:V}=await X.from("tasks").delete().eq("id",M).eq("user_id",ne==null?void 0:ne.id);if(V){console.error("Error deleting task:",V);return}S(G=>G.filter(q=>q!==M)),k(G=>G.filter(q=>q!==M)),l(G=>G.filter(q=>q!==M)),w(G=>{const q={...G};return delete q[M],q}),T(G=>{const q={...G};return delete q[M],q}),E(G=>{const q={...G};return delete q[M],q}),pe(null),Ee(""),Me({title:"Task deleted",description:`"${H}" has been removed.`})}catch(V){console.error("Failed to delete task:",V)}},Po=()=>{pe(null),Ee("")};return d.jsxs("div",{className:"h-screen bg-background p-2 sm:p-4 overflow-hidden",children:[t==="input"&&d.jsx("div",{className:"fixed top-2 right-2 sm:top-4 sm:right-4 z-50",children:d.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>Z(!0),children:d.jsx(QC,{className:"h-4 w-4"})})}),t!=="input"&&t!=="game-cards"&&d.jsxs(fe,{onClick:()=>{r(t==="prioritized"?"review":"input")},variant:"ghost",size:"sm",className:"fixed top-2 left-2 sm:top-4 sm:left-4 z-50 flex items-center gap-2",children:[d.jsx(Rc,{className:"h-4 w-4"}),"Back"]}),d.jsxs("div",{className:`${t==="game-cards"?"w-full":t==="input"?"sm:max-w-6xl sm:mx-auto sm:flex sm:items-center sm:justify-center h-full flex items-center justify-center px-2 sm:px-4":t==="review"?"max-w-6xl mx-auto flex items-center justify-center h-full":"max-w-6xl mx-auto"} space-y-6`,children:[t==="input"&&d.jsxs("div",{className:"relative w-full h-full max-h-[700px] flex items-center justify-center",children:[d.jsx(_0,{onOpenGallery:U,refreshTrigger:v}),d.jsxs(Wt,{ref:jt,id:"main-task-container",className:`border-0 w-full max-w-2xl h-full sm:h-auto flex flex-col transition-all duration-600 ease-out shadow-xl ${se?"shadow-2xl":""}`,style:{transition:"all 600ms cubic-bezier(0.4, 0, 0.2, 1), height 400ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:2},children:[d.jsxs(Ht,{className:"text-center px-4 sm:px-6 pb-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[d.jsx(pt,{htmlFor:"input-mode",className:`text-sm transition-colors duration-300 ${se?"text-muted-foreground":de==="brain-dump"?"text-foreground":"text-foreground/30"}`,children:"Capture"}),d.jsx(pS,{id:"input-mode",checked:de==="list",onCheckedChange:M=>!se&&oe(M?"list":"brain-dump"),disabled:se,className:"transition-all duration-300 ease-out data-[state=checked]:bg-input data-[state=unchecked]:bg-input"}),d.jsx(pt,{htmlFor:"input-mode",className:`text-sm transition-colors duration-300 ${se?"text-muted-foreground":de==="list"?"text-foreground":"text-foreground/30"}`,children:"Plan"})]}),d.jsx("div",{className:"h-px bg-border mt-4 mx-4 sm:mx-6"})]}),d.jsx(qt,{ref:zt,className:"flex-1 sm:flex-none flex flex-col px-4 sm:px-6 transition-all duration-500 ease-out",children:de==="brain-dump"?d.jsxs("div",{className:"min-h-[400px] flex flex-col",children:[d.jsx("div",{className:`relative transition-all duration-600 ease-out flex-1 ${se?"opacity-60 scale-[0.98]":"opacity-100 scale-100"}`,style:{marginTop:"12px"},children:d.jsxs("div",{className:"bg-card focus-within:bg-muted/50 transition-all duration-300 rounded-md relative",children:[d.jsx(um,{ref:Ne,value:n,onChange:M=>s(M.target.value),onFocus:()=>ue(!0),onBlur:()=>ue(!1),disabled:se,className:`h-full min-h-[320px] resize-none !text-base leading-relaxed border-none bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 pb-12 ${se?"text-muted-foreground":""}`,rows:8}),d.jsx(iz,{isVisible:!n&&!Ae&&!se}),d.jsxs("label",{className:"absolute bottom-3 left-3 z-50 cursor-pointer",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:st,disabled:Y||se,className:"sr-only","aria-label":"Upload image"}),d.jsx("div",{className:`p-2 rounded-md transition-all duration-200 ${Y||se?"opacity-50 cursor-not-allowed":"hover:bg-muted/30 cursor-pointer"}`,children:d.jsx(WC,{className:`w-5 h-5 transition-colors duration-200 ${Y||se?"text-gray-400":"text-gray-500 hover:text-gray-300"}`})})]})]})}),d.jsx(fe,{onClick:An,disabled:!n.trim()||Y||se,className:`w-full h-12 sm:h-11 transition-all duration-300 mt-3 ${se?"scale-95 shadow-sm":""}`,size:"lg",children:Y||se?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),ee[ce]]}):d.jsx(d.Fragment,{children:"Organise my Thoughts"})})]}):d.jsxs("div",{ref:Nt,className:"flex flex-col h-full max-h-[700px] min-h-[400px] relative",children:[se&&he.length===0&&d.jsx("div",{className:"absolute inset-0 bg-card rounded-lg z-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"flex justify-center space-x-3",children:[...Array(5)].map((M,R)=>d.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-bounce",style:{animationDelay:`${R*.15}s`}},R))}),d.jsx("div",{className:"text-base font-medium text-foreground",children:ee[ce]})]})}),d.jsx("div",{className:"flex-shrink-0 pb-3",style:{marginTop:"12px"},children:d.jsxs("div",{className:"flex rounded-md bg-card focus-within:bg-muted/50 transition-all duration-300",children:[d.jsx(Mr,{ref:He,value:ut,onChange:M=>wt(M.target.value),onKeyDown:Cs,placeholder:"Share your Intention...",className:`flex-1 border-none bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 !text-base leading-relaxed focus:bg-transparent ${b.length+_.length>0?"placeholder:text-muted-foreground/40":"placeholder:text-muted-foreground"}`,style:{backgroundColor:"transparent !important"}}),d.jsx(fe,{onClick:dr,disabled:!ut.trim(),size:"sm",variant:"ghost",className:"border-0 rounded-l-none hover:bg-transparent flex items-center justify-center p-2 h-auto aspect-square",children:d.jsx(YC,{className:"w-4 h-4"})})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:d.jsx("div",{className:"relative",children:d.jsxs(L0,{sensors:Jt,collisionDetection:oz,onDragStart:M=>{Nn(M.active.id)},onDragEnd:M=>{Nn(null);const{active:R,over:H}=M;if(!H)return;const V=R.id,G=H.id;if(G==="later-zone"){b.includes(V)&&(S(q=>q.filter(te=>te!==V)),k(q=>[...q,V]),Im(V));return}if(G==="active-zone"){_.includes(V)&&(k(q=>q.filter(te=>te!==V)),S(q=>[...q,V]),Om(V));return}if(_.includes(V)&&b.includes(G)){const q=b.findIndex(te=>te===G);k(te=>te.filter(J=>J!==V)),S(te=>{const J=[...te];return J.splice(q,0,V),J}),Om(V);return}if(b.includes(V)&&b.includes(G)){const q=b.findIndex(J=>J===V),te=b.findIndex(J=>J===G);q!==-1&&te!==-1&&S(J=>fa(J,q,te))}if(_.includes(V)&&_.includes(G)){const q=_.findIndex(J=>J===V),te=_.findIndex(J=>J===G);q!==-1&&te!==-1&&k(J=>fa(J,q,te))}},children:[d.jsxs("div",{children:[d.jsx(h$,{user:ne,activeTaskIds:b,tasksById:g,taskTagsById:C,taskTimeEstimatesById:P,setActiveTaskIds:S,setLaterTaskIds:k,saveTaskAsLater:Im}),d.jsx(F0,{id:"active-zone",children:d.jsx(ff,{items:b,strategy:df,children:d.jsx("div",{className:"space-y-2 transition-all duration-300 ease-out min-h-[40px]",children:(()=>{const M=b.filter(R=>{const H=g[R];return H&&H.title});return M.map((R,H)=>{const V=g[R],G=C[R]||{isLiked:!1,isUrgent:!1,isQuick:!1};return d.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 fill-mode-both",style:{animationDelay:`${H*100}ms`,animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:d.jsx(hf,{task:R,index:H,isLiked:G.isLiked,isUrgent:G.isUrgent,isQuick:G.isQuick,estimatedTime:P[R],isLoadingTime:xt.has(R),isLastInSection:H===M.length-1,taskTitle:(V==null?void 0:V.title)||"NO_TITLE_FOUND",totalTimeSpent:(()=>{const q=(J,Te=new Set)=>{if(Te.has(J))return 0;Te.add(J);const De=g[J];if(!De)return 0;const it=Number(De.time_spent_minutes)||0;return De.parent_task_id?it+q(De.parent_task_id,Te):it},te=q(R);return te>0?`${te}m`:null})(),tasksById:g,setShowImmersiveGallery:O,handleOpenGallery:U,onTimeUpdate:q=>{E(te=>({...te,[R]:q})),Xu(R,q)},onReorder:()=>{},onHover:ui,onTagUpdate:(q,te)=>{T(J=>({...J,[R]:{...J[R]||{isLiked:!1,isUrgent:!1,isQuick:!1},[q==="liked"?"isLiked":q==="urgent"?"isUrgent":"isQuick"]:te}})),Qu(R,q,te)},isEditing:Ts===R,editingText:Ie,editInputRef:Xe,onTaskEdit:Zu,onTaskSave:ed,onTaskCancel:Po,onEditingTextChange:Ee})},R)})})()})})}),b.length+_.length>=1&&d.jsx(F0,{id:"later-zone",children:d.jsxs("div",{className:"flex items-center gap-4 py-6 cursor-pointer hover:bg-muted/10 rounded-lg transition-colors group",onClick:()=>_s(!Er),children:[d.jsx("div",{className:"flex-1 h-px bg-border group-hover:bg-muted-foreground/50 transition-colors"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm text-foreground/30 font-medium group-hover:text-foreground transition-colors",children:["Later (",_.length,")"]}),_.length>0&&d.jsx(zx,{className:`h-4 w-4 text-foreground/30 group-hover:text-foreground transition-all duration-200 ${Er?"rotate-180":""}`})]}),d.jsx("div",{className:"flex-1 h-px bg-border group-hover:bg-muted-foreground/50 transition-colors"})]})}),b.length+_.length>=1&&Er&&_.length>0&&d.jsx(ff,{items:_,strategy:df,children:d.jsx("div",{className:"space-y-2 transition-all duration-300 ease-out overflow-hidden",children:(()=>{const M=_.filter(R=>{const H=g[R];return H&&H.title});return M.map((R,H)=>{const V=g[R],G=C[R]||{isLiked:!1,isUrgent:!1,isQuick:!1};return d.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 fill-mode-both",style:{animationDelay:`${H*100}ms`,animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:d.jsx(hf,{task:R,index:H,isLiked:G.isLiked,isUrgent:G.isUrgent,isQuick:G.isQuick,estimatedTime:P[R],isLoadingTime:xt.has(R),isLastInSection:H===M.length-1,taskTitle:(V==null?void 0:V.title)||"NO_TITLE_FOUND",totalTimeSpent:(()=>{const q=(J,Te=new Set)=>{if(Te.has(J))return 0;Te.add(J);const De=g[J];if(!De)return 0;const it=Number(De.time_spent_minutes)||0;return De.parent_task_id?it+q(De.parent_task_id,Te):it},te=q(R);return te>0?`${te}m`:null})(),tasksById:g,setShowImmersiveGallery:O,handleOpenGallery:U,onTimeUpdate:q=>{E(te=>({...te,[R]:q})),Xu(R,q)},onReorder:()=>{},onHover:ui,onTagUpdate:(q,te)=>{T(J=>({...J,[R]:{...J[R]||{isLiked:!1,isUrgent:!1,isQuick:!1},[q==="liked"?"isLiked":q==="urgent"?"isUrgent":"isQuick"]:te}})),Qu(R,q,te)},isEditing:Ts===R,editingText:Ie,editInputRef:Xe,onTaskEdit:Zu,onTaskSave:ed,onTaskCancel:Po,onEditingTextChange:Ee,showNumber:!1})},R)})})()})})]}),d.jsx(V4,{children:ks?d.jsx("div",{className:"bg-card border border-border rounded-lg shadow-lg p-3 opacity-95",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-xs font-medium"}),d.jsx("span",{className:"text-sm font-medium",children:((Mm=g[ks])==null?void 0:Mm.title)||"Untitled Task"})]})}):null})]})})}),d.jsx("div",{className:"flex-shrink-0 pt-4",children:me&&he.length===0&&Xt.length===0&&!se?d.jsx(fe,{onClick:Ps,disabled:b.length===0&&_.length===0&&!me,className:"w-full h-12 sm:h-11",size:"lg",children:"Shuffle"}):he.length>0||Xt.length>0||!se?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mt-12",children:[d.jsx(fe,{onClick:()=>{Rm()},disabled:b.length<=1||Y||se,className:"w-full h-12 sm:h-11 transition-all duration-300 hover:scale-105",size:"lg",children:"Shuffle"}),d.jsx(fe,{onClick:()=>{Am(b)},variant:"outline",disabled:b.length===0||Y||se,className:"w-full h-12 sm:h-11 transition-all duration-300 hover:scale-105",size:"lg",children:"Play in Order"})]}):null})]})})]}),de==="list"&&(he.length>0||b.length>0)&&d.jsx("div",{className:"hidden lg:block absolute w-80 overflow-y-auto transition-all duration-500 ease-in-out cursor-pointer group",style:{top:"50%",height:((Dm=jt.current)==null?void 0:Dm.offsetHeight)||"700px",transform:"translateY(-50%) translateX(0)",right:Pt?"-7rem":"13rem",zIndex:0},onMouseEnter:M=>{Pt||(M.currentTarget.style.transform="translateY(-50%) translateX(2rem)")},onMouseLeave:M=>{Pt||(M.currentTarget.style.transform="translateY(-50%) translateX(0)")},onClick:()=>Qt(!Pt),children:d.jsx(d$,{tasks:b.map(M=>{var R;return(R=g[M])==null?void 0:R.title}).filter(M=>M),timeEstimates:(()=>{const M={};return b.forEach(R=>{const H=g[R],V=P[R];H!=null&&H.title&&V&&(M[H.title]=V)}),{...m,...M}})(),hoveredTaskIndex:ci,className:Pt?"bg-transparent":""})})]}),t==="review"&&d.jsxs(Wt,{className:"mx-2 sm:mx-0 mt-16 sm:mt-0",children:[d.jsx(Ht,{className:"px-4 sm:px-6",children:d.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Tag anything that might be fun, urgent or quick."})}),d.jsxs(qt,{className:"space-y-3 sm:space-y-4 px-4 sm:px-6",children:[d.jsx(L0,{sensors:Jt,collisionDetection:A$,onDragEnd:js,children:d.jsx(ff,{items:a,strategy:df,children:d.jsx("div",{className:"space-y-2 sm:space-y-3",children:a.map((M,R)=>{const H=g[M];if(!H)return null;const V=C[M]||{isLiked:!1,isUrgent:!1,isQuick:!1};return d.jsx(hf,{task:M,index:R,isLiked:V.isLiked,isUrgent:V.isUrgent,isQuick:V.isQuick,estimatedTime:P[M],isLoadingTime:xt.has(M),isLastInSection:R===a.length-1,taskTitle:(H==null?void 0:H.title)||"NO_TITLE_FOUND",onTimeUpdate:G=>{y(q=>({...q,[H]:G})),Xu(H,G)},onReorder:Hr,onTagUpdate:(G,q)=>{h(te=>({...te,[H]:{...te[H]||{isLiked:!1,isUrgent:!1,isQuick:!1},[G==="liked"?"isLiked":G==="urgent"?"isUrgent":"isQuick"]:q}})),Qu(H,G,q)},isEditing:Ts===M,editingText:Ie,editInputRef:Xe,onTaskEdit:Zu,onTaskSave:ed,onTaskCancel:Po,onEditingTextChange:Ee},M)})})})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 pt-4 md:pt-6",children:[d.jsx(fe,{onClick:()=>Rm(),disabled:b.length<=1||Y,className:"w-full h-12 sm:h-11",size:"lg",children:"Shuffle the Deck"}),d.jsx(fe,{onClick:()=>Am(),variant:"outline",disabled:b.length===0||Y,className:"w-full h-12 sm:h-11",size:"lg",children:"Play in Order"})]})]})]}),t==="prioritized"&&d.jsxs(Wt,{children:[d.jsxs(Ht,{children:[d.jsxs(yr,{className:"flex items-center gap-2",children:[d.jsx(JC,{className:"h-5 w-5"}),"AI-Prioritized Task Order (",A.length," tasks)"]}),d.jsx("p",{className:"text-muted-foreground",children:"Here's how I've prioritized your tasks based on your preferences and tags"})]}),d.jsxs(qt,{className:"space-y-4",children:[d.jsx("div",{className:"space-y-4",children:A.map((M,R)=>d.jsx("div",{className:"p-4 bg-card border rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-lg font-bold",children:R+1}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h4",{className:"font-medium text-foreground",children:M.title}),d.jsxs(qo,{variant:"outline",className:"text-xs",children:["Score: ",M.priority_score]})]}),d.jsxs("div",{className:"flex gap-1",children:[M.is_liked&&d.jsx(qo,{variant:"secondary",className:"text-xs bg-rose-100 text-rose-700",children:"Love"}),M.is_urgent&&d.jsx(qo,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-700",children:"Urgent"}),M.is_quick&&d.jsx(qo,{variant:"secondary",className:"text-xs bg-green-100 text-green-700",children:"Quick"})]}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:M.explanation})]})]})},M.id))}),d.jsxs("div",{className:"flex gap-4 pt-6",children:[d.jsxs(fe,{onClick:()=>{const M=A.map((R,H)=>{const V=m[R.title],G=V?gr(V):null;return{title:R.title,user_id:ne.id,source:"brain_dump",list_location:"active",task_status:"task_list",category:R.category||"Admin Work",is_liked:R.is_liked,is_urgent:R.is_urgent,is_quick:R.is_quick,estimated_minutes:G,card_position:H+1}});uk(M)},className:"flex-1",size:"lg",children:["Save This Order",d.jsx($C,{className:"ml-2 h-4 w-4"})]}),d.jsx(fe,{onClick:()=>r("review"),variant:"outline",size:"lg",children:"Adjust Tags"})]})]})]}),t==="game-cards"&&d.jsxs(d.Fragment,{children:[d.jsx(_0,{onOpenGallery:U,refreshTrigger:v}),d.jsx(MD,{tasks:A.length>0?A.map(M=>({...M,estimated_time:P[M.id]||m[M.title]||di(M.estimated_minutes)})):c.map(M=>{var R;return{id:M.id,title:M.title,priority_score:M.card_position,explanation:`Task ${M.card_position} in your manual order`,is_liked:M.is_liked,is_urgent:M.is_urgent,is_quick:M.is_quick,estimated_time:P[M.id]||m[M.title]||di((R=g[M.id])==null?void 0:R.estimated_minutes),notes:M.notes}}),isLoading:Y,isProcessing:Y,onLoadingComplete:()=>re(!1),onComplete:async M=>{console.log("Finishing session with completed IDs:",M);const R=A.length>0?A.map(V=>({...V,estimated_time:m[V.title]})):c.map(V=>({id:V.id,title:V.title,priority_score:V.card_position,explanation:`Task ${V.card_position} in your manual order`,is_liked:V.is_liked,is_urgent:V.is_urgent,is_quick:V.is_quick,estimated_time:m[V.title]}));console.log("Game tasks:",R);const H=R.filter(V=>{const G=M.has(V.id);return console.log(`Task "${V.title}" (ID: ${V.id}) completed:`,G),!G});if(console.log("Incomplete tasks:",H),ne&&H.length>0){console.log("Moving incomplete tasks to later list:",H.map(V=>V.title));for(const V of H)try{await X.from("tasks").update({list_location:"later",task_status:"incomplete"}).eq("id",V.id)}catch(G){console.error("Error moving incomplete task to later:",G)}Me({title:"Session Complete!",description:`Great work! ${H.length} incomplete tasks saved for later.`})}else Me({title:"Session Complete!",description:"Great work on focusing through your tasks!"});await Ju(),Wr()},onTaskComplete:M=>{console.log("Task completed:",M),x(R=>R+1)}})]})]}),$&&d.jsx(p$,{onClose:()=>{O(!1),j(void 0),F(void 0)},initialCollectionId:z,initialCardId:D}),d.jsx(l$,{open:W,onOpenChange:Z})]})},lz=()=>d.jsx(jD,{children:d.jsx(az,{})}),cz=()=>{const e=Ya();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},uz=new Ab,dz=()=>d.jsx(Ib,{client:uz,children:d.jsx("div",{className:"dark",children:d.jsxs(kb,{children:[d.jsx(LP,{}),d.jsx(fj,{}),d.jsx(nR,{children:d.jsxs(X2,{children:[d.jsx(Is,{path:"/",element:d.jsx(lz,{})}),d.jsx(Is,{path:"/auth",element:d.jsx(qI,{})}),d.jsx(Is,{path:"/onboarding",element:d.jsx(bO,{})}),d.jsx(Is,{path:"/settings",element:d.jsx(PO,{})}),d.jsx(Is,{path:"/welcome",element:d.jsx(TI,{})}),d.jsx(Is,{path:"*",element:d.jsx(cz,{})})]})})]})})});Op(document.getElementById("root")).render(d.jsx(dz,{}));
